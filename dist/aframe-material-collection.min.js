!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=5)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ComponentControllerDefinition=class{constructor(e,t,i,n,o){this.features=[],this.componentName=e,this.schema=t,this.multiple=i,this.tick=n,this.constructComponentController=o}add(e){return this.features.push(e),this}};t.SystemControllerDefinition=class{constructor(e,t,i){this.systemName=e,this.schema=t,this.constructSystemController=i}},t.registerSystemController=function(e){"undefined"!=typeof AFRAME&&AFRAME.registerSystem(e.systemName,{schema:e.schema,init:function(){this.controller=e.constructSystemController(this,this.el,this.data),this.controller.init()},tick:function(e,t){this.controller.tick(e,t)},pause:function(){this.controller.pause()},play:function(){this.controller.play()}})},t.registerComponentController=function(e){"undefined"!=typeof AFRAME&&(e.tick?AFRAME.registerComponent(e.componentName,{schema:e.schema,multiple:e.multiple,init:function(){const t=e.constructComponentController(this,this.el,this.data);if(this.controller=t,t.addFeature){const i=t;for(const n of e.features)i.addFeature(n(i,t.entity))}else if(e.features.length>0)throw new Error("Attempt to add features to non composite component controller: "+e.componentName);this.controller.init()},update:function(e){this.controller.setData(this.data),this.controller.update(this.data,e)},remove:function(){this.controller.remove()},tick:function(e,t){this.controller.tick(e,t)},pause:function(){this.controller.pause()},play:function(){this.controller.play()}}):AFRAME.registerComponent(e.componentName,{schema:e.schema,multiple:e.multiple,init:function(){this.controller=e.constructComponentController(this,this.el,this.data),this.controller.init()},update:function(e){this.controller.setData(this.data),this.controller.update(this.data,e)},remove:function(){this.controller.remove()},pause:function(){this.controller.pause()},play:function(){this.controller.play()}}))},t.getSystemController=function(e,t){if(!e)throw new Error("Scene is undefined.");if(!e.systems)throw new Error("Scene systems is undefined.");const i=e.systems[t];if(!i)throw new Error("System is not registered to scene: "+i);return i.controller},t.getComponentController=function(e,t){const i=e.components[t];if(i)return i.controller},t.createElement=function(e){const t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},t.addEntityEventListener=function(e,t,i){e.addEventListener(t,e=>{i(e.detail)})},t.addDocumentEventListener=function(e,t){document.addEventListener(e,e=>{t(e.detail)})},t.getEntity=function(e){if(e.el)return e.el;let t=void 0;return e.traverseAncestors(e=>{void 0===t&&e.el&&(t=e)}),t?t.el:void 0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(26);t.UiElement=class extends n.AbstractComponentController{constructor(e,t,i){if(super(e,t,i),this.ui=void 0,this.ui=this.getSystemController("material-ui"),!this.ui)throw new Error("Material UI system not registered.")}init(){}update(e,t){}remove(){}pause(){}play(){}tick(e,t){}}},function(e,t){e.exports=AFRAME},function(e,t){e.exports=THREE},function(e,t){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=8)}([function(e,t,i){"use strict";var n,o,s,a,r,l,d,u,h,c,p,g,f,m,y,G;t.__esModule=!0,t.YGAlignCount=8,function(e){e[e.Auto=0]="Auto",e[e.FlexStart=1]="FlexStart",e[e.Center=2]="Center",e[e.FlexEnd=3]="FlexEnd",e[e.Stretch=4]="Stretch",e[e.Baseline=5]="Baseline",e[e.SpaceBetween=6]="SpaceBetween",e[e.SpaceAround=7]="SpaceAround"}(n=t.YGAlign||(t.YGAlign={})),t.YGAlignToString=function(e){switch(e){case n.Auto:return"auto";case n.FlexStart:return"flex-start";case n.Center:return"center";case n.FlexEnd:return"flex-end";case n.Stretch:return"stretch";case n.Baseline:return"baseline";case n.SpaceBetween:return"space-between";case n.SpaceAround:return"space-around"}return"unknown"},t.YGDimensionCount=2,function(e){e[e.Width=0]="Width",e[e.Height=1]="Height"}(o=t.YGDimension||(t.YGDimension={})),t.YGDimensionToString=function(e){switch(e){case o.Width:return"width";case o.Height:return"height"}return"unknown"},function(e){e[e.Inherit=0]="Inherit",e[e.LTR=1]="LTR",e[e.RTL=2]="RTL"}(s=t.YGDirection||(t.YGDirection={})),t.YGDirectionToString=function(e){switch(e){case s.Inherit:return"inherit";case s.LTR:return"ltr";case s.RTL:return"rtl"}return"unknown"},t.YGDisplayCount=2,function(e){e[e.Flex=0]="Flex",e[e.None=1]="None"}(a=t.YGDisplay||(t.YGDisplay={})),t.YGDisplayToString=function(e){switch(e){case a.Flex:return"flex";case a.None:return"none"}return"unknown"},t.YGEdgeCount=9,function(e){e[e.Left=0]="Left",e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=3]="Bottom",e[e.Start=4]="Start",e[e.End=5]="End",e[e.Horizontal=6]="Horizontal",e[e.Vertical=7]="Vertical",e[e.All=8]="All"}(r=t.YGEdge||(t.YGEdge={})),t.YGEdgeToString=function(e){switch(e){case r.Left:return"left";case r.Top:return"top";case r.Right:return"right";case r.Bottom:return"bottom";case r.Start:return"start";case r.End:return"end";case r.Horizontal:return"horizontal";case r.Vertical:return"vertical";case r.All:return"all"}return"unknown"},t.YGExperimentalFeatureCount=1,function(e){e[e.WebFlexBasis=0]="WebFlexBasis"}(l=t.YGExperimentalFeature||(t.YGExperimentalFeature={})),t.YGExperimentalFeatureToString=function(e){switch(e){case l.WebFlexBasis:return"web-flex-basis"}return"unknown"},t.YGFlexDirectionCount=4,function(e){e[e.Column=0]="Column",e[e.ColumnReverse=1]="ColumnReverse",e[e.Row=2]="Row",e[e.RowReverse=3]="RowReverse"}(d=t.YGFlexDirection||(t.YGFlexDirection={})),t.YGFlexDirectionToString=function(e){switch(e){case d.Column:return"column";case d.ColumnReverse:return"column-reverse";case d.Row:return"row";case d.RowReverse:return"row-reverse"}return"unknown"},t.YGJustifyCount=6,function(e){e[e.FlexStart=0]="FlexStart",e[e.Center=1]="Center",e[e.FlexEnd=2]="FlexEnd",e[e.SpaceBetween=3]="SpaceBetween",e[e.SpaceAround=4]="SpaceAround",e[e.SpaceEvenly=5]="SpaceEvenly"}(u=t.YGJustify||(t.YGJustify={})),t.YGJustifyToString=function(e){switch(e){case u.FlexStart:return"flex-start";case u.Center:return"center";case u.FlexEnd:return"flex-end";case u.SpaceBetween:return"space-between";case u.SpaceAround:return"space-around";case u.SpaceEvenly:return"space-evenly"}return"unknown"},t.YGLogLevelCount=6,function(e){e[e.Error=0]="Error",e[e.Warn=1]="Warn",e[e.Info=2]="Info",e[e.Debug=3]="Debug",e[e.Verbose=4]="Verbose",e[e.Fatal=5]="Fatal"}(h=t.YGLogLevel||(t.YGLogLevel={})),t.YGLogLevelToString=function(e){switch(e){case h.Error:return"error";case h.Warn:return"warn";case h.Info:return"info";case h.Debug:return"debug";case h.Verbose:return"verbose";case h.Fatal:return"fatal"}return"unknown"},t.YGMeasureModeCount=3,function(e){e[e.Undefined=0]="Undefined",e[e.Exactly=1]="Exactly",e[e.AtMost=2]="AtMost"}(c=t.YGMeasureMode||(t.YGMeasureMode={})),t.YGMeasureModeToString=function(e){switch(e){case c.Undefined:return"undefined";case c.Exactly:return"exactly";case c.AtMost:return"at-most"}return"unknown"},t.YGNodeTypeCount=2,function(e){e[e.Default=0]="Default",e[e.Text=1]="Text"}(p=t.YGNodeType||(t.YGNodeType={})),t.YGNodeTypeToString=function(e){switch(e){case p.Default:return"default";case p.Text:return"text"}return"unknown"},t.YGOverflowCount=3,function(e){e[e.Visible=0]="Visible",e[e.Hidden=1]="Hidden",e[e.Scroll=2]="Scroll"}(g=t.YGOverflow||(t.YGOverflow={})),t.YGOverflowToString=function(e){switch(e){case g.Visible:return"visible";case g.Hidden:return"hidden";case g.Scroll:return"scroll"}return"unknown"},t.YGPositionTypeCount=2,function(e){e[e.Relative=0]="Relative",e[e.Absolute=1]="Absolute"}(f=t.YGPositionType||(t.YGPositionType={})),t.YGPositionTypeToString=function(e){switch(e){case f.Relative:return"relative";case f.Absolute:return"absolute"}return"unknown"},t.YGPrintOptionsCount=3,function(e){e[e.Layout=1]="Layout",e[e.Style=2]="Style",e[e.Children=4]="Children"}(m=t.YGPrintOptions||(t.YGPrintOptions={})),t.YGPrintOptionsToString=function(e){switch(e){case m.Layout:return"layout";case m.Style:return"style";case m.Children:return"children"}return"unknown"},t.YGUnitCount=4,function(e){e[e.Undefined=0]="Undefined",e[e.Point=1]="Point",e[e.Percent=2]="Percent",e[e.Auto=3]="Auto"}(y=t.YGUnit||(t.YGUnit={})),t.YGUnitToString=function(e){switch(e){case y.Undefined:return"undefined";case y.Point:return"point";case y.Percent:return"percent";case y.Auto:return"auto"}return"unknown"},t.YGWrapCount=3,function(e){e[e.NoWrap=0]="NoWrap",e[e.Wrap=1]="Wrap",e[e.WrapReverse=2]="WrapReverse"}(G=t.YGWrap||(t.YGWrap={})),t.YGWrapToString=function(e){switch(e){case G.NoWrap:return"no-wrap";case G.Wrap:return"wrap";case G.WrapReverse:return"wrap-reverse"}return"unknown"}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0),o=i(9),s=i(5),a=i(6),r=i(2),l=i(7),d=i(3),u=i(4),h=function(){};function c(e,t){for(var i=e,n=0,o=t[0][0];n<o.length;n++){var s=o[n];i=i.replace(/%[d|s|f]/,s)}return i}function p(e,t,i,o){for(var s=[],a=4;a<arguments.length;a++)s[a-4]=arguments[a];switch(i){case n.YGLogLevel.Error:case n.YGLogLevel.Fatal:return console.error(c(o,s));case n.YGLogLevel.Warn:case n.YGLogLevel.Info:case n.YGLogLevel.Debug:case n.YGLogLevel.Verbose:default:return console.log(c(o,s))}}function g(e){return!(void 0!==e&&!isNaN(e))}t.YGSize=h,t.YGUndefined=void 0,t.YGValueUndefined=function(){return new l.YGValue(t.YGUndefined,n.YGUnit.Undefined)},t.YGValueAuto=function(){return new l.YGValue(t.YGUndefined,n.YGUnit.Auto)},t.YGValueZero=function(){return new l.YGValue(0,n.YGUnit.Point)},t.YGFloatIsUndefined=g,t.YGComputedEdgeValue=function(e,i,o){return e[i].unit!=n.YGUnit.Undefined?e[i]:i!=n.YGEdge.Top&&i!=n.YGEdge.Bottom||e[n.YGEdge.Vertical].unit==n.YGUnit.Undefined?i!=n.YGEdge.Left&&i!=n.YGEdge.Right&&i!=n.YGEdge.Start&&i!=n.YGEdge.End||e[n.YGEdge.Horizontal].unit==n.YGUnit.Undefined?e[n.YGEdge.All].unit!=n.YGUnit.Undefined?e[n.YGEdge.All]:i==n.YGEdge.Start||i==n.YGEdge.End?t.YGValueUndefined():o:e[n.YGEdge.Horizontal]:e[n.YGEdge.Vertical]},t.YGNodeGetContext=function(e){return e.getContext()},t.YGNodeSetContext=function(e,t){return e.setContext(t)},t.YGNodeGetMeasureFunc=function(e){return e.getMeasure()},t.YGNodeSetMeasureFunc=function(e,t){e.setMeasureFunc(t)},t.YGNodeGetBaselineFunc=function(e){return e.getBaseline()},t.YGNodeSetBaselineFunc=function(e,t){e.setBaseLineFunc(t)},t.YGNodeGetDirtiedFunc=function(e){return e.getDirtied()},t.YGNodeSetDirtiedFunc=function(e,t){e.setDirtiedFunc(t)},t.YGNodeGetPrintFunc=function(e){return e.getPrintFunc()},t.YGNodeSetPrintFunc=function(e,t){e.setPrintFunc(t)},t.YGNodeGetHasNewLayout=function(e){return e.getHasNewLayout()},t.YGNodeSetHasNewLayout=function(e,t){e.setHasNewLayout(t)},t.YGNodeGetNodeType=function(e){return e.getNodeType()},t.YGNodeSetNodeType=function(e,t){e.setNodeType(t)},t.YGNodeIsDirty=function(e){return e.isDirty()},t.YGNodeLayoutGetDidUseLegacyFlag=function(e){return e.didUseLegacyFlag()},t.YGNodeMarkDirtyAndPropogateToDescendants=function(e){e.markDirtyAndPropogateDownwards()};var f=0,m=0;function y(e){var t=new o.YGNode;return f++,e.useWebDefaults&&(t.setStyleFlexDirection(n.YGFlexDirection.Row),t.setStyleAlignContent(n.YGAlign.Stretch)),t.setConfig(e),t}function G(){return E()}function Y(e){console.log("clone?");var t=new o.YGNode(e);return f++,t.setOwner(null),t}function v(e){var t=new s.YGConfig(e.logger);return m++,t}function x(e){for(var t=Y(e),i=new Array(e.getChildren().length),n=null,o=0;o<e.getChildren().length;++o)(n=x(e.getChild(o))).setOwner(t),i.push(n);return t.setChildren(i),null!=e.getConfig()&&t.setConfig(v(e.getConfig())),t}function b(e){var t=e.getOwner();null!=t&&(t.removeChild(e),e.setOwner(null));for(var i=A(e),n=0;n<i;n++)F(e,n).setOwner(null);e.clearChildren(),f--}function D(e){null!=e.getConfig()&&(m--,e.setConfig(null));for(var t=0;t<e.getChildrenCount();++t)D(e.getChild(t))}function S(e){for(;A(e)>0;){var t=F(e,0);if(t.getOwner()!=e)break;w(e,t),S(t)}b(e)}function E(){var e=new s.YGConfig(p);return m++,e}function w(e,t){var i=A(e);if(0!=i)if(F(e,0).getOwner()!=e){for(var n=e.getConfig().cloneNodeCallback,o=0,s=0;s<i;s++){var r=e.getChild(s);if(t!=r){var l=null;n&&(l=n(r,e,o)),null==l&&(l=Y(r)),e.replaceChildIndex(l,o),l.setOwner(e),o++}else e.markDirtyAndPropogate()}for(;o<i;)e.removeChildIndex(o),o++}else e.removeChild(t)&&(t.setLayout(new a.YGLayout),t.setOwner(null),e.markDirtyAndPropogate())}function C(e,t){if(e){var i=e.getChildren();if(0==t.length){if(i.length>0){for(var n=0;n<i.length;n++){var o=i[n];o.setLayout(new a.YGLayout),o.setOwner(null)}e.setChildren(new Array),e.markDirtyAndPropogate()}}else{if(i.length>0)for(n=0;n<i.length;n++){var s=i[n];t.indexOf(s)<0&&(s.setLayout(new a.YGLayout),s.setOwner(null))}for(e.setChildren(t),n=0;n<t.length;n++)t[n].setOwner(e);e.markDirtyAndPropogate()}}}function F(e,t){var i=e.getChildren();return t<i.length?i[t]:null}function A(e){return e.getChildrenCount()}t.YGNodeNewWithConfig=y,t.YGConfigGetDefault=G,t.YGNodeNew=function(){return y(G())},t.YGNodeClone=Y,t.YGConfigClone=v,t.YGNodeDeepClone=x,t.YGNodeFree=b,t.YGConfigFreeRecursive=D,t.YGNodeFreeRecursive=S,t.YGNodeReset=function(e){Ye(e,0==A(e),"Cannot reset a node which still has children attached"),Ye(e,null==e.getOwner(),"Cannot reset a node still attached to a owner"),e.clearChildren();var t=e.getConfig();e.fromNode(new o.YGNode),t.useWebDefaults&&(e.setStyleFlexDirection(n.YGFlexDirection.Row),e.setStyleAlignContent(n.YGAlign.Stretch)),e.setConfig(t)},t.YGNodeGetInstanceCount=function(){return f},t.YGConfigGetInstanceCount=function(){return m},t.YGConfigNew=E,t.YGConfigFree=function(e){m--},t.YGConfigCopy=function(e,t){Object.assign(e,t)},t.YGNodeInsertChild=function(e,t,i){Ye(e,null==t.getOwner(),"Child already has a owner, it must be removed first."),Ye(e,null==e.getMeasure(),"Cannot add child: Nodes with measure functions cannot have children."),e.cloneChildrenIfNeeded(),e.insertChildIndex(t,i);var n=t.getOwner()?null:e;t.setOwner(n),e.markDirtyAndPropogate()},t.YGNodeInsertSharedChild=function(e,t,i){Ye(e,null==e.getMeasure(),"Cannot add child: Nodes with measure functions cannot have children."),e.insertChildIndex(t,i),t.setOwner(null),e.markDirtyAndPropogate()},t.YGNodeRemoveChild=w,t.YGNodeRemoveAllChildren=function(e){var t=A(e);if(0!=t){if(F(e,0).getOwner()==e){for(var i=0;i<t;i++){var n=F(e,i);n.setLayout(new a.YGLayout),n.setOwner(null)}return e.clearChildren(),void e.markDirtyAndPropogate()}e.setChildren(new Array),e.markDirtyAndPropogate()}},t.YGNodeSetChildrenInternal=C,t.YGNodeSetChildren=function(e,t){C(e,t)},t.YGNodeGetChild=F,t.YGNodeGetChildCount=A,t.YGNodeGetOwner=function(e){return e.getOwner()},t.YGNodeGetParent=function(e){return e.getOwner()},t.YGNodeMarkDirty=function(e){Ye(e,null!=e.getMeasure(),"Only leaf nodes with custom measure functions should manually mark themselves as dirty"),e.markDirtyAndPropogate()},t.YGNodeCopyStyle=function(e,t){e.getStyle().isEqual(t.getStyle())||(e.setStyle(t.getStyle()),e.markDirtyAndPropogate())},t.YGNodeStyleGetFlexGrow=function(e){return e.getStyle().flexGrow.isUndefined()?u.kDefaultFlexGrow:e.getStyle().flexGrow.getValue()},t.YGNodeStyleGetFlexShrink=function(e){return e.getStyle().flexShrink.isUndefined()?e.getConfig().useWebDefaults?u.kWebDefaultFlexShrink:u.kDefaultFlexShrink:e.getStyle().flexShrink.getValue()},t.YGNodeStyleSetDirection=function(e,t){if(e.getStyle().direction!=t){var i=e.getStyle();i.direction=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetDirection=function(e){return e.getStyle().direction},t.YGNodeStyleSetFlexDirection=function(e,t){if(e.getStyle().flexDirection!=t){var i=e.getStyle();i.flexDirection=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetFlexDirection=function(e){return e.getStyle().flexDirection},t.YGNodeStyleSetJustifyContent=function(e,t){if(e.getStyle().justifyContent!=t){var i=e.getStyle();i.justifyContent=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetJustifyContent=function(e){return e.getStyle().justifyContent},t.YGNodeStyleSetAlignContent=function(e,t){if(e.getStyle().alignContent!=t){var i=e.getStyle();i.alignContent=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetAlignContent=function(e){return e.getStyle().alignContent},t.YGNodeStyleSetAlignItems=function(e,t){if(e.getStyle().alignItems!=t){var i=e.getStyle();i.alignItems=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetAlignItems=function(e){return e.getStyle().alignItems},t.YGNodeStyleSetAlignSelf=function(e,t){if(e.getStyle().alignSelf!=t){var i=e.getStyle();i.alignSelf=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetAlignSelf=function(e){return e.getStyle().alignSelf},t.YGNodeStyleSetPositionType=function(e,t){if(e.getStyle().positionType!=t){var i=e.getStyle();i.positionType=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetPositionType=function(e){return e.getStyle().positionType},t.YGNodeStyleSetFlexWrap=function(e,t){if(e.getStyle().flexWrap!=t){var i=e.getStyle();i.flexWrap=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetFlexWrap=function(e){return e.getStyle().flexWrap},t.YGNodeStyleSetOverflow=function(e,t){if(e.getStyle().overflow!=t){var i=e.getStyle();i.overflow=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetOverflow=function(e){return e.getStyle().overflow},t.YGNodeStyleSetDisplay=function(e,t){if(e.getStyle().display!=t){var i=e.getStyle();i.display=t,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetDisplay=function(e){return e.getStyle().display},t.YGNodeStyleSetPosition=function(e,t,i){var o=new l.YGValue(d.YGFloatSanitize(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().position[t].value!=o.value&&o.unit!=n.YGUnit.Undefined||e.getStyle().position[t].unit!=o.unit){var s=e.getStyle();s.position[t]=o,e.setStyle(s),e.markDirtyAndPropogate()}},t.YGNodeStyleSetPositionPercent=function(e,t,i){var o=new l.YGValue(d.YGFloatSanitize(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().position[t].value!=o.value&&o.unit!=n.YGUnit.Undefined||e.getStyle().position[t].unit!=o.unit){var s=e.getStyle();s.position[t]=o,e.setStyle(s),e.markDirtyAndPropogate()}},t.YGNodeStyleGetPosition=function(e,i){var o=e.getStyle().position[i];return o.unit!=n.YGUnit.Undefined&&o.unit!=n.YGUnit.Auto||(o.value=t.YGUndefined),o},t.YGNodeStyleSetMargin=function(e,t,i){var o=new l.YGValue(d.YGFloatSanitize(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().margin[t].value!=o.value&&o.unit!=n.YGUnit.Undefined||e.getStyle().margin[t].unit!=o.unit){var s=e.getStyle();s.margin[t]=o,e.setStyle(s),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMarginPercent=function(e,t,i){var o=new l.YGValue(d.YGFloatSanitize(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().margin[t].value!=o.value&&o.unit!=n.YGUnit.Undefined||e.getStyle().margin[t].unit!=o.unit){var s=e.getStyle();s.margin[t]=o,e.setStyle(s),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMargin=function(e,i){var o=e.getStyle().margin[i];return o.unit!=n.YGUnit.Undefined&&o.unit!=n.YGUnit.Auto||(o.value=t.YGUndefined),o},t.YGNodeStyleSetPadding=function(e,t,i){var o=new l.YGValue(d.YGFloatSanitize(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().padding[t].value!=o.value&&o.unit!=n.YGUnit.Undefined||e.getStyle().padding[t].unit!=o.unit){var s=e.getStyle();s.padding[t]=o,e.setStyle(s),e.markDirtyAndPropogate()}},t.YGNodeStyleSetPaddingPercent=function(e,t,i){var o=new l.YGValue(d.YGFloatSanitize(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().padding[t].value!=o.value&&o.unit!=n.YGUnit.Undefined||e.getStyle().padding[t].unit!=o.unit){var s=e.getStyle();s.padding[t]=o,e.setStyle(s),e.markDirtyAndPropogate()}},t.YGNodeStyleGetPadding=function(e,i){var o=e.getStyle().padding[i];return o.unit!=n.YGUnit.Undefined&&o.unit!=n.YGUnit.Auto||(o.value=t.YGUndefined),o},t.YGNodeStyleSetMarginAuto=function(e,t){if(e.getStyle().margin[t].unit!=n.YGUnit.Auto){var i=e.getStyle();i.margin[t].value=0,i.margin[t].unit=n.YGUnit.Auto,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetWidth=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().dimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().dimensions[n.YGDimension.Width].unit!=i.unit){var o=e.getStyle();o.dimensions[n.YGDimension.Width]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleSetWidthPercent=function(e,t){if(e.getStyle().dimensions[n.YGDimension.Width].value!=d.YGFloatSanitize(t)||e.getStyle().dimensions[n.YGDimension.Width].unit!=n.YGUnit.Percent){var i=e.getStyle();i.dimensions[n.YGDimension.Width].value=d.YGFloatSanitize(t),i.dimensions[n.YGDimension.Width].unit=g(t)?n.YGUnit.Auto:n.YGUnit.Percent,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetWidthAuto=function(e){if(e.getStyle().dimensions[n.YGDimension.Width].unit!=n.YGUnit.Auto){var t=e.getStyle();t.dimensions[n.YGDimension.Width].value=0,t.dimensions[n.YGDimension.Width].unit=n.YGUnit.Auto,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleGetWidth=function(e){var i=e.getStyle().dimensions[n.YGDimension.Width];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetHeight=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().dimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().dimensions[n.YGDimension.Height].unit!=i.unit){var o=e.getStyle();o.dimensions[n.YGDimension.Height]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleSetHeightPercent=function(e,t){if(e.getStyle().dimensions[n.YGDimension.Height].value!=d.YGFloatSanitize(t)||e.getStyle().dimensions[n.YGDimension.Height].unit!=n.YGUnit.Percent){var i=e.getStyle();i.dimensions[n.YGDimension.Height].value=d.YGFloatSanitize(t),i.dimensions[n.YGDimension.Height].unit=g(t)?n.YGUnit.Auto:n.YGUnit.Percent,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetHeightAuto=function(e){if(e.getStyle().dimensions[n.YGDimension.Height].unit!=n.YGUnit.Auto){var t=e.getStyle();t.dimensions[n.YGDimension.Height].value=0,t.dimensions[n.YGDimension.Height].unit=n.YGUnit.Auto,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleGetHeight=function(e){var i=e.getStyle().dimensions[n.YGDimension.Height];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetMinWidth=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().minDimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().minDimensions[n.YGDimension.Width].unit!=i.unit){var o=e.getStyle();o.minDimensions[n.YGDimension.Width]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMinWidthPercent=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().minDimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().minDimensions[n.YGDimension.Width].unit!=i.unit){var o=e.getStyle();o.minDimensions[n.YGDimension.Width]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMinWidth=function(e){var i=e.getStyle().minDimensions[n.YGDimension.Width];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetMinHeight=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().minDimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().minDimensions[n.YGDimension.Height].unit!=i.unit){var o=e.getStyle();o.minDimensions[n.YGDimension.Height]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMinHeightPercent=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().minDimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().minDimensions[n.YGDimension.Height].unit!=i.unit){var o=e.getStyle();o.minDimensions[n.YGDimension.Height]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMinHeight=function(e){var i=e.getStyle().minDimensions[n.YGDimension.Height];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetMaxWidth=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().maxDimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().maxDimensions[n.YGDimension.Width].unit!=i.unit){var o=e.getStyle();o.maxDimensions[n.YGDimension.Width]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMaxWidthPercent=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().maxDimensions[n.YGDimension.Width].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().maxDimensions[n.YGDimension.Width].unit!=i.unit){var o=e.getStyle();o.maxDimensions[n.YGDimension.Width]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMaxWidth=function(e){var i=e.getStyle().maxDimensions[n.YGDimension.Width];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetMaxHeight=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().maxDimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().maxDimensions[n.YGDimension.Height].unit!=i.unit){var o=e.getStyle();o.maxDimensions[n.YGDimension.Height]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleSetMaxHeightPercent=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Percent);if(e.getStyle().maxDimensions[n.YGDimension.Height].value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().maxDimensions[n.YGDimension.Height].unit!=i.unit){var o=e.getStyle();o.maxDimensions[n.YGDimension.Height]=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleGetMaxHeight=function(e){var i=e.getStyle().maxDimensions[n.YGDimension.Height];return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeLayoutGetLeft=function(e){return e.getLayout().position[n.YGEdge.Left]},t.YGNodeLayoutGetTop=function(e){return e.getLayout().position[n.YGEdge.Top]},t.YGNodeLayoutGetRight=function(e){return e.getLayout().position[n.YGEdge.Right]},t.YGNodeLayoutGetBottom=function(e){return e.getLayout().position[n.YGEdge.Bottom]},t.YGNodeLayoutGetWidth=function(e){return e.getLayout().dimensions[n.YGDimension.Width]},t.YGNodeLayoutGetHeight=function(e){return e.getLayout().dimensions[n.YGDimension.Height]},t.YGNodeLayoutGetDirection=function(e){return e.getLayout().direction},t.YGNodeLayoutGetHadOverflow=function(e){return e.getLayout().hadOverflow},t.YGNodeLayoutGetMargin=function(e,t){return Ye(e,t<=n.YGEdge.End,"Cannot get layout properties of multi-edge shorthands"),t==n.YGEdge.Left?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().margin[n.YGEdge.End]:e.getLayout().margin[n.YGEdge.Start]:t==n.YGEdge.Right?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().margin[n.YGEdge.Start]:e.getLayout().margin[n.YGEdge.End]:e.getLayout().margin[t]},t.YGNodeLayoutGetBorder=function(e,t){return Ye(e,t<=n.YGEdge.End,"Cannot get layout properties of multi-edge shorthands"),t==n.YGEdge.Left?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().border[n.YGEdge.End]:e.getLayout().border[n.YGEdge.Start]:t==n.YGEdge.Right?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().border[n.YGEdge.Start]:e.getLayout().border[n.YGEdge.End]:e.getLayout().border[t]},t.YGNodeLayoutGetPadding=function(e,t){return Ye(e,t<=n.YGEdge.End,"Cannot get layout properties of multi-edge shorthands"),t==n.YGEdge.Left?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().padding[n.YGEdge.End]:e.getLayout().padding[n.YGEdge.Start]:t==n.YGEdge.Right?e.getLayout().direction==n.YGDirection.RTL?e.getLayout().padding[n.YGEdge.Start]:e.getLayout().padding[n.YGEdge.End]:e.getLayout().padding[t]},t.YGNodeStyleSetFlex=function(e,t){if(e.getStyle().flex.isDiffValue(t)){var i=e.getStyle();g(t)?i.flex=new r.YGFloatOptional:i.flex=new r.YGFloatOptional(t),e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetFlex=function(e){return e.getStyle().flex.isUndefined()?t.YGUndefined:e.getStyle().flex.getValue()},t.YGNodeStyleSetFlexGrow=function(e,t){if(e.getStyle().flexGrow.isDiffValue(t)){var i=e.getStyle();g(t)?i.flexGrow=new r.YGFloatOptional:i.flexGrow=new r.YGFloatOptional(t),e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetFlexShrink=function(e,t){if(e.getStyle().flexShrink.isDiffValue(t)){var i=e.getStyle();g(t)?i.flexShrink=new r.YGFloatOptional:i.flexShrink=new r.YGFloatOptional(t),e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleGetFlexBasis=function(e){var i=e.getStyle().flexBasis;return i.unit!=n.YGUnit.Undefined&&i.unit!=n.YGUnit.Auto||(i.value=t.YGUndefined),i},t.YGNodeStyleSetFlexBasis=function(e,t){var i=new l.YGValue(d.YGFloatSanitize(t),g(t)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().flexBasis.value!=i.value&&i.unit!=n.YGUnit.Undefined||e.getStyle().flexBasis.unit!=i.unit){var o=e.getStyle();o.flexBasis=i,e.setStyle(o),e.markDirtyAndPropogate()}},t.YGNodeStyleSetFlexBasisPercent=function(e,t){if(e.getStyle().flexBasis.value!=t||e.getStyle().flexBasis.unit!=n.YGUnit.Percent){var i=e.getStyle();i.flexBasis.value=d.YGFloatSanitize(t),i.flexBasis.unit=g(t)?n.YGUnit.Auto:n.YGUnit.Percent,e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeStyleSetFlexBasisAuto=function(e){if(e.getStyle().flexBasis.unit!=n.YGUnit.Auto){var t=e.getStyle();t.flexBasis.value=0,t.flexBasis.unit=n.YGUnit.Auto,e.setStyle(t),e.markDirtyAndPropogate()}},t.YGNodeStyleSetBorder=function(e,t,i){var o=new l.YGValue(d.YGFloatSanitize(i),g(i)?n.YGUnit.Undefined:n.YGUnit.Point);if(e.getStyle().border[t].value!=o.value&&o.unit!=n.YGUnit.Undefined||e.getStyle().border[t].unit!=o.unit){var s=e.getStyle();s.border[t]=o,e.setStyle(s),e.markDirtyAndPropogate()}},t.YGNodeStyleGetBorder=function(e,i){return e.getStyle().border[i].unit==n.YGUnit.Undefined||e.getStyle().border[i].unit==n.YGUnit.Auto?t.YGUndefined:e.getStyle().border[i].value},t.YGNodeStyleGetAspectRatio=function(e){var i=e.getStyle().aspectRatio;return i.isUndefined()?t.YGUndefined:i.getValue()},t.YGNodeStyleSetAspectRatio=function(e,t){if(e.getStyle().aspectRatio.isDiffValue(t)){var i=e.getStyle();i.aspectRatio=new r.YGFloatOptional(t),e.setStyle(i),e.markDirtyAndPropogate()}},t.YGNodeLayoutGetDidLegacyStretchFlagAffectLayout=function(e){return e.getLayout().doesLegacyStretchFlagAffectsLayout};var L=0;function M(e,t,i){return d.YGUnwrapFloatOptional(e.getLeadingPaddingAndBorder(t,i).add(e.getTrailingPaddingAndBorder(t,i)))}function _(e,t){var i=t.getStyle().alignSelf==n.YGAlign.Auto?e.getStyle().alignItems:t.getStyle().alignSelf;return i==n.YGAlign.Baseline&&d.YGFlexDirectionIsColumn(e.getStyle().flexDirection)?n.YGAlign.FlexStart:i}function U(e){if(null!=e.getBaseline()){var t=e.getBaseline()(e,e.getLayout().measuredDimensions[n.YGDimension.Width],e.getLayout().measuredDimensions[n.YGDimension.Height]);return Ye(e,!g(t),"Expect custom baseline function to not return NaN"),t}for(var i=null,o=A(e),s=0;s<o;s++){var a=F(e,s);if(a.getLineIndex()>0)break;if(a.getStyle().positionType!=n.YGPositionType.Absolute){if(_(e,a)==n.YGAlign.Baseline){i=a;break}null==i&&(i=a)}}return null==i?e.getLayout().measuredDimensions[n.YGDimension.Height]:U(i)+i.getLayout().position[n.YGEdge.Top]}function N(e){if(d.YGFlexDirectionIsColumn(e.getStyle().flexDirection))return!1;if(e.getStyle().alignItems==n.YGAlign.Baseline)return!0;for(var t=A(e),i=0;i<t;i++){var o=F(e,i);if(o.getStyle().positionType==n.YGPositionType.Relative&&o.getStyle().alignSelf==n.YGAlign.Baseline)return!0}return!1}function P(e,t,i){return e.getLayout().measuredDimensions[u.dim[t]]+d.YGUnwrapFloatOptional(e.getLeadingMargin(t,i).add(e.getTrailingMargin(t,i)))}function T(e,t,i){var o=g(e.getResolvedDimension(u.dim[t]).value);return!(e.getResolvedDimension(u.dim[t]).unit==n.YGUnit.Auto||e.getResolvedDimension(u.dim[t]).unit==n.YGUnit.Undefined||e.getResolvedDimension(u.dim[t]).unit==n.YGUnit.Point&&!o&&e.getResolvedDimension(u.dim[t]).value<0||e.getResolvedDimension(u.dim[t]).unit==n.YGUnit.Percent&&!o&&(e.getResolvedDimension(u.dim[t]).value<0||g(i)))}function O(e,t){var i=e.getLayout().measuredDimensions[u.dim[t]];return!g(i)&&i>=0}function I(e,t,i,o){var s,a;return d.YGFlexDirectionIsColumn(t)?(s=d.YGResolveValue(e.getStyle().minDimensions[n.YGDimension.Height],o),a=d.YGResolveValue(e.getStyle().maxDimensions[n.YGDimension.Height],o)):d.YGFlexDirectionIsRow(t)&&(s=d.YGResolveValue(e.getStyle().minDimensions[n.YGDimension.Width],o),a=d.YGResolveValue(e.getStyle().maxDimensions[n.YGDimension.Width],o)),!a.isUndefined()&&a.getValue()>=0&&i>a.getValue()?a:!s.isUndefined()&&s.getValue()>=0&&i<s.getValue()?s:new r.YGFloatOptional(i)}function R(e,t,i,n,o){return d.YGFloatMax(d.YGUnwrapFloatOptional(I(e,t,i,n)),M(e,t,o))}function k(e,t,i){var n=t.getLayout().measuredDimensions[u.dim[i]];t.setLayoutPosition(e.getLayout().measuredDimensions[u.dim[i]]-n-t.getLayout().position[u.pos[i]],u.trailing[i])}function W(e,t,i,o,s,a){var r=d.YGResolveValue(e.getStyle().maxDimensions[u.dim[t]],i).add(e.getMarginForAxis(t,o));switch(s.value){case n.YGMeasureMode.Exactly:case n.YGMeasureMode.AtMost:a.value=r.isUndefined()||a.value<r.getValue()?a.value:r.getValue();break;case n.YGMeasureMode.Undefined:r.isUndefined()||(s.value=n.YGMeasureMode.AtMost,a.value=r.getValue())}}function V(e,i,o,s,a,l,h,c,p,f){var m,y,G,Y,v=d.YGResolveFlexDirection(e.getStyle().flexDirection,p),x=d.YGFlexDirectionIsRow(v),b=x?o:a,D=x?l:h,S=d.YGResolveValue(i.resolveFlexBasisPtr(),D),E=T(i,n.YGFlexDirection.Row,l),w=T(i,n.YGFlexDirection.Column,h);if(S.isUndefined()||g(b))if(x&&E)V=new r.YGFloatOptional(M(i,n.YGFlexDirection.Row,l)),i.setLayoutComputedFlexBasis(d.YGFloatOptionalMax(d.YGResolveValue(i.getResolvedDimension(n.YGDimension.Width),l),V));else if(!x&&w)V=new r.YGFloatOptional(M(i,n.YGFlexDirection.Column,l)),i.setLayoutComputedFlexBasis(d.YGFloatOptionalMax(d.YGResolveValue(i.getResolvedDimension(n.YGDimension.Height),h),V));else{m=t.YGUndefined,y=t.YGUndefined,G=n.YGMeasureMode.Undefined,Y=n.YGMeasureMode.Undefined;var C=d.YGUnwrapFloatOptional(i.getMarginForAxis(n.YGFlexDirection.Row,l)),F=d.YGUnwrapFloatOptional(i.getMarginForAxis(n.YGFlexDirection.Column,l));E&&(m=d.YGUnwrapFloatOptional(d.YGResolveValue(i.getResolvedDimension(n.YGDimension.Width),l))+C,G=n.YGMeasureMode.Exactly),w&&(y=d.YGUnwrapFloatOptional(d.YGResolveValue(i.getResolvedDimension(n.YGDimension.Height),h))+F,Y=n.YGMeasureMode.Exactly),(!x&&e.getStyle().overflow==n.YGOverflow.Scroll||e.getStyle().overflow!=n.YGOverflow.Scroll)&&g(m)&&!g(o)&&(m=o,G=n.YGMeasureMode.AtMost),(x&&e.getStyle().overflow==n.YGOverflow.Scroll||e.getStyle().overflow!=n.YGOverflow.Scroll)&&g(y)&&!g(a)&&(y=a,Y=n.YGMeasureMode.AtMost),i.getStyle().aspectRatio.isUndefined()||(x||G!=n.YGMeasureMode.Exactly?x&&Y==n.YGMeasureMode.Exactly&&(m=C+(y-F)*i.getStyle().aspectRatio.getValue(),G=n.YGMeasureMode.Exactly):(y=F+(m-C)/i.getStyle().aspectRatio.getValue(),Y=n.YGMeasureMode.Exactly));var A=!g(o)&&s==n.YGMeasureMode.Exactly,U=_(e,i)==n.YGAlign.Stretch&&G!=n.YGMeasureMode.Exactly;!x&&!E&&A&&U&&(m=o,G=n.YGMeasureMode.Exactly,i.getStyle().aspectRatio.isUndefined()||(y=(m-C)/i.getStyle().aspectRatio.getValue(),Y=n.YGMeasureMode.Exactly));var N=!g(a)&&c==n.YGMeasureMode.Exactly,P=_(e,i)==n.YGAlign.Stretch&&Y!=n.YGMeasureMode.Exactly;x&&!w&&N&&P&&(y=a,Y=n.YGMeasureMode.Exactly,i.getStyle().aspectRatio.isUndefined()||(m=(y-F)*i.getStyle().aspectRatio.getValue(),G=n.YGMeasureMode.Exactly));var O={value:G},I={value:m},R={value:Y},k={value:y};W(i,n.YGFlexDirection.Row,l,l,O,I),W(i,n.YGFlexDirection.Column,h,l,R,k),pe(i,I.value,k.value,p,O.value,R.value,l,h,!1,"measure",f),i.setLayoutComputedFlexBasis(new r.YGFloatOptional(d.YGFloatMax(i.getLayout().measuredDimensions[u.dim[v]],M(i,v,l))))}else if(i.getLayout().computedFlexBasis.isUndefined()||xe(i.getConfig(),n.YGExperimentalFeature.WebFlexBasis)&&i.getLayout().computedFlexBasisGeneration!=L){var V=new r.YGFloatOptional(M(i,v,l));i.setLayoutComputedFlexBasis(d.YGFloatOptionalMax(S,V))}i.setLayoutComputedFlexBasisGeneration(L)}function H(e,i,o,s,a,r,l){var h=d.YGResolveFlexDirection(e.getStyle().flexDirection,r),c=d.YGFlexDirectionCross(h,r),p=d.YGFlexDirectionIsRow(h),f=t.YGUndefined,m=t.YGUndefined,y=n.YGMeasureMode.Undefined,G=n.YGMeasureMode.Undefined,Y=d.YGUnwrapFloatOptional(i.getMarginForAxis(n.YGFlexDirection.Row,o)),v=d.YGUnwrapFloatOptional(i.getMarginForAxis(n.YGFlexDirection.Column,o));T(i,n.YGFlexDirection.Row,o)?f=d.YGUnwrapFloatOptional(d.YGResolveValue(i.getResolvedDimension(n.YGDimension.Width),o))+Y:i.isLeadingPositionDefined(n.YGFlexDirection.Row)&&i.isTrailingPosDefined(n.YGFlexDirection.Row)&&(f=e.getLayout().measuredDimensions[n.YGDimension.Width]-(e.getLeadingBorder(n.YGFlexDirection.Row)+e.getTrailingBorder(n.YGFlexDirection.Row))-d.YGUnwrapFloatOptional(i.getLeadingPosition(n.YGFlexDirection.Row,o).add(i.getTrailingPosition(n.YGFlexDirection.Row,o))),f=R(i,n.YGFlexDirection.Row,f,o,o)),T(i,n.YGFlexDirection.Column,a)?m=d.YGUnwrapFloatOptional(d.YGResolveValue(i.getResolvedDimension(n.YGDimension.Height),a))+v:i.isLeadingPositionDefined(n.YGFlexDirection.Column)&&i.isTrailingPosDefined(n.YGFlexDirection.Column)&&(m=e.getLayout().measuredDimensions[n.YGDimension.Height]-(e.getLeadingBorder(n.YGFlexDirection.Column)+e.getTrailingBorder(n.YGFlexDirection.Column))-d.YGUnwrapFloatOptional(i.getLeadingPosition(n.YGFlexDirection.Column,a).add(i.getTrailingPosition(n.YGFlexDirection.Column,a))),m=R(i,n.YGFlexDirection.Column,m,a,o)),(g(f)?!g(m):g(m))&&(i.getStyle().aspectRatio.isUndefined()||(g(f)?f=Y+(m-v)*i.getStyle().aspectRatio.getValue():g(m)&&(m=v+(f-Y)/i.getStyle().aspectRatio.getValue()))),(g(f)||g(m))&&(y=g(f)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly,G=g(m)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly,!p&&g(f)&&s!=n.YGMeasureMode.Undefined&&!g(o)&&o>0&&(f=o,y=n.YGMeasureMode.AtMost),pe(i,f,m,r,y,G,f,m,!1,"abs-measure",l),f=i.getLayout().measuredDimensions[n.YGDimension.Width]+d.YGUnwrapFloatOptional(i.getMarginForAxis(n.YGFlexDirection.Row,o)),m=i.getLayout().measuredDimensions[n.YGDimension.Height]+d.YGUnwrapFloatOptional(i.getMarginForAxis(n.YGFlexDirection.Column,o))),pe(i,f,m,r,n.YGMeasureMode.Exactly,n.YGMeasureMode.Exactly,f,m,!0,"abs-layout",l),i.isTrailingPosDefined(h)&&!i.isLeadingPositionDefined(h)?i.setLayoutPosition(e.getLayout().measuredDimensions[u.dim[h]]-i.getLayout().measuredDimensions[u.dim[h]]-e.getTrailingBorder(h)-d.YGUnwrapFloatOptional(i.getTrailingMargin(h,o))-d.YGUnwrapFloatOptional(i.getTrailingPosition(h,p?o:a)),u.leading[h]):i.isLeadingPositionDefined(h)||e.getStyle().justifyContent!=n.YGJustify.Center?i.isLeadingPositionDefined(h)||e.getStyle().justifyContent!=n.YGJustify.FlexEnd||i.setLayoutPosition(e.getLayout().measuredDimensions[u.dim[h]]-i.getLayout().measuredDimensions[u.dim[h]],u.leading[h]):i.setLayoutPosition((e.getLayout().measuredDimensions[u.dim[h]]-i.getLayout().measuredDimensions[u.dim[h]])/2,u.leading[h]),i.isTrailingPosDefined(c)&&!i.isLeadingPositionDefined(c)?i.setLayoutPosition(e.getLayout().measuredDimensions[u.dim[c]]-i.getLayout().measuredDimensions[u.dim[c]]-e.getTrailingBorder(c)-d.YGUnwrapFloatOptional(i.getTrailingMargin(c,o))-d.YGUnwrapFloatOptional(i.getTrailingPosition(c,p?a:o)),u.leading[c]):i.isLeadingPositionDefined(c)||_(e,i)!=n.YGAlign.Center?i.isLeadingPositionDefined(c)||(_(e,i)==n.YGAlign.FlexEnd?e.getStyle().flexWrap==n.YGWrap.WrapReverse:e.getStyle().flexWrap!=n.YGWrap.WrapReverse)||i.setLayoutPosition(e.getLayout().measuredDimensions[u.dim[c]]-i.getLayout().measuredDimensions[u.dim[c]],u.leading[c]):i.setLayoutPosition((e.getLayout().measuredDimensions[u.dim[c]]-i.getLayout().measuredDimensions[u.dim[c]])/2,u.leading[c])}function B(e,t,i,o,s,a,r){Ye(e,null!=e.getMeasure(),"Expected node to have custom measure function");var l=M(e,n.YGFlexDirection.Row,t),u=M(e,n.YGFlexDirection.Column,t),h=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Row,t)),c=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Column,t)),p=g(t)?t:d.YGFloatMax(0,t-h-l),f=g(i)?i:d.YGFloatMax(0,i-c-u);if(o==n.YGMeasureMode.Exactly&&s==n.YGMeasureMode.Exactly)e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Row,t-h,a,a),n.YGDimension.Width),e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Column,i-c,r,a),n.YGDimension.Height);else{var m=e.getMeasure()(e,p,o,f,s);e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Row,o==n.YGMeasureMode.Undefined||o==n.YGMeasureMode.AtMost?m.width+l:t-h,a,a),n.YGDimension.Width),e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Column,s==n.YGMeasureMode.Undefined||s==n.YGMeasureMode.AtMost?m.height+u:i-c,r,a),n.YGDimension.Height)}}function j(e,t,i,o,s,a,r){var l=M(e,n.YGFlexDirection.Row,a),u=M(e,n.YGFlexDirection.Column,a),h=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Row,a)),c=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Column,a));e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Row,o==n.YGMeasureMode.Undefined||o==n.YGMeasureMode.AtMost?l:t-h,a,a),n.YGDimension.Width),e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Column,s==n.YGMeasureMode.Undefined||s==n.YGMeasureMode.AtMost?u:i-c,r,a),n.YGDimension.Height)}function z(e,t,i,o,s,a,r){if(!g(t)&&o==n.YGMeasureMode.AtMost&&t<=0||!g(i)&&s==n.YGMeasureMode.AtMost&&i<=0||o==n.YGMeasureMode.Exactly&&s==n.YGMeasureMode.Exactly){var l=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Column,a)),u=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Row,a));return e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Row,g(t)||o==n.YGMeasureMode.AtMost&&t<0?0:t-u,a,a),n.YGDimension.Width),e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Column,g(i)||s==n.YGMeasureMode.AtMost&&i<0?0:i-l,r,a),n.YGDimension.Height),!0}return!1}function q(e){e.getLayout().clean(),e.setHasNewLayout(!0),e.cloneChildrenIfNeeded();for(var t=A(e),i=0;i<t;i++)q(e.getChild(i))}function J(e,t,i,o){var s=d.YGFlexDirectionIsRow(t)?n.YGFlexDirection.Row:n.YGFlexDirection.Column,a=d.YGFlexDirectionIsRow(t)?n.YGDimension.Width:n.YGDimension.Height,r=d.YGUnwrapFloatOptional(e.getMarginForAxis(s,o)),l=M(e,s,o),u=i-r-l;if(!g(u)){var h=d.YGResolveValue(e.getStyle().minDimensions[a],o),c=h.isUndefined()?0:h.getValue()-l,p=d.YGResolveValue(e.getStyle().maxDimensions[a],o),f=p.isUndefined()?Number.MAX_VALUE:p.getValue()-l;u=d.YGFloatMax(d.YGFloatMin(u,f),c)}return u}function X(e,t,i,o,s,a,l,u,h,c){var p=null,g=e.getChildren();if((d.YGFlexDirectionIsRow(l)?o:s)==n.YGMeasureMode.Exactly)for(var f=0;f<g.length;++f)if((m=g[f]).isNodeFlexible()){if(null!=p||d.YGFloatsEqual(m.resolveFlexGrow(),0)||d.YGFloatsEqual(m.resolveFlexShrink(),0)){p=null;break}p=m}for(f=0;f<g.length;++f){var m;if((m=g[f]).resolveDimension(),m.getStyle().display!=n.YGDisplay.None){if(h){var y=m.resolveDirection(a),G=d.YGFlexDirectionIsRow(l)?t:i,Y=d.YGFlexDirectionIsRow(l)?i:t;m.setPosition(y,G,Y,t)}m.getStyle().positionType!=n.YGPositionType.Absolute&&(m==p?(m.setLayoutComputedFlexBasisGeneration(L),m.setLayoutComputedFlexBasis(new r.YGFloatOptional(0))):V(e,m,t,o,i,t,i,s,a,u),c.value+=d.YGUnwrapFloatOptional(m.getLayout().computedFlexBasis.add(m.getMarginForAxis(l,t))))}else q(m),m.setHasNewLayout(!0),m.setDirty(!1)}}function Z(e,t,i,o,s,a,r){for(var l=new d.YGCollectFlexItemsRowValues,u=0,h=d.YGResolveFlexDirection(e.getStyle().flexDirection,e.resolveDirection(t)),c=e.getStyle().flexWrap!=n.YGWrap.NoWrap,p=a;p<e.getChildrenCount();p++){var g=e.getChild(p);if(g.getStyle().display!=n.YGDisplay.None&&g.getStyle().positionType!=n.YGPositionType.Absolute){g.setLineIndex(r);var f=d.YGUnwrapFloatOptional(g.getMarginForAxis(h,o)),m=d.YGUnwrapFloatOptional(I(g,h,d.YGUnwrapFloatOptional(g.getLayout().computedFlexBasis),i));if(u+m+f>s&&c&&l.itemsOnLine>0)break;u+=m+f,l.sizeConsumedOnCurrentLine+=m+f,l.itemsOnLine++,g.isNodeFlexible()&&(l.totalFlexGrowFactors+=g.resolveFlexGrow(),l.totalFlexShrinkScaledFactors+=-g.resolveFlexShrink()*d.YGUnwrapFloatOptional(g.getLayout().computedFlexBasis)),l.relativeChildren.push(g)}}return l.totalFlexGrowFactors>0&&l.totalFlexGrowFactors<1&&(l.totalFlexGrowFactors=1),l.totalFlexShrinkScaledFactors>0&&l.totalFlexShrinkScaledFactors<1&&(l.totalFlexShrinkScaledFactors=1),l.endOfLineIndex=p,l}function K(e,t,i,o,s,a,r,l,h,c,p,f,m){for(var y=0,G=0,Y=0,v=0,x=d.YGFlexDirectionIsRow(i),b=t.getStyle().flexWrap!=n.YGWrap.NoWrap,D=0;D<e.relativeChildren.length;++D){var S=e.relativeChildren[D],E=y=d.YGUnwrapFloatOptional(I(S,i,d.YGUnwrapFloatOptional(S.getLayout().computedFlexBasis),s));!g(e.remainingFreeSpace)&&e.remainingFreeSpace<0?0!=(G=-S.resolveFlexShrink()*y)&&(E=R(S,i,g(e.totalFlexShrinkScaledFactors)||0!=e.totalFlexShrinkScaledFactors?y+e.remainingFreeSpace/e.totalFlexShrinkScaledFactors*G:y+G,a,l)):!g(e.remainingFreeSpace)&&e.remainingFreeSpace>0&&(g(Y=S.resolveFlexGrow())||0==Y||(E=R(S,i,y+e.remainingFreeSpace/e.totalFlexGrowFactors*Y,a,l))),v+=E-y;var w=d.YGUnwrapFloatOptional(S.getMarginForAxis(i,l)),C=d.YGUnwrapFloatOptional(S.getMarginForAxis(o,l)),F=void 0,A=E+w,L=void 0,M=n.YGMeasureMode.Exactly;if(S.getStyle().aspectRatio.isUndefined())if(g(r)||T(S,o,r)||p!=n.YGMeasureMode.Exactly||b&&c||_(t,S)!=n.YGAlign.Stretch||S.marginLeadingValue(o).unit==n.YGUnit.Auto||S.marginTrailingValue(o).unit==n.YGUnit.Auto)if(T(S,o,r)){F=d.YGUnwrapFloatOptional(d.YGResolveValue(S.getResolvedDimension(u.dim[o]),r))+C;var U=S.getResolvedDimension(u.dim[o]).unit==n.YGUnit.Percent&&p!=n.YGMeasureMode.Exactly;L=g(F)||U?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly}else L=g(F=r)?n.YGMeasureMode.Undefined:n.YGMeasureMode.AtMost;else F=r,L=n.YGMeasureMode.Exactly;else F=x?(A-w)/S.getStyle().aspectRatio.getValue():(A-w)*S.getStyle().aspectRatio.getValue(),L=n.YGMeasureMode.Exactly,F+=C;var N={value:M},P={value:A},O={value:L},k={value:F};W(S,i,a,l,N,P),W(S,o,r,l,O,k),M=N.value,A=P.value,L=O.value,F=k.value;var V=!T(S,o,r)&&_(t,S)==n.YGAlign.Stretch&&S.marginLeadingValue(o).unit!=n.YGUnit.Auto&&S.marginTrailingValue(o).unit!=n.YGUnit.Auto,H=x?M:L,B=x?L:M;pe(S,x?A:F,x?F:A,t.getLayout().direction,H,B,l,h,f&&!V,"flex",m),t.setLayoutHadOverflow(t.getLayout().hadOverflow||S.getLayout().hadOverflow)}return v}function $(e,t,i,n,o){for(var s=0,a=0,r=0,l=0,u=0,h=0;h<e.relativeChildren.length;++h){var c=e.relativeChildren[h],p=d.YGUnwrapFloatOptional(I(c,t,d.YGUnwrapFloatOptional(c.getLayout().computedFlexBasis),i));e.remainingFreeSpace<0?g(s=-c.resolveFlexShrink()*p)||0==s||(l=R(c,t,r=p+e.remainingFreeSpace/e.totalFlexShrinkScaledFactors*s,n,o),g(r)||g(l)||r==l||(u+=l-p,e.totalFlexShrinkScaledFactors-=s)):!g(e.remainingFreeSpace)&&e.remainingFreeSpace>0&&(g(a=c.resolveFlexGrow())||0==a||(l=R(c,t,r=p+e.remainingFreeSpace/e.totalFlexGrowFactors*a,n,o),g(r)||g(l)||r==l||(u+=l-p,e.totalFlexGrowFactors-=a)))}e.remainingFreeSpace-=u}function Q(e,t,i,n,o,s,a,r,l,d,u,h,c){var p=t.remainingFreeSpace;$(t,i,o,s,r);var g=K(t,e,i,n,o,s,a,r,l,d,u,h,c);t.remainingFreeSpace=p-g}function ee(e,t,i,o,s,a,r,l,h,c,p,g,f){var m=e.getStyle();a==n.YGMeasureMode.AtMost&&t.remainingFreeSpace>0&&(m.minDimensions[u.dim[o]].unit==n.YGUnit.Undefined||d.YGResolveValue(m.minDimensions[u.dim[o]],l).isUndefined()?t.remainingFreeSpace=0:t.remainingFreeSpace=d.YGFloatMax(0,d.YGUnwrapFloatOptional(d.YGResolveValue(m.minDimensions[u.dim[o]],l))-(c-t.remainingFreeSpace)));for(var y=0,G=i;G<t.endOfLineIndex;G++)(D=e.getChild(G)).getStyle().positionType==n.YGPositionType.Relative&&(D.marginLeadingValue(o).unit==n.YGUnit.Auto&&y++,D.marginTrailingValue(o).unit==n.YGUnit.Auto&&y++);var Y=0,v=0,x=e.getStyle().justifyContent;if(0==y)switch(x){case n.YGJustify.Center:Y=t.remainingFreeSpace/2;break;case n.YGJustify.FlexEnd:Y=t.remainingFreeSpace;break;case n.YGJustify.SpaceBetween:v=t.itemsOnLine>1?d.YGFloatMax(t.remainingFreeSpace,0)/(t.itemsOnLine-1):0;break;case n.YGJustify.SpaceEvenly:Y=v=t.remainingFreeSpace/(t.itemsOnLine+1);break;case n.YGJustify.SpaceAround:Y=(v=t.remainingFreeSpace/t.itemsOnLine)/2;break;case n.YGJustify.FlexStart:}var b=d.YGUnwrapFloatOptional(e.getLeadingPaddingAndBorder(o,h));for(t.mainDim=b+Y,t.crossDim=0,G=i;G<t.endOfLineIndex;G++){var D,S=(D=e.getChild(G)).getStyle(),E=D.getLayout();S.display!=n.YGDisplay.None&&(S.positionType==n.YGPositionType.Absolute&&D.isLeadingPositionDefined(o)?f&&D.setLayoutPosition(d.YGUnwrapFloatOptional(D.getLeadingPosition(o,c))+e.getLeadingBorder(o)+d.YGUnwrapFloatOptional(D.getLeadingMargin(o,g)),u.pos[o]):S.positionType==n.YGPositionType.Relative?(D.marginLeadingValue(o).unit==n.YGUnit.Auto&&(t.mainDim+=t.remainingFreeSpace/y),f&&D.setLayoutPosition(E.position[u.pos[o]]+t.mainDim,u.pos[o]),D.marginTrailingValue(o).unit==n.YGUnit.Auto&&(t.mainDim+=t.remainingFreeSpace/y),f||r!=n.YGMeasureMode.Exactly?(t.mainDim+=v+P(D,o,g),t.crossDim=d.YGFloatMax(t.crossDim,P(D,s,g))):(t.mainDim+=v+d.YGUnwrapFloatOptional(D.getMarginForAxis(o,g))+d.YGUnwrapFloatOptional(E.computedFlexBasis),t.crossDim=p)):f&&D.setLayoutPosition(E.position[u.pos[o]]+e.getLeadingBorder(o)+Y,u.pos[o]))}t.mainDim+=d.YGUnwrapFloatOptional(e.getTrailingPaddingAndBorder(o,h))}function te(e,t,i,o,s,a,r,l,h,c){Ye(e,!g(t)||s==n.YGMeasureMode.Undefined,"availableWidth is indefinite so widthMeasureMode must be YGMeasureMode.Undefined"),Ye(e,!g(i)||a==n.YGMeasureMode.Undefined,"availableHeight is indefinite so heightMeasureMode must be YGMeasureMode.Undefined");var p=e.resolveDirection(o);e.setLayoutDirection(p);var f=d.YGResolveFlexDirection(n.YGFlexDirection.Row,p),m=d.YGResolveFlexDirection(n.YGFlexDirection.Column,p);if(e.setLayoutMargin(d.YGUnwrapFloatOptional(e.getLeadingMargin(f,r)),n.YGEdge.Start),e.setLayoutMargin(d.YGUnwrapFloatOptional(e.getTrailingMargin(f,r)),n.YGEdge.End),e.setLayoutMargin(d.YGUnwrapFloatOptional(e.getLeadingMargin(m,r)),n.YGEdge.Top),e.setLayoutMargin(d.YGUnwrapFloatOptional(e.getTrailingMargin(m,r)),n.YGEdge.Bottom),e.setLayoutBorder(e.getLeadingBorder(f),n.YGEdge.Start),e.setLayoutBorder(e.getTrailingBorder(f),n.YGEdge.End),e.setLayoutBorder(e.getLeadingBorder(m),n.YGEdge.Top),e.setLayoutBorder(e.getTrailingBorder(m),n.YGEdge.Bottom),e.setLayoutPadding(d.YGUnwrapFloatOptional(e.getLeadingPadding(f,r)),n.YGEdge.Start),e.setLayoutPadding(d.YGUnwrapFloatOptional(e.getTrailingPadding(f,r)),n.YGEdge.End),e.setLayoutPadding(d.YGUnwrapFloatOptional(e.getLeadingPadding(m,r)),n.YGEdge.Top),e.setLayoutPadding(d.YGUnwrapFloatOptional(e.getTrailingPadding(m,r)),n.YGEdge.Bottom),null==e.getMeasure()){var y=A(e);if(0!=y){if(h||!z(e,t,i,s,a,r,l)){e.cloneChildrenIfNeeded(),e.setLayoutHadOverflow(!1);var G=d.YGResolveFlexDirection(e.getStyle().flexDirection,p),Y=d.YGFlexDirectionCross(G,p),v=d.YGFlexDirectionIsRow(G),x=e.getStyle().flexWrap!=n.YGWrap.NoWrap,b=v?r:l,D=v?l:r,S=d.YGUnwrapFloatOptional(e.getLeadingPaddingAndBorder(Y,r)),E=M(e,G,r),w=M(e,Y,r),C=v?s:a,L=v?a:s,V=v?E:w,q=v?w:E,K=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Row,r)),$=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Column,r)),te=d.YGUnwrapFloatOptional(d.YGResolveValue(e.getStyle().minDimensions[n.YGDimension.Width],r))-V,ie=d.YGUnwrapFloatOptional(d.YGResolveValue(e.getStyle().maxDimensions[n.YGDimension.Width],r))-V,ne=d.YGUnwrapFloatOptional(d.YGResolveValue(e.getStyle().minDimensions[n.YGDimension.Height],l))-q,oe=d.YGUnwrapFloatOptional(d.YGResolveValue(e.getStyle().maxDimensions[n.YGDimension.Height],l))-q,se=v?te:ne,ae=v?ie:oe,re=J(e,n.YGFlexDirection.Row,t,r),le=J(e,n.YGFlexDirection.Column,i,l),de=v?re:le,ue=v?le:re,he={value:0};X(e,re,le,s,a,p,G,c,h,he);var ce=C!=n.YGMeasureMode.Undefined&&he.value>de;x&&ce&&C==n.YGMeasureMode.AtMost&&(C=n.YGMeasureMode.Exactly);for(var ge,fe=0,me=0,ye=0,Ge=0,ve=0;me<y;ye++,fe=me){me=(ge=Z(e,o,b,re,de,fe,ye)).endOfLineIndex;var xe=!h&&L==n.YGMeasureMode.Exactly,be=!1;C!=n.YGMeasureMode.Exactly&&(!g(se)&&ge.sizeConsumedOnCurrentLine<se?de=se:!g(ae)&&ge.sizeConsumedOnCurrentLine>ae?de=ae:(!e.getConfig().useLegacyStretchBehaviour&&(g(ge.totalFlexGrowFactors)&&0==ge.totalFlexGrowFactors||g(e.resolveFlexGrow())&&0==e.resolveFlexGrow())&&(de=ge.sizeConsumedOnCurrentLine),e.getConfig().useLegacyStretchBehaviour&&e.setLayoutDidUseLegacyFlag(!0),be=!e.getConfig().useLegacyStretchBehaviour)),be||g(de)?ge.sizeConsumedOnCurrentLine<0&&(ge.remainingFreeSpace=-ge.sizeConsumedOnCurrentLine):ge.remainingFreeSpace=de-ge.sizeConsumedOnCurrentLine,xe||Q(e,ge,G,Y,b,de,ue,re,le,ce,L,h,c),e.setLayoutHadOverflow(e.getLayout().hadOverflow||ge.remainingFreeSpace<0),ee(e,ge,fe,G,Y,C,L,b,r,de,ue,re,h);var De=ue;if(L!=n.YGMeasureMode.Undefined&&L!=n.YGMeasureMode.AtMost||(De=R(e,Y,ge.crossDim+w,D,r)-w),x||L!=n.YGMeasureMode.Exactly||(ge.crossDim=ue),ge.crossDim=R(e,Y,ge.crossDim+w,D,r)-w,h)for(var Se=fe;Se<me;Se++)if((Qe=e.getChild(Se)).getStyle().display!=n.YGDisplay.None)if(Qe.getStyle().positionType==n.YGPositionType.Absolute){var Ee=Qe.isLeadingPositionDefined(Y);Ee&&Qe.setLayoutPosition(d.YGUnwrapFloatOptional(Qe.getLeadingPosition(Y,ue))+e.getLeadingBorder(Y)+d.YGUnwrapFloatOptional(Qe.getLeadingMargin(Y,re)),u.pos[Y]),Ee&&!g(Qe.getLayout().position[u.pos[Y]])||Qe.setLayoutPosition(e.getLeadingBorder(Y)+d.YGUnwrapFloatOptional(Qe.getLeadingMargin(Y,re)),u.pos[Y])}else{var we=S,Ce=_(e,Qe);if(Ce==n.YGAlign.Stretch&&Qe.marginLeadingValue(Y).unit!=n.YGUnit.Auto&&Qe.marginTrailingValue(Y).unit!=n.YGUnit.Auto){if(!T(Qe,Y,ue)){var Fe=Qe.getLayout().measuredDimensions[u.dim[G]],Ae=Qe.getStyle().aspectRatio.isUndefined()?ge.crossDim:d.YGUnwrapFloatOptional(Qe.getMarginForAxis(Y,re))+(v?Fe/Qe.getStyle().aspectRatio.getValue():Fe*Qe.getStyle().aspectRatio.getValue());Fe+=d.YGUnwrapFloatOptional(Qe.getMarginForAxis(G,re));var Le=n.YGMeasureMode.Exactly,Me=n.YGMeasureMode.Exactly,_e={value:Le},Ue={value:Fe},Ne={value:Me},Pe={value:Ae};W(Qe,G,de,re,_e,Ue),W(Qe,Y,ue,re,Ne,Pe),Le=_e.value,Fe=Ue.value,Me=Ne.value,Ae=Pe.value,pe(Qe,Xe=v?Fe:Ae,Je=v?Ae:Fe,p,g(Xe)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly,g(Je)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly,re,le,!0,"stretch",c)}}else{var Te=De-P(Qe,Y,re);Qe.marginLeadingValue(Y).unit==n.YGUnit.Auto&&Qe.marginTrailingValue(Y).unit==n.YGUnit.Auto?we+=d.YGFloatMax(0,Te/2):Qe.marginTrailingValue(Y).unit==n.YGUnit.Auto||(Qe.marginLeadingValue(Y).unit==n.YGUnit.Auto?we+=d.YGFloatMax(0,Te):Ce==n.YGAlign.FlexStart||(Ce==n.YGAlign.Center?we+=Te/2:we+=Te))}Qe.setLayoutPosition(Qe.getLayout().position[u.pos[Y]]+Ge+we,u.pos[Y])}Ge+=ge.crossDim,ve=d.YGFloatMax(ve,ge.mainDim)}if(h&&(ye>1||N(e))&&!g(ue)){var Oe=ue-Ge,Ie=0,Re=S;switch(e.getStyle().alignContent){case n.YGAlign.FlexEnd:Re+=Oe;break;case n.YGAlign.Center:Re+=Oe/2;break;case n.YGAlign.Stretch:ue>Ge&&(Ie=Oe/ye);break;case n.YGAlign.SpaceAround:ue>Ge?(Re+=Oe/(2*ye),ye>1&&(Ie=Oe/ye)):Re+=Oe/2;break;case n.YGAlign.SpaceBetween:ue>Ge&&ye>1&&(Ie=Oe/(ye-1));break;case n.YGAlign.Auto:case n.YGAlign.FlexStart:case n.YGAlign.Baseline:}var ke=0;for(Se=0;Se<ye;Se++){var We=ke,Ve=void 0,He=0,Be=0,je=0;for(Ve=We;Ve<y;Ve++)if((Qe=e.getChild(Ve)).getStyle().display!=n.YGDisplay.None&&Qe.getStyle().positionType==n.YGPositionType.Relative){if(Qe.getLineIndex()!=Se)break;if(O(Qe,Y)&&(He=d.YGFloatMax(He,Qe.getLayout().measuredDimensions[u.dim[Y]]+d.YGUnwrapFloatOptional(Qe.getMarginForAxis(Y,re)))),_(e,Qe)==n.YGAlign.Baseline){var ze=U(Qe)+d.YGUnwrapFloatOptional(Qe.getLeadingMargin(n.YGFlexDirection.Column,re)),qe=Qe.getLayout().measuredDimensions[n.YGDimension.Height]+d.YGUnwrapFloatOptional(Qe.getMarginForAxis(n.YGFlexDirection.Column,re))-ze;Be=d.YGFloatMax(Be,ze),je=d.YGFloatMax(je,qe),He=d.YGFloatMax(He,Be+je)}}if(ke=Ve,He+=Ie,h)for(Ve=We;Ve<ke;Ve++)if((Qe=e.getChild(Ve)).getStyle().display!=n.YGDisplay.None&&Qe.getStyle().positionType==n.YGPositionType.Relative)switch(_(e,Qe)){case n.YGAlign.FlexStart:Qe.setLayoutPosition(Re+d.YGUnwrapFloatOptional(Qe.getLeadingMargin(Y,re)),u.pos[Y]);break;case n.YGAlign.FlexEnd:Qe.setLayoutPosition(Re+He-d.YGUnwrapFloatOptional(Qe.getTrailingMargin(Y,re))-Qe.getLayout().measuredDimensions[u.dim[Y]],u.pos[Y]);break;case n.YGAlign.Center:var Je=Qe.getLayout().measuredDimensions[u.dim[Y]];Qe.setLayoutPosition(Re+(He-Je)/2,u.pos[Y]);break;case n.YGAlign.Stretch:if(Qe.setLayoutPosition(Re+d.YGUnwrapFloatOptional(Qe.getLeadingMargin(Y,re)),u.pos[Y]),!T(Qe,Y,ue)){var Xe=v?Qe.getLayout().measuredDimensions[n.YGDimension.Width]+d.YGUnwrapFloatOptional(Qe.getMarginForAxis(G,re)):He;Je=v?He:Qe.getLayout().measuredDimensions[n.YGDimension.Height]+d.YGUnwrapFloatOptional(Qe.getMarginForAxis(Y,re)),d.YGFloatsEqual(Xe,Qe.getLayout().measuredDimensions[n.YGDimension.Width])&&d.YGFloatsEqual(Je,Qe.getLayout().measuredDimensions[n.YGDimension.Height])||pe(Qe,Xe,Je,p,n.YGMeasureMode.Exactly,n.YGMeasureMode.Exactly,re,le,!0,"multiline-stretch",c)}break;case n.YGAlign.Baseline:Qe.setLayoutPosition(Re+Be-U(Qe)+d.YGUnwrapFloatOptional(Qe.getLeadingPosition(n.YGFlexDirection.Column,ue)),n.YGEdge.Top);break;case n.YGAlign.Auto:case n.YGAlign.SpaceBetween:case n.YGAlign.SpaceAround:}Re+=He}}if(e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Row,t-K,r,r),n.YGDimension.Width),e.setLayoutMeasuredDimension(R(e,n.YGFlexDirection.Column,i-$,l,r),n.YGDimension.Height),C==n.YGMeasureMode.Undefined||e.getStyle().overflow!=n.YGOverflow.Scroll&&C==n.YGMeasureMode.AtMost?e.setLayoutMeasuredDimension(R(e,G,ve,b,r),u.dim[G]):C==n.YGMeasureMode.AtMost&&e.getStyle().overflow==n.YGOverflow.Scroll&&e.setLayoutMeasuredDimension(d.YGFloatMax(d.YGFloatMin(de+E,d.YGUnwrapFloatOptional(I(e,G,ve,b))),E),u.dim[G]),L==n.YGMeasureMode.Undefined||e.getStyle().overflow!=n.YGOverflow.Scroll&&L==n.YGMeasureMode.AtMost?e.setLayoutMeasuredDimension(R(e,Y,Ge+w,D,r),u.dim[Y]):L==n.YGMeasureMode.AtMost&&e.getStyle().overflow==n.YGOverflow.Scroll&&e.setLayoutMeasuredDimension(d.YGFloatMax(d.YGFloatMin(ue+w,d.YGUnwrapFloatOptional(I(e,Y,Ge+w,D))),w),u.dim[Y]),h&&e.getStyle().flexWrap==n.YGWrap.WrapReverse)for(Se=0;Se<y;Se++)(Qe=F(e,Se)).getStyle().positionType==n.YGPositionType.Relative&&Qe.setLayoutPosition(e.getLayout().measuredDimensions[u.dim[Y]]-Qe.getLayout().position[u.pos[Y]]-Qe.getLayout().measuredDimensions[u.dim[Y]],u.pos[Y]);if(h){var Ze=e.getChildren();for(Se=0;Se<Ze.length;++Se)(Qe=Ze[Se]).getStyle().positionType==n.YGPositionType.Absolute&&H(e,Qe,re,v?C:L,le,p,c);var Ke=G==n.YGFlexDirection.RowReverse||G==n.YGFlexDirection.ColumnReverse,$e=Y==n.YGFlexDirection.RowReverse||Y==n.YGFlexDirection.ColumnReverse;if(Ke||$e)for(Se=0;Se<y;Se++){var Qe;(Qe=e.getChild(Se)).getStyle().display!=n.YGDisplay.None&&(Ke&&k(e,Qe,G),$e&&k(e,Qe,Y))}}}}else j(e,t,i,s,a,r,l)}else B(e,t,i,s,a,r,l)}t.YGNodePrintInternal=function(e,t){},t.YGNodePrint=function(e,t){},t.YGNodePaddingAndBorderForAxis=M,t.YGNodeAlignItem=_,t.YGBaseline=U,t.YGIsBaselineLayout=N,t.YGNodeDimWithMargin=P,t.YGNodeIsStyleDimDefined=T,t.YGNodeIsLayoutDimDefined=O,t.YGNodeBoundAxisWithinMinAndMax=I,t.YGNodeBoundAxis=R,t.YGNodeSetChildTrailingPosition=k,t.YGConstrainMaxSizeForMode=W,t.YGNodeComputeFlexBasisForChild=V,t.YGNodeAbsoluteLayoutChild=H,t.YGNodeWithMeasureFuncSetMeasuredDimensions=B,t.YGNodeEmptyContainerSetMeasuredDimensions=j,t.YGNodeFixedSizeSetMeasuredDimensions=z,t.YGZeroOutLayoutRecursivly=q,t.YGNodeCalculateAvailableInnerDim=J,t.YGNodeComputeFlexBasisForChildren=X,t.YGCalculateCollectFlexItemsRowValues=Z,t.YGDistributeFreeSpaceSecondPass=K,t.YGDistributeFreeSpaceFirstPass=$,t.YGResolveFlexibleLength=Q,t.YGJustifyMainAxis=ee,t.YGNodelayoutImpl=te;var ie=0,ne=!1,oe=!1,se="                                                            ";function ae(e){var t=se.length;return e>t?se:se.substr(t-e)}function re(e,t){return e>=n.YGMeasureModeCount?"":t?["LAY_UNDEFINED","LAY_EXACTLY","LAY_AT_","MOST"][e]:["UNDEFINED","EXACTLY","AT_MOST"][e]}function le(e,t,i){return e==n.YGMeasureMode.Exactly&&d.YGFloatsEqual(t,i)}function de(e,t,i,o){return e==n.YGMeasureMode.AtMost&&i==n.YGMeasureMode.Undefined&&(t>=o||d.YGFloatsEqual(t,o))}function ue(e,t,i,o,s){return i==n.YGMeasureMode.AtMost&&e==n.YGMeasureMode.AtMost&&!g(o)&&!g(t)&&!g(s)&&o>t&&(s<=t||d.YGFloatsEqual(t,s))}function he(e,i,n,o){var s=e*i,a=s%1;return d.YGFloatsEqual(a,0)?s-=a:d.YGFloatsEqual(a,1)?s=s-a+1:n?s=s-a+1:o?s-=a:s=s-a+(!g(a)&&(a>.5||d.YGFloatsEqual(a,.5))?1:0),g(s)||g(i)?t.YGUndefined:s/i}function ce(e,t,i,n,o,s,a,r,l,u,h,c,p){if(!g(u)&&u<0||!g(l)&&l<0)return!1;var f=null!=p&&0!=p.pointScaleFactor,m=f?he(t,p.pointScaleFactor,!1,!1):t,y=f?he(n,p.pointScaleFactor,!1,!1):n,G=f?he(s,p.pointScaleFactor,!1,!1):s,Y=f?he(r,p.pointScaleFactor,!1,!1):r,v=o==e&&d.YGFloatsEqual(G,m),x=a==i&&d.YGFloatsEqual(Y,y),b=v||le(e,t-h,l)||de(e,t-h,o,l)||ue(e,t-h,o,s,l),D=x||le(i,n-c,u)||de(i,n-c,a,u)||ue(i,n-c,a,r,u);return b&&D}function pe(e,t,i,o,s,a,r,l,h,c,p){var g=e.getLayout();ie++;var f=e.isDirty()&&g.generationCount!=L||g.lastOwnerDirection!=o;f&&(g.nextCachedMeasurementsIndex=0,g.cachedLayout.widthMeasureMode=n.YGMeasureModeCount-1,g.cachedLayout.heightMeasureMode=n.YGMeasureModeCount-1,g.cachedLayout.computedWidth=-1,g.cachedLayout.computedHeight=-1);var m=null;if(null!=e.getMeasure()){var y=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Row,r)),G=d.YGUnwrapFloatOptional(e.getMarginForAxis(n.YGFlexDirection.Column,r));if(ce(s,t,a,i,g.cachedLayout.widthMeasureMode,g.cachedLayout.availableWidth,g.cachedLayout.heightMeasureMode,g.cachedLayout.availableHeight,g.cachedLayout.computedWidth,g.cachedLayout.computedHeight,y,G,p))m=g.cachedLayout;else for(var Y=0;Y<g.nextCachedMeasurementsIndex;Y++)if(ce(s,t,a,i,g.cachedMeasurements[Y].widthMeasureMode,g.cachedMeasurements[Y].availableWidth,g.cachedMeasurements[Y].heightMeasureMode,g.cachedMeasurements[Y].availableHeight,g.cachedMeasurements[Y].computedWidth,g.cachedMeasurements[Y].computedHeight,y,G,p)){m=g.cachedMeasurements[Y];break}}else if(h)d.YGFloatsEqual(g.cachedLayout.availableWidth,t)&&d.YGFloatsEqual(g.cachedLayout.availableHeight,i)&&g.cachedLayout.widthMeasureMode==s&&g.cachedLayout.heightMeasureMode==a&&(m=g.cachedLayout);else for(Y=0;Y<g.nextCachedMeasurementsIndex;Y++)if(d.YGFloatsEqual(g.cachedMeasurements[Y].availableWidth,t)&&d.YGFloatsEqual(g.cachedMeasurements[Y].availableHeight,i)&&g.cachedMeasurements[Y].widthMeasureMode==s&&g.cachedMeasurements[Y].heightMeasureMode==a){m=g.cachedMeasurements[Y];break}if(f||null==m){if(ne&&(Ge(e,n.YGLogLevel.Verbose,"%s%d.{%s",ae(ie),ie,f?"*":""),null!=e.getPrintFunc()&&e.getPrintFunc()(e),Ge(e,n.YGLogLevel.Verbose,"wm: %s, hm: %s, aw: %f ah: %f %s\n",re(s,h),re(a,h),t,i,c)),te(e,t,i,o,s,a,r,l,h,p),ne&&(Ge(e,n.YGLogLevel.Verbose,"%s%d.}%s",ae(ie),ie,f?"*":""),null!=e.getPrintFunc()&&e.getPrintFunc()(e),Ge(e,n.YGLogLevel.Verbose,"wm: %s, hm: %s, d: (%f, %f) %s\n",re(s,h),re(a,h),g.measuredDimensions[n.YGDimension.Width],g.measuredDimensions[n.YGDimension.Height],c)),g.lastOwnerDirection=o,null==m){g.nextCachedMeasurementsIndex==u.YG_MAX_CACHED_RESULT_COUNT&&(ne&&Ge(e,n.YGLogLevel.Verbose,"Out of cache entries!\n"),g.nextCachedMeasurementsIndex=0);var v=void 0;h?v=g.cachedLayout:(v=g.cachedMeasurements[g.nextCachedMeasurementsIndex],g.nextCachedMeasurementsIndex++),v.availableWidth=t,v.availableHeight=i,v.widthMeasureMode=s,v.heightMeasureMode=a,v.computedWidth=g.measuredDimensions[n.YGDimension.Width],v.computedHeight=g.measuredDimensions[n.YGDimension.Height]}}else g.measuredDimensions[n.YGDimension.Width]=m.computedWidth,g.measuredDimensions[n.YGDimension.Height]=m.computedHeight,ne&&oe&&(Ge(e,n.YGLogLevel.Verbose,"%s%d.{[skipped] ",ae(ie),ie),null!=e.getPrintFunc()&&e.getPrintFunc()(e),Ge(e,n.YGLogLevel.Verbose,"wm: %s, hm: %s, aw: %f ah: %f => d: (%f, %f) %s\n",re(s,h),re(a,h),t,i,m.computedWidth,m.computedHeight,c));return h&&(e.setLayoutDimension(e.getLayout().measuredDimensions[n.YGDimension.Width],n.YGDimension.Width),e.setLayoutDimension(e.getLayout().measuredDimensions[n.YGDimension.Height],n.YGDimension.Height),e.setHasNewLayout(!0),e.setDirty(!1)),ie--,g.generationCount=L,f||null==m}function ge(e,t){return e%t}function fe(e,t,i,o){if(0!=t){var s=e.getLayout().position[n.YGEdge.Left],a=e.getLayout().position[n.YGEdge.Top],r=e.getLayout().dimensions[n.YGDimension.Width],l=e.getLayout().dimensions[n.YGDimension.Height],u=i+s,h=o+a,c=u+r,p=h+l,g=e.getNodeType()==n.YGNodeType.Text;e.setLayoutPosition(he(s,t,!1,g),n.YGEdge.Left),e.setLayoutPosition(he(a,t,!1,g),n.YGEdge.Top);var f=!d.YGFloatsEqual(ge(r*t,1),0)&&!d.YGFloatsEqual(ge(r*t,1),1),m=!d.YGFloatsEqual(ge(l*t,1),0)&&!d.YGFloatsEqual(ge(l*t,1),1);e.setLayoutDimension(he(c,t,g&&f,g&&!f)-he(u,t,!1,g),n.YGDimension.Width),e.setLayoutDimension(he(p,t,g&&m,g&&!m)-he(h,t,!1,g),n.YGDimension.Height);for(var y=A(e),G=0;G<y;G++)fe(F(e,G),t,u,h)}}function me(e,t,i,o){for(var s=[],a=4;a<arguments.length;a++)s[a-4]=arguments[a];var r=null!=e?e:G();if(r.logger(r,t,i,o,s),i==n.YGLogLevel.Fatal)throw new Error("Abort Yoga")}function ye(e,t,i){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];me(e,null,t,i,n)}function Ge(e,t,i){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];me(null==e?null:e.getConfig(),e,t,i,n)}function Ye(e,t,i){t||Ge(e,n.YGLogLevel.Fatal,"%s\n",i)}function ve(e,t,i){t||ye(e,n.YGLogLevel.Fatal,"%s\n",i)}function xe(e,t){return e.experimentalFeatures[t]}function be(e,t){for(var i=0;i<e.length;++i){var n=e[i];t(n),be(n.getChildren(),t)}}t.YGSpacer=ae,t.YGMeasureModeName=re,t.YGMeasureModeSizeIsExactAndMatchesOldMeasuredSize=le,t.YGMeasureModeOldSizeIsUnspecifiedAndStillFits=de,t.YGMeasureModeNewMeasureSizeIsStricterAndStillValid=ue,t.YGRoundValueToPixelGrid=he,t.YGNodeCanUseCachedMeasurement=ce,t.YGLayoutNodeInternal=pe,t.YGConfigSetPointScaleFactor=function(e,t){ve(e,t>=0,"Scale factor should not be less than zero"),e.pointScaleFactor=0==t?0:t},t.YGRoundToPixelGrid=fe,t.YGNodeCalculateLayout=function(e,i,o,s){L++,e.resolveDimension();var a=t.YGUndefined,r=n.YGMeasureMode.Undefined;T(e,n.YGFlexDirection.Row,i)?(a=d.YGUnwrapFloatOptional(d.YGResolveValue(e.getResolvedDimension(u.dim[n.YGFlexDirection.Row]),i).add(e.getMarginForAxis(n.YGFlexDirection.Row,i))),r=n.YGMeasureMode.Exactly):d.YGResolveValue(e.getStyle().maxDimensions[n.YGDimension.Width],i).isUndefined()?r=g(a=i)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly:(a=d.YGUnwrapFloatOptional(d.YGResolveValue(e.getStyle().maxDimensions[n.YGDimension.Width],i)),r=n.YGMeasureMode.AtMost);var l=t.YGUndefined,h=n.YGMeasureMode.Undefined;if(T(e,n.YGFlexDirection.Column,o)?(l=d.YGUnwrapFloatOptional(d.YGResolveValue(e.getResolvedDimension(u.dim[n.YGFlexDirection.Column]),o).add(e.getMarginForAxis(n.YGFlexDirection.Column,i))),h=n.YGMeasureMode.Exactly):d.YGResolveValue(e.getStyle().maxDimensions[n.YGDimension.Height],o).isUndefined()?h=g(l=o)?n.YGMeasureMode.Undefined:n.YGMeasureMode.Exactly:(l=d.YGUnwrapFloatOptional(d.YGResolveValue(e.getStyle().maxDimensions[n.YGDimension.Height],o)),h=n.YGMeasureMode.AtMost),pe(e,a,l,s,r,h,i,o,!0,"initial",e.getConfig())&&(e.setPosition(e.getLayout().direction,i,o,i),fe(e,e.getConfig().pointScaleFactor,0,0)),e.getConfig().shouldDiffLayoutWithoutLegacyStretchBehaviour&&e.didUseLegacyFlag()){console.log("legacy config");var c=x(e);c.resolveDimension(),c.markDirtyAndPropogateDownwards(),L++,c.setAndPropogateUseLegacyFlag(!1),pe(c,a,l,s,r,h,i,o,!0,"initial",c.getConfig())&&(c.setPosition(c.getLayout().direction,i,o,i),fe(c,c.getConfig().pointScaleFactor,0,0),e.setLayoutDoesLegacyFlagAffectsLayout(!c.isLayoutTreeEqualToNode(e))),D(c),S(c)}},t.YGConfigSetLogger=function(e,t){e.logger=null!=t?t:p},t.YGConfigSetShouldDiffLayoutWithoutLegacyStretchBehaviour=function(e,t){e.shouldDiffLayoutWithoutLegacyStretchBehaviour=t},t.YGVLog=me,t.YGLogWithConfig=ye,t.YGLog=Ge,t.YGAssert=function(e,t){e||Ge(null,n.YGLogLevel.Fatal,"%s\n",t)},t.YGAssertWithNode=Ye,t.YGAssertWithConfig=ve,t.YGConfigSetExperimentalFeatureEnabled=function(e,t,i){e.experimentalFeatures[t]=i},t.YGConfigIsExperimentalFeatureEnabled=xe,t.YGConfigSetUseWebDefaults=function(e,t){e.useWebDefaults=t},t.YGConfigSetUseLegacyStretchBehaviour=function(e,t){e.useLegacyStretchBehaviour=t},t.YGConfigGetUseWebDefaults=function(e){return e.useWebDefaults},t.YGConfigSetContext=function(e,t){e.context=t},t.YGConfigGetContext=function(e){return e.context},t.YGConfigSetCloneNodeFunc=function(e,t){e.cloneNodeCallback=t},t.YGTraverseChildrenPreOrder=be,t.YGTraversePreOrder=function(e,t){e&&(t(e),be(e.getChildren(),t))}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(1),o=function(){function e(t){if(void 0===t&&(t=void 0),t instanceof e)return this.value_=t.getValue(),void(this.isUndefined_=t.isUndefined());n.YGFloatIsUndefined(t)?(this.value_=0,this.isUndefined_=!0):(this.value_=t,this.isUndefined_=!1)}return e.prototype.clone=function(){return new e(this.isUndefined_?void 0:this.value_)},e.prototype.getValue=function(){if(this.isUndefined_)throw"Tried to get value of an undefined YGFloatOptional";return this.value_},e.prototype.setValue=function(e){this.value_=e,this.isUndefined_=!1},e.prototype.isUndefined=function(){return this.isUndefined_},e.prototype.add=function(t){return this.isUndefined_||t.isUndefined()?new e:new e(this.value_+t.getValue())},e.prototype.isBigger=function(e){return!this.isUndefined_&&!e.isUndefined()&&this.value_>e.getValue()},e.prototype.isSmaller=function(e){return!this.isUndefined_&&!e.isUndefined()&&this.value_<e.getValue()},e.prototype.isBiggerEqual=function(e){return!!this.isEqual(e)||this.isBigger(e)},e.prototype.isSmallerEqual=function(e){return!!this.isEqual(e)||this.isSmaller(e)},e.prototype.isEqual=function(e){return this.isUndefined_==e.isUndefined()&&(!!this.isUndefined_||this.value_==e.getValue())},e.prototype.isDiff=function(e){return!this.isEqual(e)},e.prototype.isEqualValue=function(e){return n.YGFloatIsUndefined(e)==this.isUndefined_&&(this.isUndefined_||e==this.value_)},e.prototype.isDiffValue=function(e){return!this.isEqualValue(e)},e}();t.YGFloatOptional=o},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0),o=i(2),s=i(1),a=function(){this.itemsOnLine=0,this.sizeConsumedOnCurrentLine=0,this.totalFlexGrowFactors=0,this.totalFlexShrinkScaledFactors=0,this.endOfLineIndex=0,this.relativeChildren=[],this.remainingFreeSpace=0,this.mainDim=0,this.crossDim=0};function r(e,t){return e.unit==t.unit&&(!!(e.unit==n.YGUnit.Undefined||s.YGFloatIsUndefined(e.value)&&s.YGFloatIsUndefined(t.value))||Math.abs(e.value-t.value)<1e-4)}function l(e,t){return s.YGFloatIsUndefined(e)||s.YGFloatIsUndefined(t)?s.YGFloatIsUndefined(e)&&s.YGFloatIsUndefined(t):Math.abs(e-t)<1e-4}function d(e,t){switch(e.unit){case n.YGUnit.Undefined:case n.YGUnit.Auto:return new o.YGFloatOptional;case n.YGUnit.Point:return new o.YGFloatOptional(e.value);case n.YGUnit.Percent:return new o.YGFloatOptional(e.value*t*.01)}return new o.YGFloatOptional}function u(e){return e==n.YGFlexDirection.Column||e==n.YGFlexDirection.ColumnReverse}function h(e,t){if(t==n.YGDirection.RTL){if(e==n.YGFlexDirection.Row)return n.YGFlexDirection.RowReverse;if(e==n.YGFlexDirection.RowReverse)return n.YGFlexDirection.Row}return e}t.YGCollectFlexItemsRowValues=a,t.YGValueEqual=r,t.YGFloatsEqual=l,t.YGFloatMax=function(e,t){return s.YGFloatIsUndefined(e)||s.YGFloatIsUndefined(t)?s.YGFloatIsUndefined(e)?t:e:Math.max(e,t)},t.YGFloatOptionalMax=function(e,t){return e.isUndefined()||t.isUndefined()?e.isUndefined()?t:e:e.getValue()>t.getValue()?e:t},t.YGFloatMin=function(e,t){return s.YGFloatIsUndefined(e)||s.YGFloatIsUndefined(t)?s.YGFloatIsUndefined(e)?t:e:Math.min(e,t)},t.YGFloatArrayEqual=function(e,t){for(var i=!0,n=0;n<e.length&&i;++n)i=l(e[n],t[n]);return i},t.YGValueArrayEqual=function(e,t){for(var i=!0,n=0;n<e.length&&i;++n)i=r(e[n],t[n]);return i},t.YGFloatSanitize=function(e){return s.YGFloatIsUndefined(e)?0:e},t.YGUnwrapFloatOptional=function(e){return e.isUndefined()?s.YGUndefined:e.getValue()},t.YGFlexDirectionCross=function(e,t){return u(e)?h(n.YGFlexDirection.Row,t):n.YGFlexDirection.Column},t.YGFlexDirectionIsRow=function(e){return e==n.YGFlexDirection.Row||e==n.YGFlexDirection.RowReverse},t.YGResolveValue=d,t.YGFlexDirectionIsColumn=u,t.YGResolveFlexDirection=h,t.YGResolveValueMargin=function(e,t){return e.unit==n.YGUnit.Auto?new o.YGFloatOptional(0):d(e,t)},t.cloneYGValueArray=function(e){for(var t=new Array(e.length),i=0;i<e.length;i++)t[i]=e[i].clone();return t}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0),o=i(1),s=function(){function e(){this.availableWidth=0,this.availableHeight=0,this.widthMeasureMode=n.YGMeasureMode.AtMost,this.heightMeasureMode=n.YGMeasureMode.AtMost,this.computedWidth=-1,this.computedHeight=-1}return e.prototype.isEqual=function(e){var t=this.widthMeasureMode==e.widthMeasureMode&&this.heightMeasureMode==e.heightMeasureMode;return o.YGFloatIsUndefined(this.availableWidth)&&o.YGFloatIsUndefined(e.availableWidth)||(t=t&&this.availableWidth==e.availableWidth),o.YGFloatIsUndefined(this.availableHeight)&&o.YGFloatIsUndefined(e.availableHeight)||(t=t&&this.availableHeight==e.availableHeight),o.YGFloatIsUndefined(this.computedWidth)&&o.YGFloatIsUndefined(e.computedWidth)||(t=t&&this.computedWidth==e.computedWidth),o.YGFloatIsUndefined(this.computedHeight)&&o.YGFloatIsUndefined(e.computedHeight)||(t=t&&this.computedHeight==e.computedHeight),t},e.prototype.clone=function(){var t=new e;return t.availableWidth=this.availableWidth,t.availableHeight=this.availableHeight,t.widthMeasureMode=this.widthMeasureMode,t.heightMeasureMode=this.heightMeasureMode,t.computedWidth=this.computedWidth,t.computedHeight=this.computedHeight,t},e}();t.YGCachedMeasurement=s,t.leading=[n.YGEdge.Top,n.YGEdge.Bottom,n.YGEdge.Left,n.YGEdge.Right],t.trailing=[n.YGEdge.Bottom,n.YGEdge.Top,n.YGEdge.Right,n.YGEdge.Left],t.pos=[n.YGEdge.Top,n.YGEdge.Bottom,n.YGEdge.Left,n.YGEdge.Right],t.dim=[n.YGDimension.Height,n.YGDimension.Height,n.YGDimension.Width,n.YGDimension.Width],t.YG_MAX_CACHED_RESULT_COUNT=16,t.kDefaultFlexGrow=0,t.kDefaultFlexShrink=0,t.kWebDefaultFlexShrink=1},function(e,t,i){"use strict";t.__esModule=!0;var n=function(e){this.cloneNodeCallback=null,this.experimentalFeatures=[!1,!1,!1],this.useWebDefaults=!1,this.useLegacyStretchBehaviour=!1,this.shouldDiffLayoutWithoutLegacyStretchBehaviour=!1,this.pointScaleFactor=1,this.logger=e,this.context=null};t.YGConfig=n},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0),o=i(2),s=i(4),a=i(3),r=i(1),l=function(){return[void 0,void 0]},d=16;function u(e){for(var t=[],i=0;i<e;i++)t.push(new s.YGCachedMeasurement);return t}var h=function(){function e(){this.dimensions=l(),this.direction=n.YGDirection.Inherit,this.computedFlexBasisGeneration=0,this.computedFlexBasis=new o.YGFloatOptional,this.hadOverflow=!1,this.generationCount=0,this.lastOwnerDirection=n.YGDirection.RTL,this.nextCachedMeasurementsIndex=0,this.measuredDimensions=l(),this.cachedLayout=new s.YGCachedMeasurement,this.didUseLegacyFlag=!1,this.doesLegacyStretchFlagAffectsLayout=!1,this.position=[void 0,void 0,void 0,void 0],this.margin=[void 0,void 0,void 0,void 0,void 0,void 0],this.border=[void 0,void 0,void 0,void 0,void 0,void 0],this.padding=[void 0,void 0,void 0,void 0,void 0,void 0],this.cachedMeasurements=u(d)}return e.prototype.equal=function(e){for(var t=a.YGFloatArrayEqual(this.position,e.position)&&a.YGFloatArrayEqual(this.dimensions,e.dimensions)&&a.YGFloatArrayEqual(this.margin,e.margin)&&a.YGFloatArrayEqual(this.border,e.border)&&a.YGFloatArrayEqual(this.padding,e.padding)&&this.direction==e.direction&&this.hadOverflow==e.hadOverflow&&this.lastOwnerDirection==e.lastOwnerDirection&&this.nextCachedMeasurementsIndex==e.nextCachedMeasurementsIndex&&this.cachedLayout==e.cachedLayout&&this.computedFlexBasis==e.computedFlexBasis,i=0;i<d&&t;++i)t=t&&this.cachedMeasurements[i]==e.cachedMeasurements[i];return r.YGFloatIsUndefined(this.measuredDimensions[0])&&r.YGFloatIsUndefined(e.measuredDimensions[0])||(t=t&&this.measuredDimensions[0]==e.measuredDimensions[0]),r.YGFloatIsUndefined(this.measuredDimensions[1])&&r.YGFloatIsUndefined(e.measuredDimensions[1])||(t=t&&this.measuredDimensions[1]==e.measuredDimensions[1]),t},e.prototype.diff=function(e){return!this.equal(e)},e.prototype.clean=function(){this.dimensions=l(),this.direction=n.YGDirection.Inherit,this.computedFlexBasisGeneration=0,this.computedFlexBasis=new o.YGFloatOptional,this.hadOverflow=!1,this.generationCount=0,this.lastOwnerDirection=n.YGDirection.RTL,this.nextCachedMeasurementsIndex=0,this.measuredDimensions=l(),this.cachedLayout=new s.YGCachedMeasurement,this.didUseLegacyFlag=!1,this.doesLegacyStretchFlagAffectsLayout=!1,this.position=[void 0,void 0,void 0,void 0],this.margin=[void 0,void 0,void 0,void 0,void 0,void 0],this.border=[void 0,void 0,void 0,void 0,void 0,void 0],this.padding=[void 0,void 0,void 0,void 0,void 0,void 0],this.cachedMeasurements=u(d)},e.prototype.clone=function(){var t=new e;return t.dimensions=[this.dimensions[0],this.dimensions[1]],t.direction=this.direction,t.computedFlexBasisGeneration=this.computedFlexBasisGeneration,t.computedFlexBasis=this.computedFlexBasis.clone(),t.hadOverflow=this.hadOverflow,t.generationCount=this.generationCount,t.lastOwnerDirection=this.lastOwnerDirection,t.nextCachedMeasurementsIndex=this.nextCachedMeasurementsIndex,t.measuredDimensions=[this.measuredDimensions[0],this.measuredDimensions[1]],t.cachedLayout=this.cachedLayout.clone(),t.didUseLegacyFlag=this.didUseLegacyFlag,t.doesLegacyStretchFlagAffectsLayout=this.doesLegacyStretchFlagAffectsLayout,t.position=[this.position[0],this.position[1],this.position[2],this.position[3]],t.margin=[this.margin[0],this.margin[1],this.margin[2],this.margin[3],this.margin[4],this.margin[5]],t.border=[this.border[0],this.border[1],this.border[2],this.border[3],this.border[4],this.border[5]],t.padding=[this.padding[0],this.padding[1],this.padding[2],this.padding[3],this.padding[4],this.padding[5]],t.cachedMeasurements=u(d),t},e}();t.YGLayout=h},function(e,t,i){"use strict";t.__esModule=!0;var n=function(){function e(e,t){this.value=e,this.unit=t}return e.prototype.clone=function(){return new e(this.value,this.unit)},e}();t.YGValue=n},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0),o=i(1),s=i(3);t.ALIGN_AUTO=n.YGAlign.Auto,t.ALIGN_FLEX_START=n.YGAlign.FlexStart,t.ALIGN_CENTER=n.YGAlign.Center,t.ALIGN_FLEX_END=n.YGAlign.FlexEnd,t.ALIGN_STRETCH=n.YGAlign.Stretch,t.ALIGN_BASELINE=n.YGAlign.Baseline,t.ALIGN_SPACE_BETWEEN=n.YGAlign.SpaceBetween,t.ALIGN_SPACE_AROUND=n.YGAlign.SpaceAround,t.DIMENSION_WIDTH=n.YGDimension.Width,t.DIMENSION_HEIGHT=n.YGDimension.Height,t.DIRECTION_INHERIT=n.YGDirection.Inherit,t.DIRECTION_LTR=n.YGDirection.LTR,t.DIRECTION_RTL=n.YGDirection.RTL,t.DISPLAY_FLEX=n.YGDisplay.Flex,t.DISPLAY_NONE=n.YGDisplay.None,t.EDGE_LEFT=n.YGEdge.Left,t.EDGE_TOP=n.YGEdge.Top,t.EDGE_RIGHT=n.YGEdge.Right,t.EDGE_BOTTOM=n.YGEdge.Bottom,t.EDGE_START=n.YGEdge.Start,t.EDGE_END=n.YGEdge.End,t.EDGE_HORIZONTAL=n.YGEdge.Horizontal,t.EDGE_VERTICAL=n.YGEdge.Vertical,t.EDGE_ALL=n.YGEdge.All,t.EXPERIMENTALFEATURE_WEBFLEXBASIS=n.YGExperimentalFeature.WebFlexBasis,t.FLEX_DIRECTION_COLUMN=n.YGFlexDirection.Column,t.FLEX_DIRECTION_COLUMN_REVERSE=n.YGFlexDirection.ColumnReverse,t.FLEX_DIRECTION_ROW=n.YGFlexDirection.Row,t.FLEX_DIRECTION_ROW_REVERSE=n.YGFlexDirection.RowReverse,t.JUSTIFY_FLEX_START=n.YGJustify.FlexStart,t.JUSTIFY_CENTER=n.YGJustify.Center,t.JUSTIFY_FLEX_END=n.YGJustify.FlexEnd,t.JUSTIFY_SPACE_BETWEEN=n.YGJustify.SpaceBetween,t.JUSTIFY_SPACE_AROUND=n.YGJustify.SpaceAround,t.JUSTIFY_SPACE_EVENLY=n.YGJustify.SpaceEvenly,t.LOGLEVEL_ERROR=n.YGLogLevel.Error,t.LOGLEVEL_WARN=n.YGLogLevel.Warn,t.LOGLEVEL_INFO=n.YGLogLevel.Info,t.LOGLEVEL_DEBUG=n.YGLogLevel.Debug,t.LOGLEVEL_VERBOSE=n.YGLogLevel.Verbose,t.LOGLEVEL_FATAL=n.YGLogLevel.Fatal,t.MEASURE_MODE_UNDEFINED=n.YGMeasureMode.Undefined,t.MEASURE_MODE_EXACTLY=n.YGMeasureMode.Exactly,t.MEASURE_MODE_AT_MOST=n.YGMeasureMode.AtMost,t.NODE_TYPE_DEFAULT=n.YGNodeType.Default,t.NODE_TYPE_TEXT=n.YGNodeType.Text,t.OVERFLOW_VISIBLE=n.YGOverflow.Visible,t.OVERFLOW_HIDDEN=n.YGOverflow.Hidden,t.OVERFLOW_SCROLL=n.YGOverflow.Scroll,t.POSITION_TYPE_RELATIVE=n.YGPositionType.Relative,t.POSITION_TYPE_ABSOLUTE=n.YGPositionType.Absolute,t.UNIT_UNDEFINED=n.YGUnit.Undefined,t.UNIT_POINT=n.YGUnit.Point,t.UNIT_PERCENT=n.YGUnit.Percent,t.UNIT_AUTO=n.YGUnit.Auto,t.WRAP_NO_WRAP=n.YGWrap.NoWrap,t.WRAP_WRAP=n.YGWrap.Wrap,t.WRAP_WRAP_REVERSE=n.YGWrap.WrapReverse,t.UNDEFINED=void 0;var a=function(){};t.Layout=a;var r=function(){function e(e,t){e?(this.width=e,this.height=t):(this.width=0,this.height=0)}return e.fromJS=function(t){return new e(t.width,t.height)},e}();t.Size=r;var l=function(e,t){e?(this.unit=e,this.value=t):(this.unit=n.YGUnit.Undefined,this.value=0)};t.Value=l;var d=function(){function e(){this.config=o.YGConfigNew()}return e.create=function(){return new e},e.prototype.free=function(){o.YGConfigFree(this.config)},e.prototype.setExperimentalFeatureEnabled=function(e,t){o.YGConfigSetExperimentalFeatureEnabled(this.config,e,t)},e.prototype.setPointScaleFactor=function(e){o.YGConfigSetPointScaleFactor(this.config,e)},e.prototype.isExperimentalFeatureEnabled=function(e){o.YGConfigIsExperimentalFeatureEnabled(this.config,e)},e}();function u(e){return o.YGNodeGetContext(e)}function h(e){return new l(e.unit,e.value)}t.Config=d;var c=function(){function e(e){this.node=e?o.YGNodeNewWithConfig(e.config):o.YGNodeNew(),o.YGNodeSetContext(this.node,this)}return e.create=function(t){return t?new e(t):new e},e.createDefault=function(){return new e(void 0)},e.createWithConfig=function(t){return new e(t)},e.prototype.calculateLayout=function(e,t,i){o.YGNodeCalculateLayout(this.node,e,t,i)},e.prototype.copyStyle=function(e){o.YGNodeCopyStyle(this.node,e)},e.prototype.free=function(){o.YGNodeFree(this.node)},e.prototype.freeRecursive=function(){o.YGNodeFreeRecursive(this.node)},e.prototype.getAlignContent=function(){return o.YGNodeStyleGetAlignContent(this.node)},e.prototype.getAlignItems=function(){return o.YGNodeStyleGetAlignItems(this.node)},e.prototype.getAlignSelf=function(){return o.YGNodeStyleGetAlignSelf(this.node)},e.prototype.getAspectRatio=function(){return o.YGNodeStyleGetAspectRatio(this.node)},e.prototype.getBorder=function(e){return o.YGNodeStyleGetBorder(this.node,e)},e.prototype.getChild=function(e){return u(o.YGNodeGetChild(this.node,e))},e.prototype.getChildCount=function(){return o.YGNodeGetChildCount(this.node)},e.prototype.getComputedBorder=function(e){return o.YGNodeLayoutGetBorder(this.node,e)},e.prototype.getComputedBottom=function(){return o.YGNodeLayoutGetBottom(this.node)},e.prototype.getComputedHeight=function(){return s.YGFloatSanitize(o.YGNodeLayoutGetHeight(this.node))},e.prototype.getComputedLayout=function(){var e=new a;return e.left=o.YGNodeLayoutGetLeft(this.node),e.right=o.YGNodeLayoutGetRight(this.node),e.top=o.YGNodeLayoutGetTop(this.node),e.bottom=o.YGNodeLayoutGetBottom(this.node),e.width=o.YGNodeLayoutGetWidth(this.node),e.height=o.YGNodeLayoutGetHeight(this.node),e},e.prototype.getComputedLeft=function(){return s.YGFloatSanitize(o.YGNodeLayoutGetLeft(this.node))},e.prototype.getComputedMargin=function(e){return s.YGFloatSanitize(o.YGNodeLayoutGetMargin(this.node,e))},e.prototype.getComputedPadding=function(e){return s.YGFloatSanitize(o.YGNodeLayoutGetPadding(this.node,e))},e.prototype.getComputedRight=function(){return s.YGFloatSanitize(o.YGNodeLayoutGetRight(this.node))},e.prototype.getComputedTop=function(){return s.YGFloatSanitize(o.YGNodeLayoutGetTop(this.node))},e.prototype.getComputedWidth=function(){return s.YGFloatSanitize(o.YGNodeLayoutGetWidth(this.node))},e.prototype.getDisplay=function(){return o.YGNodeStyleGetDisplay(this.node)},e.prototype.getFlexBasis=function(){return h(o.YGNodeStyleGetFlexBasis(this.node))},e.prototype.getFlexDirection=function(){return o.YGNodeStyleGetFlexDirection(this.node)},e.prototype.getFlexGrow=function(){return o.YGNodeStyleGetFlexGrow(this.node)},e.prototype.getFlexShrink=function(){return o.YGNodeStyleGetFlexShrink(this.node)},e.prototype.getFlexWrap=function(){return o.YGNodeStyleGetFlexWrap(this.node)},e.prototype.getHeight=function(){return h(o.YGNodeStyleGetHeight(this.node))},e.prototype.getJustifyContent=function(){return o.YGNodeStyleGetJustifyContent(this.node)},e.prototype.getMargin=function(e){return h(o.YGNodeStyleGetMargin(this.node,e))},e.prototype.getMaxHeight=function(){return h(o.YGNodeStyleGetMaxHeight(this.node))},e.prototype.getMaxWidth=function(){return h(o.YGNodeStyleGetMaxWidth(this.node))},e.prototype.getMinHeight=function(){return h(o.YGNodeStyleGetMinHeight(this.node))},e.prototype.getMinWidth=function(){return h(o.YGNodeStyleGetMinWidth(this.node))},e.prototype.getOverflow=function(){return o.YGNodeStyleGetOverflow(this.node)},e.prototype.getPadding=function(e){return h(o.YGNodeStyleGetPadding(this.node,e))},e.prototype.getParent=function(){var e=o.YGNodeGetParent(this.node);if(e)return u(e)},e.prototype.getPosition=function(e){return h(o.YGNodeStyleGetPosition(this.node,e))},e.prototype.getPositionType=function(){return o.YGNodeStyleGetPositionType(this.node)},e.prototype.getWidth=function(){return h(o.YGNodeStyleGetWidth(this.node))},e.prototype.insertChild=function(e,t){o.YGNodeInsertChild(this.node,e.node,t)},e.prototype.isDirty=function(){return o.YGNodeIsDirty(this.node)},e.prototype.markDirty=function(){o.YGNodeMarkDirty(this.node)},e.prototype.removeChild=function(e){o.YGNodeRemoveChild(this.node,e.node)},e.prototype.reset=function(){o.YGNodeReset(this.node)},e.prototype.setAlignContent=function(e){o.YGNodeStyleSetAlignContent(this.node,e)},e.prototype.setAlignItems=function(e){o.YGNodeStyleSetAlignItems(this.node,e)},e.prototype.setAlignSelf=function(e){o.YGNodeStyleSetAlignSelf(this.node,e)},e.prototype.setAspectRatio=function(e){o.YGNodeStyleSetAspectRatio(this.node,e)},e.prototype.setBorder=function(e,t){o.YGNodeStyleSetBorder(this.node,e,t)},e.prototype.setDisplay=function(e){o.YGNodeStyleSetDisplay(this.node,e)},e.prototype.setFlex=function(e){o.YGNodeStyleSetFlex(this.node,e)},e.prototype.setFlexBasis=function(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type");this.setFlexBasisPercent(parseFloat(e))}else o.YGNodeStyleSetFlexBasis(this.node,e)},e.prototype.setFlexBasisPercent=function(e){o.YGNodeStyleSetFlexBasisPercent(this.node,e)},e.prototype.setFlexDirection=function(e){o.YGNodeStyleSetFlexDirection(this.node,e)},e.prototype.setFlexGrow=function(e){o.YGNodeStyleSetFlexGrow(this.node,e)},e.prototype.setFlexShrink=function(e){o.YGNodeStyleSetFlexShrink(this.node,e)},e.prototype.setFlexWrap=function(e){o.YGNodeStyleSetFlexWrap(this.node,e)},e.prototype.setHeight=function(e){if("string"==typeof e)if("auto"===e)this.setHeightAuto();else{if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setHeightPercent(parseFloat(e))}else o.YGNodeStyleSetHeight(this.node,e)},e.prototype.setHeightAuto=function(){o.YGNodeStyleSetHeightAuto(this.node)},e.prototype.setHeightPercent=function(e){o.YGNodeStyleSetHeightPercent(this.node,e)},e.prototype.setJustifyContent=function(e){o.YGNodeStyleSetJustifyContent(this.node,e)},e.prototype.setMargin=function(e,t){if("string"==typeof t)if("auto"===t)this.setMarginAuto(e);else{if("%"!==t[t.length-1])throw new Error("Invalid input type.");this.setMarginPercent(e,parseFloat(t))}else o.YGNodeStyleSetMargin(this.node,e,t)},e.prototype.setMarginAuto=function(e){o.YGNodeStyleSetMarginAuto(this.node,e)},e.prototype.setMarginPercent=function(e,t){o.YGNodeStyleSetMarginPercent(this.node,e,t)},e.prototype.setMaxHeight=function(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMaxHeightPercent(parseFloat(e))}else o.YGNodeStyleSetMaxHeight(this.node,e)},e.prototype.setMaxHeightPercent=function(e){o.YGNodeStyleSetMaxHeightPercent(this.node,e)},e.prototype.setMaxWidth=function(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMaxWidthPercent(parseFloat(e))}else o.YGNodeStyleSetMaxWidth(this.node,e)},e.prototype.setMaxWidthPercent=function(e){o.YGNodeStyleSetMaxWidthPercent(this.node,e)},e.prototype.setMeasureFunc=function(e){null==e?this.unsetMeasureFunc():o.YGNodeSetMeasureFunc(this.node,e)},e.prototype.unsetMeasureFunc=function(){o.YGNodeSetMeasureFunc(this.node,null)},e.prototype.setMinHeight=function(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMinHeightPercent(parseFloat(e))}else o.YGNodeStyleSetMinHeight(this.node,e)},e.prototype.setMinHeightPercent=function(e){o.YGNodeStyleSetMinHeightPercent(this.node,e)},e.prototype.setMinWidth=function(e){if("string"==typeof e){if("%"!==e[e.length-1])throw new Error("Invalid input type.");this.setMinWidthPercent(parseFloat(e))}else o.YGNodeStyleSetMinWidth(this.node,e)},e.prototype.setMinWidthPercent=function(e){o.YGNodeStyleSetMinWidthPercent(this.node,e)},e.prototype.setOverflow=function(e){o.YGNodeStyleSetOverflow(this.node,e)},e.prototype.setPadding=function(e,t){if("string"==typeof t){if("%"!==t[t.length-1])throw new Error("Invalid input type.");this.setPaddingPercent(e,parseFloat(t))}else o.YGNodeStyleSetPadding(this.node,e,t)},e.prototype.setPaddingPercent=function(e,t){o.YGNodeStyleSetPaddingPercent(this.node,e,t)},e.prototype.setPosition=function(e,t){if("string"==typeof t){if("%"!==t[t.length-1])throw new Error("Invalid input type.");this.setPositionPercent(e,parseFloat(t))}else o.YGNodeStyleSetPosition(this.node,e,t)},e.prototype.setPositionPercent=function(e,t){o.YGNodeStyleSetPositionPercent(this.node,e,t)},e.prototype.setPositionType=function(e){o.YGNodeStyleSetPositionType(this.node,e)},e.prototype.setWidth=function(e){if("string"==typeof e)if("%"===e[e.length-1])this.setWidthPercent(parseFloat(e));else{if("auto"!==e)throw new Error("Invalid input type.");this.setWidthAuto()}else o.YGNodeStyleSetWidth(this.node,e)},e.prototype.setWidthAuto=function(){o.YGNodeStyleSetWidthAuto(this.node)},e.prototype.setWidthPercent=function(e){o.YGNodeStyleSetWidthPercent(this.node,e)},e.prototype.unsetMeasureFun=function(){o.YGNodeSetMeasureFunc(this.node,void 0)},e}();t.Node=c,t.getInstanceCount=function(){return o.YGNodeGetInstanceCount()}},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0),o=i(2),s=i(5),a=i(3),r=i(6),l=i(10),d=i(4),u=i(1),h=function(){function e(t,i,o,a,d,h,c,p,g,f,m,y,G,Y,v){if(void 0===t&&(t=null),void 0===i&&(i=null),void 0===o&&(o=!0),void 0===a&&(a=n.YGNodeType.Default),void 0===d&&(d=null),void 0===h&&(h=null),void 0===c&&(c=null),void 0===p&&(p=new l.YGStyle),void 0===g&&(g=new r.YGLayout),void 0===f&&(f=0),void 0===m&&(m=null),void 0===y&&(y=[]),void 0===G&&(G=null),void 0===Y&&(Y=!1),void 0===v&&(v=[u.YGValueUndefined(),u.YGValueUndefined()]),t instanceof e)return console.log("from node"),void this.fromNode(t);this.print_=i,this.hasNewLayout_=o,this.nodeType_=a,this.measure_=d,this.baseline_=h,this.dirtied_=c,this.style_=p,this.layout_=g,this.lineIndex_=f,this.owner_=m,this.children_=y,this.config_=G,this.isDirty_=Y,this.resolvedDimensions_=v,t instanceof s.YGConfig?(this.config_=t,this.context_=null):this.context_=t}return e.prototype.relativePosition=function(e,t){if(this.isLeadingPositionDefined(e))return this.getLeadingPosition(e,t);var i=this.getTrailingPosition(e,t);return i.isUndefined()||i.setValue(-1*i.getValue()),i},e.prototype.operatorAtrib=function(e){return e==this?this:(this.clearChildren(),this.fromNode(e),this)},e.prototype.fromNode=function(e){console.log(e),this.context_=e.context_,this.print_=e.print_,this.hasNewLayout_=e.hasNewLayout_,this.nodeType_=e.nodeType_,this.measure_=e.measure_,this.baseline_=e.baseline_,this.dirtied_=e.dirtied_,this.style_=e.style_,this.layout_=e.layout_,this.lineIndex_=e.lineIndex_,this.owner_=e.owner_,this.children_=e.children_,this.config_=e.config_,this.isDirty_=e.isDirty_,this.resolvedDimensions_=e.resolvedDimensions_},e.prototype.getContext=function(){return this.context_},e.prototype.getPrintFunc=function(){return this.print_},e.prototype.getHasNewLayout=function(){return this.hasNewLayout_},e.prototype.getNodeType=function(){return this.nodeType_},e.prototype.getMeasure=function(){return this.measure_},e.prototype.getBaseline=function(){return this.baseline_},e.prototype.getDirtied=function(){return this.dirtied_},e.prototype.getStyle=function(){return this.style_},e.prototype.getLayout=function(){return this.layout_},e.prototype.getLineIndex=function(){return this.lineIndex_},e.prototype.getOwner=function(){return this.owner_},e.prototype.getParent=function(){return this.getOwner()},e.prototype.getChildren=function(){return this.children_},e.prototype.getChildrenCount=function(){return this.children_.length},e.prototype.getChild=function(e){return this.children_[e]},e.prototype.getConfig=function(){return this.config_},e.prototype.isDirty=function(){return this.isDirty_},e.prototype.getResolvedDimensions=function(){return this.resolvedDimensions_},e.prototype.getResolvedDimension=function(e){return this.resolvedDimensions_[e]},e.prototype.getLeadingPosition=function(e,t){if(a.YGFlexDirectionIsRow(e)){var i=u.YGComputedEdgeValue(this.style_.position,n.YGEdge.Start,u.YGValueUndefined());if(i.unit!=n.YGUnit.Undefined)return a.YGResolveValue(i,t)}var s=u.YGComputedEdgeValue(this.style_.position,d.leading[e],u.YGValueUndefined());return s.unit==n.YGUnit.Undefined?new o.YGFloatOptional(0):a.YGResolveValue(s,t)},e.prototype.isLeadingPositionDefined=function(e){return a.YGFlexDirectionIsRow(e)&&u.YGComputedEdgeValue(this.style_.position,n.YGEdge.Start,u.YGValueUndefined()).unit!=n.YGUnit.Undefined||u.YGComputedEdgeValue(this.style_.position,d.leading[e],u.YGValueUndefined()).unit!=n.YGUnit.Undefined},e.prototype.isTrailingPosDefined=function(e){return a.YGFlexDirectionIsRow(e)&&u.YGComputedEdgeValue(this.style_.position,n.YGEdge.End,u.YGValueUndefined()).unit!=n.YGUnit.Undefined||u.YGComputedEdgeValue(this.style_.position,d.trailing[e],u.YGValueUndefined()).unit!=n.YGUnit.Undefined},e.prototype.getTrailingPosition=function(e,t){if(a.YGFlexDirectionIsRow(e)){var i=u.YGComputedEdgeValue(this.style_.position,n.YGEdge.End,u.YGValueUndefined());if(i.unit!=n.YGUnit.Undefined)return a.YGResolveValue(i,t)}var s=u.YGComputedEdgeValue(this.style_.position,d.trailing[e],u.YGValueUndefined());return s.unit==n.YGUnit.Undefined?new o.YGFloatOptional(0):a.YGResolveValue(s,t)},e.prototype.getLeadingMargin=function(e,t){return a.YGFlexDirectionIsRow(e)&&this.style_.margin[n.YGEdge.Start].unit!=n.YGUnit.Undefined?a.YGResolveValueMargin(this.style_.margin[n.YGEdge.Start],t):a.YGResolveValueMargin(u.YGComputedEdgeValue(this.style_.margin,d.leading[e],u.YGValueZero()),t)},e.prototype.getTrailingMargin=function(e,t){return a.YGFlexDirectionIsRow(e)&&this.style_.margin[n.YGEdge.End].unit!=n.YGUnit.Undefined?a.YGResolveValueMargin(this.style_.margin[n.YGEdge.End],t):a.YGResolveValueMargin(u.YGComputedEdgeValue(this.style_.margin,d.trailing[e],u.YGValueZero()),t)},e.prototype.getLeadingBorder=function(e){if(a.YGFlexDirectionIsRow(e)&&this.style_.border[n.YGEdge.Start].unit!=n.YGUnit.Undefined&&!u.YGFloatIsUndefined(this.style_.border[n.YGEdge.Start].value)&&this.style_.border[n.YGEdge.Start].value>=0)return this.style_.border[n.YGEdge.Start].value;var t=u.YGComputedEdgeValue(this.style_.border,d.leading[e],u.YGValueZero()).value;return a.YGFloatMax(t,0)},e.prototype.getTrailingBorder=function(e){if(a.YGFlexDirectionIsRow(e)&&this.style_.border[n.YGEdge.End].unit!=n.YGUnit.Undefined&&!u.YGFloatIsUndefined(this.style_.border[n.YGEdge.End].value)&&this.style_.border[n.YGEdge.End].value>=0)return this.style_.border[n.YGEdge.End].value;var t=u.YGComputedEdgeValue(this.style_.border,d.trailing[e],u.YGValueZero()).value;return a.YGFloatMax(t,0)},e.prototype.getLeadingPadding=function(e,t){var i=a.YGResolveValue(this.style_.padding[n.YGEdge.Start],t);if(a.YGFlexDirectionIsRow(e)&&this.style_.padding[n.YGEdge.Start].unit!=n.YGUnit.Undefined&&!i.isUndefined()&&i.getValue()>0)return i;var s=a.YGResolveValue(u.YGComputedEdgeValue(this.style_.padding,d.leading[e],u.YGValueZero()),t);return a.YGFloatOptionalMax(s,new o.YGFloatOptional(0))},e.prototype.getTrailingPadding=function(e,t){var i=a.YGResolveValue(this.style_.padding[n.YGEdge.End],t);if(a.YGFlexDirectionIsRow(e)&&this.style_.padding[n.YGEdge.End].unit!=n.YGUnit.Undefined&&!i.isUndefined()&&i.getValue()>=0)return i;var s=a.YGResolveValue(u.YGComputedEdgeValue(this.style_.padding,d.trailing[e],u.YGValueZero()),t);return a.YGFloatOptionalMax(s,new o.YGFloatOptional(0))},e.prototype.getLeadingPaddingAndBorder=function(e,t){return this.getLeadingPadding(e,t).add(new o.YGFloatOptional(this.getLeadingBorder(e)))},e.prototype.getTrailingPaddingAndBorder=function(e,t){return this.getTrailingPadding(e,t).add(new o.YGFloatOptional(this.getTrailingBorder(e)))},e.prototype.getMarginForAxis=function(e,t){return this.getLeadingMargin(e,t).add(this.getTrailingMargin(e,t))},e.prototype.setContext=function(e){this.context_=e},e.prototype.setPrintFunc=function(e){this.print_=e},e.prototype.setHasNewLayout=function(e){this.hasNewLayout_=e},e.prototype.setNodeType=function(e){this.nodeType_=e},e.prototype.setMeasureFunc=function(e){null==e?(this.measure_=null,this.nodeType_=n.YGNodeType.Default):(0!=this.children_.length&&console.error("Cannot set measure function: Nodes with measure functions cannot have children."),this.measure_=e,this.setNodeType(n.YGNodeType.Text)),this.measure_=e},e.prototype.setBaseLineFunc=function(e){this.baseline_=e},e.prototype.setDirtiedFunc=function(e){this.dirtied_=e},e.prototype.setStyle=function(e){this.style_=e},e.prototype.setStyleFlexDirection=function(e){this.style_.flexDirection=e},e.prototype.setStyleAlignContent=function(e){this.style_.alignContent=e},e.prototype.setLayout=function(e){this.layout_=e},e.prototype.setLineIndex=function(e){this.lineIndex_=e},e.prototype.setOwner=function(e){this.owner_=e},e.prototype.setChildren=function(e){this.children_=e},e.prototype.setConfig=function(e){this.config_=e},e.prototype.setDirty=function(e){this.isDirty_=e},e.prototype.setLayoutLastOwnerDirection=function(e){this.layout_.lastOwnerDirection=e},e.prototype.setLayoutComputedFlexBasis=function(e){this.layout_.computedFlexBasis=e},e.prototype.setLayoutComputedFlexBasisGeneration=function(e){this.layout_.computedFlexBasisGeneration=e},e.prototype.setLayoutMeasuredDimension=function(e,t){this.layout_.measuredDimensions[t]=e},e.prototype.setLayoutHadOverflow=function(e){this.layout_.hadOverflow=e},e.prototype.setLayoutDimension=function(e,t){this.layout_.dimensions[t]=e},e.prototype.setLayoutDirection=function(e){this.layout_.direction=e},e.prototype.setLayoutMargin=function(e,t){this.layout_.margin[t]=e},e.prototype.setLayoutBorder=function(e,t){this.layout_.border[t]=e},e.prototype.setLayoutPadding=function(e,t){this.layout_.padding[t]=e},e.prototype.setLayoutPosition=function(e,t){this.layout_.position[t]=e},e.prototype.setPosition=function(e,t,i,o){var s=null!=this.owner_?e:n.YGDirection.LTR,r=a.YGResolveFlexDirection(this.style_.flexDirection,s),l=a.YGFlexDirectionCross(r,s),u=this.relativePosition(r,t),h=this.relativePosition(l,i);this.setLayoutPosition(a.YGUnwrapFloatOptional(this.getLeadingMargin(r,o).add(u)),d.leading[r]),this.setLayoutPosition(a.YGUnwrapFloatOptional(this.getTrailingMargin(r,o).add(u)),d.trailing[r]),this.setLayoutPosition(a.YGUnwrapFloatOptional(this.getLeadingMargin(l,o).add(h)),d.leading[l]),this.setLayoutPosition(a.YGUnwrapFloatOptional(this.getTrailingMargin(l,o).add(h)),d.trailing[l])},e.prototype.setAndPropogateUseLegacyFlag=function(e){this.config_.useLegacyStretchBehaviour=e;for(var t=0;t<this.children_.length;t++)this.children_[t].getConfig().useLegacyStretchBehaviour=e},e.prototype.setLayoutDoesLegacyFlagAffectsLayout=function(e){this.layout_.doesLegacyStretchFlagAffectsLayout=e},e.prototype.setLayoutDidUseLegacyFlag=function(e){this.layout_.didUseLegacyFlag=e},e.prototype.markDirtyAndPropogateDownwards=function(){this.isDirty_=!0;for(var e=0;e<this.children_.length;e++)this.children_[e].markDirtyAndPropogateDownwards()},e.prototype.marginLeadingValue=function(e){return a.YGFlexDirectionIsRow(e)&&this.style_.margin[n.YGEdge.Start].unit!=n.YGUnit.Undefined?this.style_.margin[n.YGEdge.Start]:this.style_.margin[d.leading[e]]},e.prototype.marginTrailingValue=function(e){return a.YGFlexDirectionIsRow(e)&&this.style_.margin[n.YGEdge.End].unit!=n.YGUnit.Undefined?this.style_.margin[n.YGEdge.End]:this.style_.margin[d.trailing[e]]},e.prototype.resolveFlexBasisPtr=function(){var e=this.style_.flexBasis;return e.unit!=n.YGUnit.Auto&&e.unit!=n.YGUnit.Undefined?e:!this.style_.flex.isUndefined()&&this.style_.flex.getValue()>0?this.config_.useWebDefaults?u.YGValueAuto():u.YGValueZero():u.YGValueAuto()},e.prototype.resolveDimension=function(){for(var e=n.YGDimension.Width;e<n.YGDimensionCount;++e)this.style_.maxDimensions[e].unit!=n.YGUnit.Undefined&&a.YGValueEqual(this.style_.maxDimensions[e],this.style_.minDimensions[e])?this.resolvedDimensions_[e]=this.style_.maxDimensions[e]:this.resolvedDimensions_[e]=this.style_.dimensions[e]},e.prototype.resolveDirection=function(e){return this.style_.direction==n.YGDirection.Inherit?e>n.YGDirection.Inherit?e:n.YGDirection.LTR:this.style_.direction},e.prototype.clearChildren=function(){for(;this.children_.length>0;)this.children_.pop()},e.prototype.replaceChild=function(e,t){var i=this.children_.indexOf(e);i>=0&&(this.children_[i]=t)},e.prototype.replaceChildIndex=function(e,t){this.children_[t]=e},e.prototype.insertChildIndex=function(e,t){this.children_.splice(t,0,e)},e.prototype.removeChild=function(e){var t=this.children_.indexOf(e);return t>=0&&(this.children_.splice(t,1),!0)},e.prototype.removeChildIndex=function(e){this.children_.splice(e,1)},e.prototype.cloneChildrenIfNeeded=function(){var e=this.children_.length;if(0!=e&&this.children_[0].getOwner()!=this)for(var t=this.config_.cloneNodeCallback,i=0;i<e;++i){var n=this.children_[i],o=null;t&&(o=t(n,this,i)),null==o&&(o=u.YGNodeClone(n)),this.replaceChildIndex(o,i),o.setOwner(this)}},e.prototype.markDirtyAndPropogate=function(){this.isDirty_||(this.setDirty(!0),this.setLayoutComputedFlexBasis(new o.YGFloatOptional),this.owner_&&this.owner_.markDirtyAndPropogate())},e.prototype.resolveFlexGrow=function(){return null==this.owner_?0:this.style_.flexGrow.isUndefined()?!this.style_.flex.isUndefined()&&this.style_.flex.getValue()>0?this.style_.flex.getValue():d.kDefaultFlexGrow:this.style_.flexGrow.getValue()},e.prototype.resolveFlexShrink=function(){return null==this.owner_?0:this.style_.flexShrink.isUndefined()?!this.config_.useWebDefaults&&!this.style_.flex.isUndefined()&&this.style_.flex.getValue()<0?-this.style_.flex.getValue():this.config_.useWebDefaults?d.kWebDefaultFlexShrink:d.kDefaultFlexShrink:this.style_.flexShrink.getValue()},e.prototype.isNodeFlexible=function(){return this.style_.positionType==n.YGPositionType.Relative&&(0!=this.resolveFlexGrow()||0!=this.resolveFlexShrink())},e.prototype.didUseLegacyFlag=function(){var e=this.layout_.didUseLegacyFlag;if(e)return!0;for(var t=0;t<this.children_.length;t++)if(this.children_[t].getLayout().didUseLegacyFlag){e=!0;break}return e},e.prototype.isLayoutTreeEqualToNode=function(e){if(this.children_.length!=e.getChildren().length)return!1;if(this.layout_.diff(e.getLayout()))return!1;if(0==this.children_.length)return!0;for(var t=!0,i=0;i<this.children_.length;++i){var n=e.getChild(i);if(!(t=this.children_[i].isLayoutTreeEqualToNode(n)))return!1}return t},e}();t.YGNode=h},function(e,t,i){"use strict";t.__esModule=!0;var n=i(0),o=i(3),s=i(7),a=i(2),r=function(){return new s.YGValue(0,n.YGUnit.Undefined)},l=function(){return new s.YGValue(0,n.YGUnit.Auto)},d=function(){return[r(),r(),r(),r(),r(),r(),r(),r(),r()]},u=function(){return[l(),l()]},h=function(){return[r(),r()]},c=function(){function e(){this.margin=new Array(n.YGEdgeCount),this.position=new Array(n.YGEdgeCount),this.padding=new Array(n.YGEdgeCount),this.border=new Array(n.YGEdgeCount),this.direction=n.YGDirection.Inherit,this.flexDirection=n.YGFlexDirection.Column,this.justifyContent=n.YGJustify.FlexStart,this.alignContent=n.YGAlign.FlexStart,this.alignItems=n.YGAlign.Stretch,this.alignSelf=n.YGAlign.Auto,this.positionType=n.YGPositionType.Relative,this.flexWrap=n.YGWrap.NoWrap,this.overflow=n.YGOverflow.Visible,this.display=n.YGDisplay.Flex,this.flex=new a.YGFloatOptional,this.flexGrow=new a.YGFloatOptional,this.flexShrink=new a.YGFloatOptional,this.flexBasis=l(),this.margin=d(),this.position=d(),this.padding=d(),this.border=d(),this.dimensions=u(),this.minDimensions=h(),this.maxDimensions=h(),this.aspectRatio=new a.YGFloatOptional}return e.prototype.isEqual=function(e){var t=this.direction==e.direction&&this.flexDirection==e.flexDirection&&this.justifyContent==e.justifyContent&&this.alignContent==e.alignContent&&this.alignItems==e.alignItems&&this.alignSelf==e.alignSelf&&this.positionType==e.positionType&&this.flexWrap==e.flexWrap&&this.overflow==e.overflow&&this.display==e.display&&o.YGValueEqual(this.flexBasis,e.flexBasis)&&o.YGValueArrayEqual(this.margin,e.margin)&&o.YGValueArrayEqual(this.position,e.position)&&o.YGValueArrayEqual(this.padding,e.padding)&&o.YGValueArrayEqual(this.border,e.border)&&o.YGValueArrayEqual(this.dimensions,e.dimensions)&&o.YGValueArrayEqual(this.minDimensions,e.minDimensions)&&o.YGValueArrayEqual(this.maxDimensions,e.maxDimensions);return!(t=t&&this.flex.isUndefined()==e.flex.isUndefined())||this.flex.isUndefined()||e.flex.isUndefined()||(t=t&&this.flex.getValue()==e.flex.getValue()),(t=t&&this.flexGrow.isUndefined()==e.flexGrow.isUndefined())&&!this.flexGrow.isUndefined()&&(t=t&&this.flexGrow.getValue()==e.flexGrow.getValue()),(t=t&&this.flexShrink.isUndefined()==e.flexShrink.isUndefined())&&!e.flexShrink.isUndefined()&&(t=t&&this.flexShrink.getValue()==e.flexShrink.getValue()),this.aspectRatio.isUndefined()&&e.aspectRatio.isUndefined()||(t=t&&this.aspectRatio.getValue()==e.aspectRatio.getValue()),t},e.prototype.isDiff=function(e){return!this.isEqual(e)},e.prototype.clone=function(){var t=new e;return t.direction=this.direction,t.flexDirection=this.flexDirection,t.justifyContent=this.justifyContent,t.alignContent=this.alignContent,t.alignItems=this.alignItems,t.alignSelf=this.alignSelf,t.positionType=this.positionType,t.flexWrap=this.flexWrap,t.overflow=this.overflow,t.display=this.display,t.flex=this.flex.clone(),t.flexGrow=this.flexGrow.clone(),t.flexShrink=this.flexShrink.clone(),t.flexBasis=this.flexBasis.clone(),t.margin=o.cloneYGValueArray(this.margin),t.position=o.cloneYGValueArray(this.position),t.padding=o.cloneYGValueArray(this.padding),t.border=o.cloneYGValueArray(this.border),t.dimensions=[this.dimensions[0].clone(),this.dimensions[1].clone()],t.minDimensions=[this.minDimensions[0].clone(),this.minDimensions[1].clone()],t.maxDimensions=[this.maxDimensions[0].clone(),this.maxDimensions[1].clone()],t.aspectRatio=this.aspectRatio.clone(),t},e}();t.YGStyle=c}])},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(6);if("undefined"==typeof AFRAME)throw'aframe-material-collection requires AFRAME to be loaded first. - <script src="https://aframe.io/releases/0.8.2/aframe.min.js"><\/script>';n.registerMaterialUiSystem()},function(e,t,i){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0}),i(7),i(8),i(9),i(10),i(11),i(12),i(13),i(14),i(15),i(16),i(17),i(18),i(19),i(20),i(21);const o=n(i(22)),s=i(0),a=i(23),r=i(25),l=i(27),d=i(28),u=i(29),h=i(30),c=i(31),p=i(32),g=i(33),f=i(34),m=i(35),y=i(36),G=i(37),Y=i(38),v=i(39),x=i(40),b=i(41),D=i(42),S=i(43),E=i(44),w=i(45);t.registerMaterialUiSystem=function(){console.log("aframe-material-collection version "+o.version),s.registerSystemController(a.MaterialUiSystem.DEFINITION),s.registerComponentController(r.Border.DEFINITION),s.registerComponentController(l.Button.DEFINITION),s.registerComponentController(d.Checkbox.DEFINITION),s.registerComponentController(u.ColorPicker.DEFINITION),s.registerComponentController(h.CurvedPlane.DEFINITION),s.registerComponentController(c.DoubleClick.DEFINITION),s.registerComponentController(p.Icon.DEFINITION),s.registerComponentController(g.InputText.DEFINITION),s.registerComponentController(f.Modal.DEFINITION),s.registerComponentController(m.MouseShim.DEFINITION),s.registerComponentController(y.NumberComponent.DEFINITION),s.registerComponentController(G.Radio.DEFINITION),s.registerComponentController(Y.Ripple.DEFINITION),s.registerComponentController(v.Rounded.DEFINITION),s.registerComponentController(x.Slider.DEFINITION),s.registerComponentController(b.Switch.DEFINITION),s.registerComponentController(D.Toast.DEFINITION),s.registerComponentController(S.Yoga.DEFINITION),s.registerComponentController(E.UI.DEFINITION),s.registerComponentController(w.ScrollPane.DEFINITION)}},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-button",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"plane",width:.5,height:.175},material:{color:"#009688",shader:"flat"},"ui-btn":{},"ui-rounded":{borderRadius:.0025},"ui-ripple":{size:{x:.5,y:.175},clampToSquare:!0,zIndex:.001},text:{font:"roboto",align:"center",zOffset:.002,wrapCount:10,alphaTest:.4}},mappings:{height:"geometry.height",width:"geometry.width",color:"material.color",transparent:"material.transparent","font-color":"text.color","ripple-color":"ui-ripple.color","ripple-size":"ui-ripple.size","ripple-z-index":"ui-ripple.zIndex","text-value":"text.value","wrap-count":"text.wrapCount","border-radius":"ui-rounded.borderRadius","curve-segments":"ui-rounded.curveSegments",disabled:"ui-btn.disabled","hover-height":"ui-btn.hoverHeight","active-height":"ui-btn.activeHeight","prevent-updates":"ui-btn.preventUpdates"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-fab-button",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"circle",radius:.1,segments:6},material:{color:"#009688",shader:"flat"},"ui-btn":{},"ui-ripple":{size:{x:.1,y:.1},zIndex:.002,fadeDelay:300,duration:500},"ui-icon":{size:{x:.105,y:.105}}},mappings:{radius:"geometry.radius",color:"material.color","icon-color":"ui-icon.color",transparent:"material.transparent",src:"ui-icon.src","ripple-color":"ui-ripple.color","ripple-size":"ui-ripple.size","ripple-z-index":"ui-ripple.zIndex",disabled:"ui-btn.disabled",coords:"ui-icon.spriteCoords"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-switch",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-switch":{}},mappings:{value:"ui-switch.value",disabled:"ui-switch.disabled"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-slider",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-slider":{}},mappings:{value:"ui-slider.value",disabled:"ui-slider.disabled","camera-el":"ui-slider.cameraEl"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-number",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-number":{}},mappings:{}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-toast",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{geometry:{primitive:"plane",width:.5,height:.2},material:{color:"#010e0f",shader:"flat",transparent:!0,opacity:.8},"ui-rounded":{borderRadius:.01,curveSegments:3},text:{font:"roboto",value:"Toast Message!",align:"center",zOffset:.002,wrapCount:20}},mappings:{height:"geometry.height",width:"geometry.width",color:"material.color",transparent:"material.transparent","font-color":"text.color","text-value":"text.value","wrap-count":"text.wrapCount","border-radius":"ui-rounded.borderRadius","curve-segments":"ui-rounded.curveSegments"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-checkbox",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-checkbox":{},"ui-ripple":{size:{x:.1,y:.1},zIndex:-.001,color:"#afafaf"}},mappings:{value:"ui-checkbox.value",disabled:"ui-checkbox.disabled",indeterminate:"ui-checkbox.indeterminate"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-radio",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-radio":{},geometry:{primitive:"ring",radiusInner:.0575,radiusOuter:.0675,segmentsTheta:6},material:{shader:"flat",color:"#afafaf"},"ui-ripple":{size:{x:.1,y:.1},zIndex:-.001,color:"#afafaf"}},mappings:{color:"ui-radio.selectedColor",value:"ui-radio.value",selected:"ui-radio.selected",disabled:"ui-radio.disabled"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-input-text",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-input-text":{placeHolder:"Text...",width:1,height:.2,value:""},"ui-double-click":{}},mappings:{width:"ui-input-text.width",height:"ui-input-text.height",type:"ui-input-text.type",value:"ui-input-text.value","background-color":"ui-input-text.backgroundColor","place-holder":"ui-input-text.placeHolder","camera-el":"ui-input-text.cameraEl","rig-el":"ui-input-text.rigEl","tab-next":"ui-input-text.tabNext","look-controls-component":"ui-input-text.lookControlsComponent","wasd-controls-component":"ui-input-text.wasdControlsComponent"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-text-input",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-text":{placeHolder:"Text..."},"ui-double-click":{}},mappings:{width:"ui-text.width",height:"ui-text.height",value:"ui-text.value","place-holder":"ui-text.placeHolder"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-number-input",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-text":{type:"number",placeHolder:"Number..."},"ui-double-click":{}},mappings:{width:"ui-text.width",height:"ui-text.height",value:"ui-text.value","place-holder":"ui-text.placeHolder"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-int-input",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-text":{type:"int",placeHolder:"Whole Number..."},"ui-double-click":{}},mappings:{width:"ui-text.width",height:"ui-text.height",value:"ui-text.value","place-holder":"ui-text.placeHolder"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-password-input",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-text":{type:"password",placeHolder:""},"ui-double-click":{}},mappings:{width:"ui-text.width",height:"ui-text.height",value:"ui-text.value","place-holder":"ui-text.placeHolder"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui-scroll-pane",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{"ui-scroll-pane":{}},mappings:{width:"ui-scroll-pane.width",height:"ui-scroll-pane.height","scroll-z-offset":"ui-scroll-pane.scrollZOffset","handle-color":"ui-scroll-pane.scrollHandleColor","scroll-padding":"ui-scroll-pane.scrollPadding","look-controls-el":"ui-scroll-pane.cameraEl","look-controls-component":"ui-scroll-pane.lookControlsComponent"}}))},function(e,t,i){"use strict";const n=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(i(2));e.exports=n.default.registerPrimitive("a-ui",n.default.utils.extendDeep({},n.default.primitives.getMeshMixin(),{defaultComponents:{ui:{}},mappings:{"ui-panel":"ui.uiPanel","look-controls-el":"ui.lookControlsEl","look-controls-component":"ui.lookControlsComponent","panel-position":"ui.panelPosition","panel-size":"ui.panelSize","panel-depth":"ui.panelDepth","panel-color":"ui.panelColor","panel-alpha":"ui.panelAlpha","render-resolution":"ui.renderResolution","debug-raycaster":"ui.debugRaycaster",fps:"ui.fps","intersectable-class":"ui.intersectableClass","render-debug":"ui.debug","init-delay":"ui.initDelay"}}))},function(e){e.exports={name:"@tlaukkan/aframe-material-collection-ts",version:"0.5.0",description:"Material UI based primitives and components for use in your aframe projects.",homepage:"https://github.com/shaneharris/aframe-material-collection",keywords:["AFRAME","UI","Material"],scripts:{start:"webpack-dev-server --mode development",build:"webpack --mode production",test:"karma start karma.config.js"},repository:{type:"git",url:"git@github.com:shaneharris/aframe-material-collection.git"},bugs:{url:"https://github.com/shaneharris/aframe-material-collection/issues"},devDependencies:{"@types/chai":"^4.1.6","@types/es6-promise":"^3.3.0","@types/mocha":"^5.2.5",chai:"*","uglifyjs-webpack-plugin":"^1.2.7",karma:"^3.1.4","karma-chai":"^0.1.0","karma-chrome-launcher":"^2.2.0","karma-firefox-launcher":"^1.1.0","karma-ie-launcher":"^1.0.0","karma-mocha":"^1.3.0","karma-webpack":"^3.0.5",mocha:"*","ts-loader":"^5.2.1",typescript:"^3.1.1",webpack:"^4.16.1","webpack-cli":"^3.1.0","webpack-dev-server":"^3.1.14"},author:"Shane Harris,Tommi Laukkanen",license:"MIT",dependencies:{"@types/aframe":"^0.8.2","@types/three":"^0.93.18","aframe-typescript-boilerplate":"^0.0.4",typeflex:"0.0.1","worker-loader":"^2.0.0"}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(24),o=i(0);class s extends n.AbstractSystemController{constructor(e,t,i){super(e,t,i),this.changes={},this.changing=!1}init(){console.log("material ui system init.")}pause(){}play(){}tick(e,t){}isFirstOrLastChange(){let e=!0;for(let t in this.changes){e=!1;break}this.changing||e?this.changing&&e&&this.changing&&(this.scene.emit("ui-changing-stopped"),this.changing=!1):(this.scene.emit("ui-changing"),this.changing=!0)}preventDefault(e){e.detail&&e.detail.preventDefault&&"function"==typeof e.detail.preventDefault&&e.detail.preventDefault()}shorten(e,t){return e.length>t?e.substr(0,t)+"...":e}isChanging(e,t){if(this.changes[t])this.changes[t].t=(new Date).getTime();else{let e=(new Date).getTime();this.changes[t]={t:e,e:(new Error).stack},this.isFirstOrLastChange()}}stoppedChanging(e){delete this.changes[e],this.isFirstOrLastChange()}clearObject(e){e.traverse(e=>{if(e.material)if(e.material.length)for(let t=0;t<e.material.length;t++)e.material[t].map&&e.material[t].map.dispose(),e.material[t].dispose();else e.material.map&&e.material.map.dispose(),e.material.dispose();e.geometry&&e.geometry.dispose()})}}s.DEFINITION=new o.SystemControllerDefinition("material-ui",{},(e,t,i)=>new s(e,t,i)),t.MaterialUiSystem=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AbstractSystemController=class{constructor(e,t,i){this.systemName=e.name,this.scene=t,this.data=i,this.system=e}getSystemController(e){const t=this.scene.systems[e];if(!t)throw new Error("System is not registered to scene: "+t);return t.controller}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i)}init(){let e=this.component.el.getObject3D("mesh").geometry.metadata,t=new o.Shape;this.roundedRect(t,e.parameters.width,e.parameters.height,this.data.borderRadius,!1),this.roundedRect(t,e.parameters.width-2*this.data.borderWidth,e.parameters.height-2*this.data.borderWidth,this.data.borderRadius,!0),this.component.el.setObject3D("mesh",new o.Mesh(new o.ShapeGeometry(t,this.data.curveSegments),new o.MeshBasicMaterial({color:this.data.color})))}tick(e,t){}roundedRect(e,t,i,n,s){let a,r=-t/2,l=-i/2;s&&(a=e,e=new o.Path),e.moveTo(r,l+n),e.lineTo(r,l+i-n),e.quadraticCurveTo(r,l+i,r+n,l+i),e.lineTo(r+t-n,l+i),e.quadraticCurveTo(r+t,l+i,r+t,l+i-n),e.lineTo(r+t,l+n),e.quadraticCurveTo(r+t,l,r+t-n,l),e.lineTo(r+n,l),e.quadraticCurveTo(r,l,r,l+n),s&&a.holes.push(e)}}a.DEFINITION=new n.ComponentControllerDefinition("ui-border",{borderRadius:{type:"number",default:.01},curveSegments:{type:"int",default:5},borderWidth:{type:"number",default:.008},color:{default:"#5f5f5f"},numberOfPoints:{type:"int",default:180}},!1,!1,(e,t,i)=>new a(e,t,i)),t.Border=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.AbstractComponentController=class{constructor(e,t,i){this.componentName=e.name,this.entity=t,this.scene=t.sceneEl,this.data=i,this.component=e}setData(e){this.data=e}getSystemController(e){if(!this.entity.sceneEl)throw new Error("Scene is undefined.");const t=this.entity.sceneEl.systems[e];if(!t)throw new Error("System is not registered to scene: "+t);return t.controller}getComponentController(e){const t=this.entity.components[e];if(!t)throw new Error("Component is not registered to entity: "+e);return t.controller}addEventListener(e,t){this.entity.addEventListener(e,e=>{t(e.detail)})}dispatchEvent(e,t){this.entity.dispatchEvent(new CustomEvent(e,{detail:t}))}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(1);class s extends o.UiElement{constructor(e,t,i){super(e,t,i),this.defaultZ=0,this.is_clicked=!1}init(){this.defaultZ=this.component.el.object3D.position.z,this.data.disabled||(this.component.el.addEventListener("mouseenter",e=>this.mouseEnter(e)),this.component.el.addEventListener("mousedown",e=>this.mouseDown(e)),this.component.el.addEventListener("mouseup",e=>this.mouseUp(e)),this.component.el.addEventListener("mouseleave",e=>this.mouseLeave(e)))}mouseEnter(e){const t=this;this.tween(this.defaultZ,this.defaultZ+this.data.hoverHeight,function(){t.component.el.object3D.position.z=this.x},function(){t.component.el.object3D.position.z=t.defaultZ+t.data.hoverHeight})}mouseLeave(e){if(this.is_clicked)return this.is_clicked=!1;this.resetAnimation(this.defaultZ+this.data.hoverHeight)}mouseUp(e){this.is_clicked=!0,this.resetAnimation(this.defaultZ+this.data.activeHeight),this.ui.preventDefault(e)}mouseDown(e){const t=this;this.tween(this.defaultZ+this.data.hoverHeight,this.defaultZ+this.data.activeHeight,function(){t.component.el.object3D.position.z=this.x},function(){t.component.el.object3D.position.z=t.defaultZ+t.data.activeHeight}),this.ui.preventDefault(e)}resetAnimation(e){let t=this;this.tween(e,this.defaultZ,function(){t.component.el.object3D.position.z=this.x},function(){t.component.el.object3D.position.z=t.defaultZ})}tween(e,t,i,n){let o=this;return this.data.preventUpdates||this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),new TWEEN.Tween({x:e}).to({x:t},this.data.duration).onUpdate(i).onComplete(()=>(o.data.preventUpdates||this.ui.stoppedChanging(o.component.el.object3D.uuid),n.call(this))).easing(TWEEN.Easing.Exponential.Out).start()}}s.DEFINITION=new n.ComponentControllerDefinition("ui-btn",{duration:{type:"int",default:250},hoverHeight:{type:"number",default:.01},activeHeight:{type:"number",default:-.001},disabled:{type:"boolean",default:!1},preventUpdates:{type:"boolean",default:!1}},!1,!1,(e,t,i)=>new s(e,t,i)),t.Button=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(1);class s extends o.UiElement{constructor(e,t,i){super(e,t,i),this.width=0,this.height=0,this.container=void 0,this.topLine=void 0,this.bottomLine=void 0,this.leftLine=void 0,this.rightLine=void 0,this.clickHandler=(()=>{})}init(){this.width=.15,this.height=.15,this.container=document.createElement("a-entity"),this.container.setAttribute("class","no-yoga-layout"),this.component.el.appendChild(this.container),this.setupLines();let e=document.createElement("a-plane");e.setAttribute("width",.105),e.setAttribute("height",.105),e.setAttribute("position","0 0 -0.002"),e.setAttribute("shader","flat"),e.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),e.setAttribute("opacity",1e-4),e.setAttribute("transparent",!0),this.component.el.appendChild(e),this.clickHandler=(()=>{this.data.value=!this.data.value,this.click()}),this.setSelected(),this.setDisabled(),this.setTransform(1)}updateSchema(){this.data&&(this.setDisabled(),this.data.disabled?this.data.value&&(this.data.value=!1,this.data.indeterminate=!1,this.click()):this.click())}setTransform(e){this.data.value?(this.container.setAttribute("rotation",{x:0,y:0,z:-45*e}),this.container.setAttribute("position",{x:-.025*e,y:.05*e,z:0})):(this.container.setAttribute("rotation",{x:0,y:0,z:45*e-45}),this.container.setAttribute("position",{x:.025-.025*e,y:.05-.05*e,z:0}))}click(){this.data.indeterminate=!1,this.setSelected(),this.animateSelected()}animateSelected(){let e=this;this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),new TWEEN.Tween({x:0}).to({x:1},200).onUpdate(function(){e.setTransform(this.x)}).onComplete(function(){e.ui.stoppedChanging(e.component.el.object3D.uuid)}).easing(TWEEN.Easing.Exponential.Out).start()}setSelected(){this.data.value?(this.topLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.leftLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.bottomLine.setAttribute("scale","1 1 1"),this.rightLine.setAttribute("scale","1 1 1"),this.bottomLine.setAttribute("position","0.025 -0.05 0"),this.rightLine.setAttribute("position","0.05 0 0"),this.bottomLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("height",.05),this.bottomLine.setAttribute("color",this.data.selectedColor),this.rightLine.setAttribute("color",this.data.selectedColor)):this.data.indeterminate?(this.topLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.leftLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.bottomLine.setAttribute("scale","1 1 1"),this.rightLine.setAttribute("scale","0.000001 0.000001 0.000001"),this.bottomLine.setAttribute("position","0 0 0"),this.bottomLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("height",.1),this.bottomLine.setAttribute("color",this.data.unselectedColor),this.rightLine.setAttribute("color",this.data.unselectedColor)):(this.topLine.setAttribute("scale","1 1 1"),this.leftLine.setAttribute("scale","1 1 1"),this.bottomLine.setAttribute("scale","1 1 1"),this.rightLine.setAttribute("scale","1 1 1"),this.bottomLine.setAttribute("height",.1),this.leftLine.setAttribute("position","-0.05 0 0"),this.rightLine.setAttribute("position","0.05 0 0"),this.topLine.setAttribute("position","0 0.05 0"),this.bottomLine.setAttribute("position","0 -0.05 0"),this.topLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("rotation","0 0 90"),this.bottomLine.setAttribute("color",this.data.unselectedColor),this.rightLine.setAttribute("color",this.data.unselectedColor))}setupLines(){this.leftLine=this.line(!0),this.rightLine=this.line(!0),this.topLine=this.line(!0),this.bottomLine=this.line(!0),this.container.appendChild(this.topLine),this.container.appendChild(this.leftLine),this.container.appendChild(this.bottomLine),this.container.appendChild(this.rightLine)}setDisabled(){this.data.disabled?(this.component.el.removeEventListener("mousedown",this.clickHandler),this.topLine.setAttribute("color",this.data.disabledColor),this.leftLine.setAttribute("color",this.data.disabledColor),this.rightLine.setAttribute("color",this.data.disabledColor),this.bottomLine.setAttribute("color",this.data.disabledColor)):(this.component.el.addEventListener("mousedown",this.clickHandler),this.topLine.setAttribute("color",this.data.unselectedColor),this.leftLine.setAttribute("color",this.data.unselectedColor),this.rightLine.setAttribute("color",this.data.value?this.data.selectedColor:this.data.unselectedColor),this.bottomLine.setAttribute("color",this.data.value?this.data.selectedColor:this.data.unselectedColor))}line(e){let t=document.createElement("a-plane");return t.setAttribute("width",e?.01:.105),t.setAttribute("height",e?.105:.01),t.setAttribute("class","no-yoga-layout"),t.setAttribute("shader","flat"),t}}s.DEFINITION=new n.ComponentControllerDefinition("ui-checkbox",{value:{type:"boolean",default:!1},selectedColor:{default:"#009688"},unselectedColor:{default:"#7f7f7f"},disabledColor:{default:"#afafaf"},indeterminate:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},intersectableClass:{default:"intersectable"},width:{type:"number",default:.15},height:{type:"number",default:.15}},!1,!1,(e,t,i)=>new s(e,t,i)),t.Checkbox=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i),this.selectCallback=(e=>{}),this.hexValue=void 0,this.colorPreview=void 0,this.colorWheel=void 0,this.brightnessSlider=void 0,this.hsv=void 0,this.isMouseDown=!1}init(){this.setupColorWheel(),this.setupBrightnessSlider(),this.setupColorPreview(),this.setupBacking(),this.setupEvents(),this.component.el.setAttribute("visible",!1),this.component.el.setAttribute("scale","0.00001 0.00001 0.00001"),this.component.el.open=this.open.bind(this),this.component.el.close=this.close.bind(this)}open(){return new Promise(e=>{this.selectCallback=e,this.component.el.setAttribute("visible",!0),this.tweenPickerScale(1e-5,.5)})}close(){this.tweenPickerScale(.5,1e-5).then(()=>this.component.el.setAttribute("visible",!1))}tweenPickerScale(e,t){return this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),new Promise(i=>{let n=this;new TWEEN.Tween({x:e}).to({x:t},250).onUpdate(function(){n.component.el.setAttribute("scale",this.x+" "+this.x+" "+this.x)}).onComplete(()=>{this.ui.stoppedChanging(this.component.el.object3D.uuid),i()}).easing(TWEEN.Easing.Exponential.Out).start()})}setupBacking(){let e=document.createElement("a-circle");e.className="no-yoga-layout",e.setAttribute("position","0 0 -0.001"),e.setAttribute("material",{color:this.data.backingColor,flatShading:!0,shader:"flat",fog:!1,side:"double"}),e.setAttribute("radius",.65),e.setAttribute("theta-length",180),this.component.el.appendChild(e);let t=document.createElement("a-plane");t.setAttribute("position","0 -0.375 -0.001"),t.className="no-yoga-layout",t.setAttribute("material",{color:this.data.backingColor,flatShading:!0,shader:"flat",fog:!1,side:"double"}),t.setAttribute("width",1.3),t.setAttribute("height",.75),this.component.el.appendChild(t);let i=document.createElement("a-plane");i.setAttribute("position","0 -1.05 -0.001"),i.className="no-yoga-layout",i.setAttribute("material",{color:this.data.backingColorBottom,flatShading:!0,shader:"flat",fog:!1,side:"double"}),i.setAttribute("width",1.3),i.setAttribute("height",.6),this.component.el.appendChild(i);let n=document.createElement("a-ui-button");n.setAttribute("position","0.315 -1.17 0.001"),n.className="intersectable no-yoga-layout",n.setAttribute("text-value","SAVE"),n.setAttribute("color","#ffffff"),n.setAttribute("wrap-count","9"),n.setAttribute("ripple-color","#009688"),n.setAttribute("font-color","#009688"),n.setAttribute("ripple-size","0.5 0.18"),n.setAttribute("width",.5),n.setAttribute("height",.18),this.data.targetEl&&this.data.targetEl.addEventListener("mousedown",()=>{this.component.el.open()}),this.component.el.appendChild(n),n.addEventListener("mousedown",e=>{let t=this.getHex();this.component.el.emit("color-selected",t),this.component.el.close(),this.ui.preventDefault(e),this.data.targetEl&&this.data.targetEl.setAttribute("color",t),this.selectCallback&&"function"==typeof this.selectCallback&&this.selectCallback(t)});let o=document.createElement("a-ui-button");o.setAttribute("position","-0.315 -1.17 0.001"),o.className="intersectable no-yoga-layout",o.setAttribute("text-value","CANCEL"),o.setAttribute("color","#ffffff"),o.setAttribute("wrap-count","9"),o.setAttribute("ripple-color","#ff9800"),o.setAttribute("font-color","#ff9800"),o.setAttribute("ripple-size","0.5 0.18"),o.setAttribute("width",.5),o.setAttribute("height",.18),this.component.el.appendChild(o),o.addEventListener("mousedown",e=>{this.component.el.emit("color-cancelled"),this.component.el.close(),this.ui.preventDefault(e)}),this.hexValue=document.createElement("a-text"),this.hexValue.setAttribute("value","#ffffff"),this.hexValue.setAttribute("align","center"),this.hexValue.setAttribute("position","0 -0.9 0.001"),this.hexValue.setAttribute("wrap-count",15),this.hexValue.setAttribute("width",1.3),this.component.el.appendChild(this.hexValue)}setupColorPreview(){this.colorPreview=document.createElement("a-circle"),this.colorPreview.setAttribute("position","-0.45 -0.9 0"),this.colorPreview.setAttribute("material",{color:"#ffffff",flatShading:!0,transparent:!0,shader:"flat",fog:!1,side:"double"}),this.colorPreview.setAttribute("radius",.05),this.component.el.appendChild(this.colorPreview)}setupColorWheel(){this.hsv={h:0,s:0,v:1},this.colorWheel=document.createElement("a-circle"),this.colorWheel.setAttribute("material",{color:"#ffffff",flatShading:!0,transparent:!0,shader:"flat",fog:!1,side:"double"}),this.colorWheel.setAttribute("radius",.5),this.component.el.appendChild(this.colorWheel),this.colorWheel.className="intersectable no-yoga-layout",this.colorWheel.addEventListener("loaded",()=>{let e=this.colorWheel.getObject3D("mesh");e.material=new o.ShaderMaterial({uniforms:{brightness:{type:"f",value:this.hsv.v}},vertexShader:"\n\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\n        gl_Position = projectionMatrix * mvPosition;\n      }\n    ",fragmentShader:"\n      #define M_PI2 6.28318530718\n      uniform float brightness;\n      varying vec2 vUv;\n      vec3 hsb2rgb(in vec3 c){\n          vec3 rgb = clamp(abs(mod(c.x * 6.0 + vec3(0.0, 4.0, 2.0), 6.0) - 3.0) - 1.0, 0.0, 1.0 );\n          rgb = rgb * rgb * (3.0 - 2.0 * rgb);\n          return c.z * mix( vec3(1.0), rgb, c.y);\n      }\n\n      void main() {\n        vec2 toCenter = vec2(0.5) - vUv;\n        float angle = atan(toCenter.y, toCenter.x);\n        float radius = length(toCenter) * 2.0;\n        vec3 color = hsb2rgb(vec3((angle / M_PI2) + 0.5, radius, brightness));\n        gl_FragColor = vec4(color, 1.0);\n      }\n      "}),e.material.needsUpdate=!0})}setupBrightnessSlider(){this.brightnessSlider=document.createElement("a-plane"),this.brightnessSlider.setAttribute("height",.1),this.brightnessSlider.setAttribute("width",.8),this.brightnessSlider.setAttribute("position","0 -0.6 0"),this.brightnessSlider.className="intersectable no-yoga-layout",this.component.el.appendChild(this.brightnessSlider),this.brightnessSlider.addEventListener("loaded",()=>{this.brightnessSlider.getObject3D("mesh").material=new o.ShaderMaterial({uniforms:{color1:{type:"c",value:new o.Color(16777215)},color2:{type:"c",value:new o.Color(0)}},vertexShader:"\n      varying vec2 vUv;\n      void main(){\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n      }\n    ",fragmentShader:"\n      uniform vec3 color1;\n      uniform vec3 color2;\n      varying vec2 vUv;\n\n      void main(){\n        vec4 c1 = vec4(color1, 1.0);\n  \t    vec4 c2 = vec4(color2, 1.0);\n\n        vec4 color = mix(c2, c1, smoothstep(0.0, 1.0, vUv.x));\n        gl_FragColor = color;\n      }\n    "}),this.brightnessSlider.getObject3D("mesh").material.needsUpdate=!0});let e=document.createElement("a-triangle");e.setAttribute("vertex-a","0 0.05 0"),e.setAttribute("vertex-b","-0.05 -0.05 0"),e.setAttribute("vertex-c","0.05 -0.05 0"),e.setAttribute("position","-0.475 -0.6 0"),e.setAttribute("rotation","0 0 90"),e.setAttribute("shader","flat"),e.setAttribute("color","#009688"),e.setAttribute("ui-btn",""),e.className="intersectable",this.component.el.appendChild(e);let t=document.createElement("a-triangle");t.setAttribute("vertex-a","0 0.05 0"),t.setAttribute("vertex-b","-0.05 -0.05 0"),t.setAttribute("vertex-c","0.05 -0.05 0"),t.setAttribute("position","0.475 -0.6 0"),t.setAttribute("rotation","0 0 -90"),t.setAttribute("color","#009688"),t.setAttribute("shader","flat"),t.setAttribute("ui-btn",""),t.className="intersectable",this.component.el.appendChild(t),e.addEventListener("mousedown",()=>{this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),this.colorWheel.getObject3D("mesh").material.uniforms.brightness.value=0,this.hsv.v=0,this.hsv.h=0,this.hsv.s=0,this.updateColor(),this.ui.stoppedChanging(this.component.el.object3D.uuid)}),t.addEventListener("mousedown",()=>{this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),this.colorWheel.getObject3D("mesh").material.uniforms.brightness.value=1,this.hsv.v=1,this.hsv.h=0,this.hsv.s=0,this.updateColor(),this.ui.stoppedChanging(this.component.el.object3D.uuid)})}getHex(){let e=this.hsvToRgb(this.hsv),t="rgb("+e.r+", "+e.g+", "+e.b+")";return"#"+new o.Color(t).getHexString()}updateColor(){let e=this.getHex();this.colorPreview.setAttribute("color",e),this.hexValue.setAttribute("value",e)}setupEvents(){this.colorWheel.addEventListener("mousedown",e=>{this.isMouseDown=!0,this.ui.preventDefault(e)}),this.colorWheel.addEventListener("mouseup",e=>{console.log("mouseup on color picker"),this.isMouseDown=!1,this.ui.preventDefault(e)}),this.colorWheel.addEventListener("ui-mousemove",e=>{if(!this.isMouseDown)return;this.ui.preventDefault(e),this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid);let t=this.colorWheel.getObject3D("mesh"),i=e.detail.intersection.point;t.updateMatrixWorld(!1),t.worldToLocal(i);let n=Math.sqrt(i.x*i.x+i.y*i.y),o=((Math.PI+Math.atan2(i.y,i.x))*(180/Math.PI)+180)%360;this.hsv.h=o/360,this.hsv.s=n/.5,this.updateColor(),this.ui.stoppedChanging(this.component.el.object3D.uuid)}),this.brightnessSlider.addEventListener("mousedown",e=>{this.isMouseDown=!0,this.ui.preventDefault(e)}),this.brightnessSlider.addEventListener("mouseup",e=>{this.isMouseDown=!1,this.ui.preventDefault(e)}),this.brightnessSlider.addEventListener("ui-mousemove",e=>{if(this.ui.preventDefault(e),this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),!this.isMouseDown)return;let t=this.brightnessSlider.getObject3D("mesh"),i=this.colorWheel.getObject3D("mesh"),n=e.detail.intersection.point;t.updateMatrixWorld(!1),t.worldToLocal(n);let o=(n.x+.4)/.8;i.material.uniforms.brightness.value=o,this.hsv.v=o,this.updateColor(),this.ui.stoppedChanging(this.component.el.object3D.uuid)})}hsvToRgb(e){let t,i,n,s,a,r,l,d,u=o.Math.clamp(e.h,0,1),h=o.Math.clamp(e.s,0,1),c=e.v;switch(r=c*(1-h),l=c*(1-(a=6*u-(s=Math.floor(6*u)))*h),d=c*(1-(1-a)*h),s%6){case 0:t=c,i=d,n=r;break;case 1:t=l,i=c,n=r;break;case 2:t=r,i=c,n=d;break;case 3:t=r,i=l,n=c;break;case 4:t=d,i=r,n=c;break;case 5:t=c,i=r,n=l}return{r:Math.round(255*t),g:Math.round(255*i),b:Math.round(255*n)}}}a.DEFINITION=new n.ComponentControllerDefinition("ui-color-picker",{backingColor:{default:"#dfdfdf"},backingColorBottom:{default:"#4db6ac"},targetEl:{type:"selector"}},!1,!1,(e,t,i)=>new a(e,t,i)),t.ColorPicker=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i)}init(){let e=this.component.el.getObject3D("mesh"),t=this.component.el.getAttribute("width"),i=this.component.el.getAttribute("height"),n=new o.PlaneGeometry(t,i,5,1),s=new o.CubicBezierCurve3(n.vertices[0],new o.Vector3(.375*t,0,-this.data.depth*t),new o.Vector3(.625*t,0,-this.data.depth*t),n.vertices[n.vertices.length/2-1]).getPoints(Math.abs(n.vertices.length/2)-1);for(let e=1;e<3;e++)for(let t=0;t<s.length;t++)n.vertices[2===e?s.length+t:t].z=s[t].z;e.geometry=n}}a.DEFINITION=new n.ComponentControllerDefinition("ui-curved-plane",{depth:{type:"number",default:.03}},!1,!1,(e,t,i)=>new a(e,t,i)),t.CurvedPlane=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(1);class s extends o.UiElement{constructor(e,t,i){super(e,t,i)}init(){let e=0;this.component.el.addEventListener("mousedown",t=>{let i=(new Date).getTime();i-e<this.data.timeout&&(this.component.el.emit("dblclick",t),e=0,t.preventDefault()),e=i})}}s.DEFINITION=new n.ComponentControllerDefinition("ui-double-click",{timeout:{type:"int",default:200}},!1,!1,(e,t,i)=>new s(e,t,i)),t.DoubleClick=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(1);class s extends o.UiElement{constructor(e,t,i){super(e,t,i),this.icon=void 0}init(){this.icon=document.createElement("a-entity"),this.icon.className="no-yoga-layout",this.icon.setAttribute("geometry","primitive:plane; width: "+this.data.size.x+"; height: "+this.data.size.y+";skipCache: true;"),this.icon.setAttribute("material","shader: flat; color:"+this.data.color+";alpha-test:0.4; transparent:true;src:"+this.data.src),this.data.spriteCoords&&this.icon.setAttribute("sprite-sheet","coords:"+this.data.spriteCoords.x+" "+this.data.spriteCoords.y+" "+this.data.spriteCoords.z+" "+this.data.spriteCoords.w+";shape:square"),this.icon.setAttribute("position","0 0 "+this.data.zIndex),this.component.el.appendChild(this.icon)}}s.DEFINITION=new n.ComponentControllerDefinition("ui-icon",{src:{default:"icons/send_white_64dp.png"},spriteCoords:{type:"vec4"},size:{type:"vec2",default:{x:.1,y:.1}},zIndex:{type:"number",default:.003},color:{default:"#fff"}},!1,!1,(e,t,i)=>new s(e,t,i)),t.Icon=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i),this.container=void 0,this.backing=void 0,this.underline=void 0,this.selectionHighlight=void 0,this.carret=void 0,this.text={},this.alphabet={},this.startSelection=0,this.scrollOffset=0,this.scrollIndex=0,this.carretInterval=void 0,this.shiftStartPos=void 0,this.chars=new Array,this.charsAllowed=new Array,this.blurHandler=(()=>{}),this.isMoving=!1,this.isFocused=!1,this.mousemove=(e=>{}),this.keydown=(e=>{}),this.keySelectAll=(()=>{}),this.keyCut=(()=>{}),this.keyCopy=(()=>{}),this.keyPaste=(()=>{}),this.positions=new Array,this.depends=["text"],this.content_clips=[new o.Plane(new o.Vector3(-1,0,0),0),new o.Plane(new o.Vector3(1,0,0),0)]}init(){this.setupElements(),this.setupScrollClips(),this.text.addEventListener("textfontset",()=>{this.text.selectionStart=0,this.text.selectionLength=0,this.startSelection=0,this.scrollOffset=0,this.alphabet={},this.scrollIndex=0;let e=this.data.value.split("");this.chars=[],this.charsAllowed=["-","_","+","=","{","}","[","]",":",";","'","@","~","#","<",">",",",".","?","/","|","\\","`","¬"];for(let t=0;t<e.length;t++)this.chars.push({char:e[t]});this.blurHandler=(()=>{this.component.el.sceneEl.defaultKeypressPrevented?this.component.el.sceneEl.defaultKeypressPrevented=!1:this.blur()}),this.isMoving=!1,this.mousemove=this.onMousemove.bind(this),this.keydown=(e=>this.handleKeyboardEvent(e)),this.keySelectAll=(()=>this.selectAll()),this.keyCut=(()=>this.cutText()),this.keyCopy=(()=>this.copyText()),this.keyPaste=(()=>this.pasteText()),this.backing.addEventListener("mousedown",()=>{this.focus()}),this.component.el.sceneEl.addEventListener("mouseup",()=>{this.backing.removeEventListener("ui-mousemove",this.mousemove),this.isMoving=!1,this.setSelection(this.text.selectionStart,this.text.selectionLength)}),this.component.el.setAttribute("visible",!1),this.setValue(),setTimeout(()=>{this.setScrollClips(),this.component.el.setAttribute("visible",!0)},500)}),this.component.el.getValue=this.getValue.bind(this),this.component.el.value=this.value.bind(this),this.component.el.focus=this.focus.bind(this)}setupScrollClips(){this.content_clips=[new o.Plane(new o.Vector3(-1,0,0),0),new o.Plane(new o.Vector3(1,0,0),0)]}selectAll(){this.text.selectionStart=0,this.text.selectionLength=this.chars.length,this.setValue()}increaseWrap(){let e=this.text.object3D.children[this.text.object3D.children.length-1];e&&(e.geometry.layout&&e.geometry.layout._linesTotal>1?(this.text.setAttribute("visible",!1),this.text.setAttribute("width",1.2*this.text.getAttribute("width")),this.text.setAttribute("wrap-pixels",500*this.text.getAttribute("width")),this.text.setAttribute("x-offset",(this.text.getAttribute("width")-this.data.width)/2),setTimeout(()=>this.increaseWrap())):this.text.setAttribute("visible",!0))}setScrollClips(){this.content_clips[0].set(new o.Vector3(-1,0,0),this.data.width/2+.005),this.content_clips[1].set(new o.Vector3(1,0,0),this.data.width/2+.005),this.content_clips[0].applyMatrix4(this.backing.object3D.matrixWorld),this.content_clips[1].applyMatrix4(this.backing.object3D.matrixWorld),setTimeout(()=>{let e=this.text.object3D.children[this.text.object3D.children.length-1];e&&(e.material.clippingPlanes=this.text._content_clips?this.text._content_clips.concat(this.content_clips):this.content_clips)},0);let e=this.selectionHighlight.getObject3D("mesh");e&&(e.material.clippingPlanes=this.text._content_clips?this.text._content_clips.concat(this.content_clips):this.content_clips);let t=this.carret.getObject3D("mesh");t&&(t.material.clipShadows=!0,t.material.needsUpdate=!0,t.material.clippingPlanes=this.text._content_clips?this.text._content_clips.concat(this.content_clips):this.content_clips)}numberOnly(e,t){if(-1!==[46,8,9,27,13,110].indexOf(e.keyCode)||65===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||67===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||88===e.keyCode&&(!0===e.ctrlKey||!0===e.metaKey)||e.keyCode>=35&&e.keyCode<=39)return!0;let i=this.getValue();return e?(t?/^\d*((\.)|(\.\d+))?$/g:/^\d*?$/g).test(i+e.key):void 0}floatOnly(e){return this.numberOnly(e,!0)}focus(){this.isFocused||(this.isFocused=!0,this.setupCarret(),this.setScrollClips(),setTimeout(()=>{this.setValue(),this.component.el.sceneEl.addEventListener("mousedown",this.blurHandler),this.playPauseCamera("pause")}),this.backing.addEventListener("ui-mousemove",this.mousemove),window.addEventListener("keydown",this.keydown),this.component.el.sceneEl.addEventListener("key-select",this.keySelectAll),this.component.el.sceneEl.addEventListener("key-cut",this.keyCut),this.component.el.sceneEl.addEventListener("key-copy",this.keyCopy),this.component.el.sceneEl.addEventListener("key-paste",this.keyPaste),this.underline.setAttribute("height",.008),this.underline.setAttribute("color","#009688"))}blur(){this.chars.length&&"."===this.chars[this.chars.length-1].char&&"number"===this.data.type&&(this.chars.pop(),this.setValue()),this.setSelection(0,0),setTimeout(()=>{clearInterval(this.carretInterval),this.carret.getObject3D("mesh").material.opacity=0,this.isFocused=!1}),this.component.el.sceneEl.removeEventListener("mousedown",this.blurHandler),this.playPauseCamera("play"),window.removeEventListener("keydown",this.keydown),this.component.el.sceneEl.removeEventListener("key-select",this.keySelectAll),this.component.el.sceneEl.removeEventListener("key-cut",this.keyCut),this.component.el.sceneEl.removeEventListener("key-copy",this.keyCopy),this.component.el.sceneEl.removeEventListener("key-paste",this.keyPaste),this.ui.stoppedChanging(this.text.object3D.uuid),this.underline.setAttribute("height",.005),this.underline.setAttribute("color","#bfbfbf")}pasteText(){navigator.clipboard.readText().then(e=>{let t=[this.text.selectionStart,this.text.selectionLength].concat(e.split("").map(e=>({char:e})));Array.prototype.splice.apply(this.chars,t),this.text.selectionStart=this.text.selectionStart+t.length-2,this.text.selectionLength=0,this.setValue()})}cutText(){this.copyText(),this.chars.splice(this.text.selectionStart,this.text.selectionLength),this.setValue()}copyText(){let e=this.chars.slice(this.text.selectionStart,this.text.selectionStart+this.text.selectionLength).map(e=>e.char).join("");navigator.clipboard.writeText(e)}handleKeyboardEvent(e){if(13===e.keyCode)this.component.el.emit("submit");else if(9===e.keyCode)this.data.tabNext&&(this.carret.getObject3D("mesh").material.opacity=1,this.blur(),setTimeout(()=>this.data.tabNext.focus()));else if(88===e.keyCode&&e.ctrlKey)this.cutText();else if(67===e.keyCode&&e.ctrlKey)this.copyText();else if(86===e.keyCode&&e.ctrlKey)this.pasteText();else if(65===e.keyCode&&e.ctrlKey)this.text.selectionStart=0,this.text.selectionLength=this.chars.length,e.preventDefault(),e.stopPropagation();else if(e.code.indexOf("Key")>-1||e.code.indexOf("Digit")>-1||this.charsAllowed.indexOf(e.key)>-1){let t=!0;switch(this.data.type){case"number":t=this.floatOnly(e);break;case"int":console.log(this.numberOnly(e,!1)),t=this.numberOnly(e,!1)}t&&(this.chars.splice(this.text.selectionStart,this.text.selectionLength,{char:e.key}),this.text.selectionStart++,this.text.selectionLength=0),e.preventDefault(),e.stopPropagation()}else 46===e.keyCode?(this.chars.splice(this.text.selectionStart,this.text.selectionLength||1),this.text.selectionStart=this.text.selectionStart>this.chars.length?this.chars.length:this.text.selectionStart,this.text.selectionLength=0,e.preventDefault(),e.stopPropagation()):39===e.keyCode?(e.shiftKey?(this.shiftStartPos||(this.shiftStartPos=this.text.selectionStart),this.text.selectionStart<this.shiftStartPos?(this.text.selectionStart++,this.text.selectionLength=Math.abs(this.shiftStartPos-this.text.selectionStart)):this.text.selectionLength++):(this.text.selectionLength?this.text.selectionStart+=this.text.selectionLength:this.text.selectionStart++,this.text.selectionLength=0,this.text.selectionStart>this.chars.length&&(this.text.selectionStart=this.chars.length),delete this.shiftStartPos),e.preventDefault(),e.stopPropagation()):37===e.keyCode?(e.shiftKey?(this.shiftStartPos||(this.shiftStartPos=this.text.selectionStart),this.text.selectionStart+this.text.selectionLength>this.shiftStartPos?this.text.selectionLength--:(this.text.selectionStart--,this.text.selectionLength=Math.abs(this.shiftStartPos-this.text.selectionStart))):(this.text.selectionLength||this.text.selectionStart--,this.text.selectionLength=0,this.text.selectionStart<0&&(this.text.selectionStart=0),delete this.shiftStartPos),e.preventDefault(),e.stopPropagation()):(this.text.selectionLength?8===e.keyCode&&(this.chars.splice(this.text.selectionStart,this.text.selectionLength),this.text.selectionLength=0):8===e.keyCode?this.text.selectionStart&&(this.chars.splice(this.text.selectionStart-1,this.text.selectionLength||1),this.text.selectionStart=this.text.selectionStart-1):32===e.keyCode&&(this.chars.splice(this.text.selectionStart,0,{char:" "}),this.text.selectionStart++),e.preventDefault(),e.stopPropagation());this.component.el.emit("ui-keypress",e),this.setValue(),this.carret.getObject3D("mesh").material.opacity=1}setValue(){this.setScrolledValue(),setTimeout(()=>{this.setCharacters(),this.setSelection(this.text.selectionStart,this.text.selectionLength),this.increaseWrap()})}setScrolledValue(){let e=this.getValue();this.text.setAttribute("value",e),this.chars.length?(this.text.setAttribute("value",e),this.text.setAttribute("color","#2f2f2f")):(this.text.setAttribute("color","#bfbfbf"),this.text.setAttribute("value",this.data.placeHolder))}onMousemove(e){let t=this.getSelectionPosition(e);this.isMoving||(this.isMoving=!0,this.startSelection=t);let i=this.getNearestGlyph(this.startSelection,t);this.selectionHighlight.setAttribute("scale",i.end-i.start+" 1 1"),this.selectionHighlight.setAttribute("position",i.start+(i.end-i.start)/2+" 0 0.0005"),this.carret.setAttribute("position",i.end+" 0 0.001")}setupElements(){this.container=document.createElement("a-entity"),this.container.setAttribute("position",this.data.width/2+" 0 0"),this.text=document.createElement("a-text"),this.text.setAttribute("color","#2f2f2f"),this.text.setAttribute("anchor","center"),this.text.setAttribute("align","left"),this.text.setAttribute("position","0 0 0.003"),this.text.setAttribute("width",this.data.width),this.text.setAttribute("wrap-pixels",500*this.data.width),this.text.className="no-yoga-layout",this.text.setAttribute("height",this.data.height),this.text.setAttribute("value",this.data.value),this.container.appendChild(this.text),this.selectionHighlight=document.createElement("a-box"),this.selectionHighlight.setAttribute("width",1),this.selectionHighlight.setAttribute("scale","0 1 1"),this.selectionHighlight.setAttribute("height",.16),this.selectionHighlight.setAttribute("depth",1e-5),this.selectionHighlight.setAttribute("transparent",!0),this.selectionHighlight.className="no-yoga-layout",this.selectionHighlight.setAttribute("color","#009688"),this.selectionHighlight.setAttribute("shader","flat"),this.selectionHighlight.setAttribute("opacity",.3),this.selectionHighlight.setAttribute("position","0 0 0.0005"),this.text.appendChild(this.selectionHighlight),this.carret=document.createElement("a-box"),this.carret.setAttribute("width",.01),this.carret.setAttribute("height",.12),this.carret.setAttribute("depth",1e-5),this.carret.setAttribute("transparent",!0),this.carret.setAttribute("opacity",0),this.carret.setAttribute("shader","flat"),this.carret.className="no-yoga-layout",this.carret.setAttribute("color","#009688"),this.carret.setAttribute("position",-this.data.width/2+" 0 0.001"),this.text.appendChild(this.carret),this.backing=document.createElement("a-box"),this.backing.className="intersectable no-yoga-layout text-backing",this.backing.setAttribute("width",this.data.width+.1),this.backing.setAttribute("height",this.data.height),this.backing.setAttribute("depth",1e-5),this.backing.setAttribute("color",this.data.backgroundColor),this.backing.setAttribute("shader","flat"),this.container.appendChild(this.backing),this.underline=document.createElement("a-box"),this.underline.setAttribute("width",this.data.width),this.underline.setAttribute("height",.005),this.underline.setAttribute("depth",1e-5),this.underline.className="no-yoga-layout",this.underline.setAttribute("shader","flat"),this.underline.setAttribute("color","#bfbfbf"),this.underline.setAttribute("position","0 -0.072 0.001"),this.container.appendChild(this.underline),this.component.el.appendChild(this.container)}setupCarret(){let e=this.carret.getObject3D("mesh").material;this.carretInterval=setInterval(()=>{e.opacity=e.opacity?0:1,this.ui.isChanging(this.component.el.sceneEl,this.text.object3D.uuid)},350)}value(e){if(!e&&""!==e)return this.chars.map(e=>e.char).join("");this.chars=e.split("").map(e=>({char:e})),this.text.selectionStart=this.chars.length,this.setValue()}getValue(){let e="";for(let t=0;t<this.chars.length;t++)e+="password"===this.data.type?"*":this.chars[t].char;return e}getSelectionPosition(e){return this.component.el.object3D.updateMatrixWorld(!1),this.text.object3D.worldToLocal(e.detail.intersection.point.clone()).x}playPauseCamera(e){let t=this.data.cameraEl;t&&t.components[this.data.lookControlsComponent]&&t.components[this.data.lookControlsComponent][e](),this.data.rigEl&&(t=this.data.rigEl),t&&t.components[this.data.wasdControlsComponent]&&t.components[this.data.wasdControlsComponent][e]()}setCharacters(){this.positions=new Array;let e=this.text.object3D.children[this.text.object3D.children.length-1];if(!this.chars.length||!e)return;let t=e.geometry.layout.glyphs,i=e.scale.x,n=0;for(let e=0;e<t.length;e++){let o=t[e];this.chars[e]||console.log(t.length,this.chars.length);let s=" "===this.chars[e].char?20:o.data.width,a=(o.position[0]+s+o.position[1])*i+.08;0===e&&(n=(o.position[0]+o.position[1])*i+.08),this.chars[e].id||(this.chars[e].id=o.data.id,this.chars[e].width=a-n),this.chars[e].left=n,n=a}}getNearestGlyph(e,t){let i=Number(this.text.getAttribute("width")),n=this.data.width;if(t<e){let i=t;t=e,e=i}e<-n/2&&(e=-n/2),t>i-n/2&&(t=i-n/2);let o=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a={start:0,end:0};if(this.chars.length)for(let i=0;i<=this.chars.length;i++){let r=this.chars[i===this.chars.length?i-1:i],l=(i===this.chars.length?r.left+r.width:r.left)-n/2;Math.abs(e-l)<o&&(o=Math.abs(e-l),a.start=l,this.text.selectionStart=i),Math.abs(t-l)<s&&(s=Math.abs(t-l),a.end=l,this.text.selectionLength=i-this.text.selectionStart)}return a}setSelection(e,t){this.text.selectionStart=e,this.text.selectionLength=t;let i=0,n=0;for(let o=0;o<this.chars.length;o++){let s=this.chars[o];if(o>=e&&o<e+t+1){let t=s.left;o===e&&(n=t),i=t}}let o=this.chars.length?this.chars[this.chars.length-1].left+this.chars[this.chars.length-1].width:0;e+t===this.chars.length&&(i=o),e===this.chars.length&&(n=i=o);let s=this.data.width;this.selectionHighlight.setAttribute("scale",i-n+" 1 1"),this.selectionHighlight.setAttribute("position",n+(i-n)/2-s/2+" 0 0.0005");let a=i-s/2;this.carret.setAttribute("position",a+" 0 0.001"),a>s/2-this.scrollOffset&&(this.scrollOffset=-(a-s/2),this.text.setAttribute("position",this.scrollOffset+" 0 0.003")),a+s/2<-this.scrollOffset&&(this.scrollOffset+=-this.scrollOffset-(a+s/2),this.scrollOffset>0&&(this.scrollOffset=0),this.text.setAttribute("position",this.scrollOffset+" 0 0.003"))}}a.DEFINITION=new n.ComponentControllerDefinition("ui-input-text",{value:{default:""},disabled:{type:"boolean",default:!1},type:{default:"text"},cameraEl:{type:"selector"},rigEl:{type:"selector"},tabNext:{type:"selector"},width:{type:"number",default:1},height:{type:"number",default:.2},backgroundColor:{default:"white"},lookControlsComponent:{default:"look-controls"},wasdControlsComponent:{default:"wasd-controls"},placeHolder:{default:"Text..."}},!1,!1,(e,t,i)=>new a(e,t,i)),t.InputText=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(1);class s extends o.UiElement{constructor(e,t,i){super(e,t,i),this.modalPanel=void 0,this.mainComponents={},this.modalComponents={},this.openModal=(()=>{}),this.modalTween=void 0}init(){if(this.data.modal&&this.data.main){this.modalPanel=document.querySelector(this.data.modal.getAttribute("ui-panel")),this.mainComponents=this.data.main.components,this.modalComponents=this.data.modal.components,this.modalComponents&&this.modalComponents.ui&&this.modalComponents.ui.pause();let e=this.data.modal.querySelectorAll(".close-modal");for(let t=0;t<e.length;t++){e[t].addEventListener("mousedown",()=>{this.close()})}this.openModal=this.open.bind(this),this.component.el.addEventListener("mousedown",this.openModal),this.data.main.modal=this,this.component.el.open=this.open.bind(this),this.component.el.close=this.close.bind(this)}}remove(){this.component.el.removeEventListener("mousedown",this.openModal)}open(){this.mainComponents&&this.mainComponents.ui&&(this.mainComponents.ui.el.pauseRender(),this.tweenModalScale(1e-7,1),this.modalComponents.ui.play())}close(){this.modalComponents.ui.pause(),this.mainComponents.ui.play(),this.mainComponents.ui.el.playRender(),this.tweenModalScale(1,1e-7).then(()=>{this.component.el.sceneEl.emit("modal-closed")})}tweenModalScale(e,t){return new Promise(i=>{let n=this;this.modalTween&&this.modalTween.stop(),this.modalTween=new TWEEN.Tween({x:e}).to({x:t},250).onUpdate(function(){n.modalPanel&&n.modalPanel.setAttribute("scale",this.x+" "+this.x+" "+this.x)}).onComplete(i).easing(TWEEN.Easing.Exponential.Out).start()})}}s.DEFINITION=new n.ComponentControllerDefinition("ui-modal",{modal:{type:"selector"},main:{type:"selector"}},!1,!1,(e,t,i)=>new s(e,t,i)),t.Modal=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(1);class s extends o.UiElement{constructor(e,t,i){super(e,t,i),this.onmousewheele=(e=>{}),this.lastMouseMoveTime=0}init(){if(!this.component.el.components.raycaster)throw"ui-mouse-move component needs the raycaster component to be added.";this.onmousewheele=this.onMouseWheel.bind(this),this.component.el.sceneEl.raycaster=this.component.el.components.raycaster}pause(){this.component.el.sceneEl.renderer.domElement.removeEventListener("wheel",this.onmousewheele,!1)}play(){this.component.el.sceneEl.renderer.domElement.addEventListener("wheel",this.onmousewheele,!1)}tick(e,t){(new Date).getTime()-this.lastMouseMoveTime<1e3/this.data.fps||(this.emitMouseEvent("ui-mousemove",new MouseEvent("ui-mousemove")),this.lastMouseMoveTime=(new Date).getTime())}onMouseWheel(e){this.emitMouseEvent("ui-mousewheel",e)}emitMouseEvent(e,t){this.component.el.sceneEl.cursorPoint&&this.component.el.components.raycaster.intersections.length&&this.component.el.sceneEl.renderer.vr.enabled?(this.component.el.sceneEl.cursorPoint.position.copy(this.component.el.components.raycaster.intersections[0].point),this.component.el.sceneEl.cursorPoint.scale.set(1,1,1)):this.component.el.sceneEl.cursorPoint&&!this.component.el.sceneEl.hasSceneCursor&&this.component.el.sceneEl.cursorPoint.scale.set(1e-5,1e-5,1e-5),this.component.el.components.raycaster.intersections.forEach(i=>{i.object.el&&i.object.el.emit(e,{cursorEl:this.component.el,intersection:i,evt:t})})}}s.DEFINITION=new n.ComponentControllerDefinition("ui-mouse-shim",{fps:{type:"number",default:45}},!1,!0,(e,t,i)=>new s(e,t,i)),t.MouseShim=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(1);class s extends o.UiElement{constructor(e,t,i){super(e,t,i)}init(){let e=document.createElement("a-plane");e.setAttribute("width","0.55"),e.setAttribute("height","0.2"),e.className="no-yoga-layout",e.setAttribute("color","#212121"),e.setAttribute("text","value:"+this.data.value.toFixed(3)+";color:#212121;wrapCount:12;align:center"),e.setAttribute("ui-border","borderRadius:0.1;borderWidth:0.008");let t=document.createElement("a-ui-fab-button-small");t.setAttribute("scale","0.75 0.75 0.75"),t.className="no-yoga-layout "+this.data.intersectableClass,t.setAttribute("color","#009688"),t.setAttribute("position","0.33 0.055 0.001"),t.setAttribute("color","#009688"),t.setAttribute("icon-color","#fff"),t.setAttribute("ripple-color","#009688"),t.setAttribute("src","https://cdn.theexpanse.app/images/icons/baseline_keyboard_arrow_up_white_18dp.png"),t.addEventListener("click",()=>{this.data.value+=this.data.increment,e.setAttribute("text","value:"+this.data.value.toFixed(3)+";color:#212121;wrapCount:12;align:center"),this.component.el.emit("change",this.data.value)});let i=document.createElement("a-ui-fab-button-small");i.setAttribute("scale","0.75 0.75 0.75"),i.className="no-yoga-layout "+this.data.intersectableClass,i.setAttribute("color","#009688"),i.setAttribute("position","0.33 -0.055 0.001"),i.setAttribute("color","#009688"),i.setAttribute("icon-color","#fff"),i.setAttribute("ripple-color","#009688"),i.setAttribute("src","https://cdn.theexpanse.app/images/icons/down_arrow.png"),i.addEventListener("click",()=>{this.data.value-=this.data.increment,e.setAttribute("text","value:"+this.data.value.toFixed(3)+";color:#212121;wrapCount:12;align:center"),this.component.el.emit("change",this.data.value)}),e.appendChild(t),e.appendChild(i),this.component.el.appendChild(e)}}s.DEFINITION=new n.ComponentControllerDefinition("ui-number",{value:{type:"number",default:0},increment:{type:"number",default:.001},width:{type:"number",default:.65},height:{type:"number",default:.2},intersectableClass:{default:"intersectable"}},!1,!1,(e,t,i)=>new s(e,t,i)),t.NumberComponent=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i),this.width=0,this.height=0,this.filled_circle=void 0,this.isRippling=!1,this.isSelecting=!1}init(){this.width=.15,this.height=.15,this.component.el.addEventListener("loaded",()=>{let e='\n            <a-circle radius="'+this.data.selectedRadius+'" color="'+(this.data.disabled?this.data.disabledColor:this.data.selectedColor)+'" \n            position="0 0 0" scale="0 0 0" shader="flat" class="no-yoga-layout" segments="6"></a-circle>';this.component.el.insertAdjacentHTML("beforeend",e),this.filled_circle=this.component.el.lastChild,this.component.el.components.material.material.color=new o.Color(this.data.disabled?this.data.disabledColor:this.data.unselectedColor);let t='\n            <a-circle radius="'+this.data.selectedRadius+'" position="0 0 -0.002" opacity="0.0001" transparent="true" \n            shader="flat" class="'+this.data.intersectableClass+' no-yoga-layout" segments="6"></a-circle>';this.component.el.insertAdjacentHTML("beforeend",t),this.data.selected&&this.filled_circle.addEventListener("loaded",()=>{this.click()}),this.data.disabled||this.component.el.addEventListener("mousedown",e=>this.click(e))})}deselect(){this.component.el.setAttribute("selected",!1);let e=this;this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),new TWEEN.Tween({x:1}).to({x:1e-6},200).onUpdate(function(){e.filled_circle.object3D.scale.set(this.x,this.x,this.x)}).onComplete(()=>{this.ui.stoppedChanging(e.component.el.object3D.uuid),this.isRippling=!1}).easing(TWEEN.Easing.Exponential.Out).start()}click(){if([].slice.call(this.component.el.parentNode.querySelectorAll("a-ring,a-ui-radio")).filter(e=>e!==this.component.el).forEach(e=>{e.components["ui-radio"]&&"true"===e.getAttribute("selected")&&e.components["ui-radio"].controller.deselect()}),this.component.el.emit("ui-radio-changed",this.data.value),this.component.el.setAttribute("selected",!0),this.isSelecting)return;this.isSelecting=!0;let e=this;this.ui.isChanging(this.component.el.sceneEl,this.filled_circle.object3D.uuid),new TWEEN.Tween({x:1e-6}).to({x:1},250).onUpdate(function(){e.filled_circle.object3D.scale.set(this.x,this.x,this.x)}).onComplete(()=>{this.ui.stoppedChanging(this.filled_circle.object3D.uuid),this.isSelecting=!1}).easing(TWEEN.Easing.Exponential.Out).start()}}a.DEFINITION=new n.ComponentControllerDefinition("ui-radio",{value:{default:""},selected:{type:"boolean",default:!1},selectedColor:{default:"#009688"},selectedRadius:{type:"number",default:.045},unselectedColor:{default:"#5f5f5f"},disabledColor:{default:"#afafaf"},disabled:{type:"boolean",default:!1},intersectableClass:{default:"intersectable"},width:{type:"number",default:.15},height:{type:"number",default:.15}},!1,!1,(e,t,i)=>new a(e,t,i)),t.Radio=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i),this.rippleGeometry=void 0,this.ripple=void 0,this.content_clips=new Array,this.isRippling=!1}init(){this.rippleGeometry=new o.CircleGeometry(Math.max(this.data.size.x,this.data.size.y),this.data.segments),this.ripple=new o.Mesh(this.rippleGeometry.clone(),new o.MeshBasicMaterial({color:this.data.color,transparent:!0,opacity:.4,alphaTest:.1})),this.ripple.scale.set(1e-5,1e-5,1e-5),this.component.el.object3D.add(this.ripple),this.component.el.addEventListener("mousedown",this.click.bind(this)),this.ripple.position.set(0,0,this.data.zIndex),this.data.clampToSquare&&(this.content_clips=[new o.Plane(new o.Vector3(0,1,0),this.data.size.y/2),new o.Plane(new o.Vector3(0,-1,0),this.data.size.y/2),new o.Plane(new o.Vector3(-1,0,0),this.data.size.x/2),new o.Plane(new o.Vector3(1,0,0),this.data.size.x/2)])}click(e){if(this.isRippling)return e.preventDefault();this.isRippling=!0,this.data.clampToSquare&&this.setRippleClips(),this.tweenSize(this.ripple.geometry),this.tweenOpacity(this.ripple.material)}setRippleClips(){this.content_clips[0].set(new o.Vector3(0,1,0),this.data.size.y/2),this.content_clips[1].set(new o.Vector3(0,-1,0),this.data.size.y/2),this.content_clips[2].set(new o.Vector3(-1,0,0),this.data.size.x/2),this.content_clips[3].set(new o.Vector3(1,0,0),this.data.size.x/2),this.content_clips[0].applyMatrix4(this.component.el.object3D.matrixWorld),this.content_clips[1].applyMatrix4(this.component.el.object3D.matrixWorld),this.content_clips[2].applyMatrix4(this.component.el.object3D.matrixWorld),this.content_clips[3].applyMatrix4(this.component.el.object3D.matrixWorld),this.ripple.material.clippingPlanes=this.component.el._content_clips?this.component.el._content_clips.concat(this.content_clips):this.content_clips,this.ripple.material.clipShadows=!0,this.ripple.material.needsUpdate=!0}tweenSize(e){let t=this;this.ui.isChanging(this.component.el.sceneEl,t.ripple.uuid),new TWEEN.Tween({x:1e-5}).to({x:1},this.data.duration).onUpdate(function(){t.ripple.scale.set(this.x,this.x,this.x)}).onComplete(()=>{t.ripple.scale.set(1e-5,1e-5,1e-5),this.isRippling=!1,this.ui.stoppedChanging(t.ripple.uuid)}).easing(TWEEN.Easing.Exponential.Out).start()}tweenOpacity(e){new TWEEN.Tween({x:.4}).to({x:0},this.data.fadeDuration).delay(this.data.fadeDelay).onUpdate(function(){e.opacity=this.x}).onComplete(()=>{e.opacity=.4}).easing(TWEEN.Easing.Exponential.Out).start()}}a.DEFINITION=new n.ComponentControllerDefinition("ui-ripple",{color:{default:"#fff"},duration:{type:"int",default:1e3},fadeDuration:{type:"int",default:750},fadeDelay:{type:"int",default:250},clampToSquare:{type:"boolean",default:!1},size:{type:"vec2",default:{x:1,y:1}},zIndex:{type:"number",default:-.001},segments:{type:"int",default:6}},!1,!1,(e,t,i)=>new a(e,t,i)),t.Ripple=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i)}init(){let e=this.component.el.getObject3D("mesh"),t=new o.Shape;!function(e,t,i,n,o,s){e.moveTo(t,i+s),e.lineTo(t,i+o-s),e.quadraticCurveTo(t,i+o,t+s,i+o),e.lineTo(t+n-s,i+o),e.quadraticCurveTo(t+n,i+o,t+n,i+o-s),e.lineTo(t+n,i+s),e.quadraticCurveTo(t+n,i,t+n-s,i),e.lineTo(t+s,i),e.quadraticCurveTo(t,i,t,i+s)}(t,-e.geometry.metadata.parameters.width/2,-e.geometry.metadata.parameters.height/2,e.geometry.metadata.parameters.width,e.geometry.metadata.parameters.height,this.data.borderRadius),e.geometry=new o.ShapeBufferGeometry(t,this.data.curveSegments),this.component.el.emit("rounded-loaded",null,!1)}}a.DEFINITION=new n.ComponentControllerDefinition("ui-rounded",{borderRadius:{type:"number",default:.01},curveSegments:{type:"int",default:1}},!1,!1,(e,t,i)=>new a(e,t,i)),t.Rounded=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i),this.scroll_perc=0,this.width=0,this.height=0,this.handlePos=0,this.backgroundPanel=void 0,this.handleEl=void 0,this.railEl=void 0,this.progress=void 0,this.isDragging=!1}init(){this.scroll_perc=this.data.value,this.width=this.data.width,this.height=this.data.height,this.backgroundPanel=document.createElement("a-plane"),this.backgroundPanel.setAttribute("class","no-yoga-layout background "+this.data.intersectableClass),this.backgroundPanel.setAttribute("width",this.data.width+1),this.backgroundPanel.setAttribute("height",this.data.height+1),this.backgroundPanel.setAttribute("position","0 0 -0.02"),this.backgroundPanel.setAttribute("opacity",1e-4),this.backgroundPanel.setAttribute("transparent",!0),this.component.el.appendChild(this.backgroundPanel),this.handleEl=document.createElement("a-circle"),this.handleEl.setAttribute("radius",this.data.handleRadius),this.handleEl.setAttribute("color",this.data.handleColor),this.handleEl.setAttribute("shader","flat"),this.handleEl.setAttribute("ui-ripple","size:0.1 0.1;color:#999;fadeDelay:300;duration:500"),this.handleEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.handleEl.setAttribute("position",-this.data.width/2+this.data.handleRadius+" 0 "+this.data.handleZIndex),this.handleEl.setAttribute("segments",6),this.component.el.appendChild(this.handleEl),this.railEl=document.createElement("a-plane"),this.railEl.setAttribute("width",this.data.width-.1),this.railEl.setAttribute("height","0.05"),this.railEl.setAttribute("shader","flat"),this.railEl.setAttribute("ui-rounded","borderRadius:0.025"),this.railEl.setAttribute("color",this.data.railColor),this.railEl.setAttribute("class",this.data.intersectableClass+" no-yoga-layout"),this.component.el.appendChild(this.railEl),this.railEl.addEventListener("rounded-loaded",()=>{this.getRailObject(this.railEl.object3D),this.slide(this.scroll_perc,!0)});const e=e=>{if(this.data.cameraEl){let t=this.data.cameraEl.components[this.data.lookControlsComponent];t&&t[e]()}},t=e=>this.mouseMove(e);this.handleEl.addEventListener("mousedown",i=>{e("pause"),this.isDragging=!0,this.component.el.emit("slide-start",this.scroll_perc),this.handlePos=this.handleEl.object3D.worldToLocal(i.detail.intersection?i.detail.intersection.point:i.relatedTarget.object3D.position).x,this.backgroundPanel.addEventListener("ui-mousemove",t),this.ui.isChanging(this.component.el.sceneEl,this.handleEl.object3D.uuid),this.ui.preventDefault(i)});const i=i=>{this.isDragging&&(this.backgroundPanel.removeEventListener("ui-mousemove",t),e("play"),this.isDragging=!1,this.component.el.emit("slide-end",this.scroll_perc),this.ui.stoppedChanging(this.handleEl.object3D.uuid),this.ui.preventDefault(i))};this.backgroundPanel.addEventListener("mouseup",i),this.backgroundPanel.addEventListener("mouseleave",i),this.railEl.addEventListener("mousedown",e=>{this.ui.isChanging(this.component.el.sceneEl,this.handleEl.object3D.uuid),this.isDragging=!0,this.handlePos=0,this.slide(this.railEl.object3D.worldToLocal(e.detail.intersection?e.detail.intersection.point:e.relatedTarget.object3D.position).x),this.backgroundPanel.addEventListener("ui-mousemove",t),this.component.el.emit("slide-end",this.scroll_perc),this.ui.preventDefault(e)}),this.component.el.slide=this.slide.bind(this),this.component.el.getValue=this.getValue.bind(this),this.component.el.railEl=this.railEl}getValue(){return this.scroll_perc}slide(e,t){let i=-this.data.width/2+this.data.handleRadius,n=this.data.width/2-this.data.handleRadius,s=t?i+(n-i)*e:o.Math.clamp(e,i,n);this.scroll_perc=t?e:(s-i)/(n-i),this.component.el.emit("slide",this.scroll_perc),this.progress.scale.set(this.scroll_perc||1e-4,1,1),this.progress.position.set(-(this.data.width-this.data.handleRadius)/2+this.scroll_perc*((this.data.width-this.data.handleRadius)/2),0,1e-4),this.handleEl.setAttribute("position",s+" 0 "+(this.data.scrollZOffset+5e-4))}mouseMove(e){if(this.isDragging){let t=this.railEl.object3D.worldToLocal(e.detail.intersection.point);this.slide(t.x-this.handlePos+this.data.handleRadius)}}getRailObject(e){e.traverse(e=>{e.geometry&&"ShapeBufferGeometry"===e.geometry.type&&(this.progress=new o.Mesh(e.geometry.clone(),new o.MeshBasicMaterial({color:this.data.progressColor})),this.progress.position.set(-this.data.width/2,0,1e-4),this.progress.scale.set(1e-5,1,1),this.component.el.object3D.add(this.progress))})}}a.DEFINITION=new n.ComponentControllerDefinition("ui-slider",{value:{type:"number",default:0},disabled:{type:"boolean",default:!1},progressColor:{default:"#4db6ac"},handleColor:{default:"#009688"},handleDisabledColor:{default:"#afafaf"},railColor:{default:"#fff"},handleZIndex:{type:"number",default:.001},intersectableClass:{default:"intersectable"},width:{type:"number",default:.5},height:{type:"number",default:.1},lookControlsComponent:{default:"look-controls"},handleRadius:{type:"number",default:.055},scrollZOffset:{type:"number",default:0},cameraEl:{type:"selector"}},!1,!1,(e,t,i)=>new a(e,t,i)),t.Slider=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i),this.width=0,this.height=0,this.handleEl=void 0,this.railEl=void 0,this.progress=void 0,this.clickHandler=(e=>{})}init(){this.width=.3,this.height=.1;let e='\n            <a-circle radius="0.055" shader="flat" color="'+this.data.handleColor+'" \n            ui-ripple="size:0.1 0.1;color:#999;fadeDelay:300;duration:500" class="'+this.data.intersectableClass+' no-yoga-layout"\n            position="-0.05 0 '+this.data.handleZIndex+'" segments="6"></a-circle>';this.component.el.insertAdjacentHTML("beforeend",e),this.handleEl=this.component.el.lastChild;let t='<a-plane width="0.15" shader="flat" height="0.05" \n            ui-rounded="borderRadius:0.025" class="'+this.data.intersectableClass+' no-yoga-layout"\n            color="'+this.data.railColor+'" segments="6"></a-plane>';this.component.el.insertAdjacentHTML("beforeend",t),this.railEl=this.component.el.lastChild,this.railEl.addEventListener("rounded-loaded",()=>{this.getRailObject(this.railEl.object3D),this.setDisabled(),this.click()}),this.component.el.getValue=this.getValue.bind(this),this.clickHandler=(e=>{this.data.value=!this.data.value,this.click(),e.detail.preventDefault&&e.detail.preventDefault()})}updateSchema(){this.data&&(this.data.disabled?this.data.value&&(this.data.value=!1,this.click()):this.click(),this.setDisabled())}getValue(){return this.data.value}setDisabled(){this.data.disabled?(this.handleEl.removeEventListener("mousedown",this.clickHandler),this.handleEl.setAttribute("color",this.data.handleDisabledColor)):(this.handleEl.addEventListener("mousedown",this.clickHandler),this.handleEl.setAttribute("color",this.data.handleColor))}click(){this.component.el.emit("ui-switch-changed",this.data.value),this.tweenHandle(),this.tweenProgress()}getRailObject(e){e.traverse(e=>{e.geometry&&"ShapeBufferGeometry"===e.geometry.type&&(this.progress=new o.Mesh(e.geometry.clone(),new o.MeshBasicMaterial({color:this.data.progressColor})),this.progress.position.set(-.075,0,.001),this.progress.scale.set(1e-5,1,1),this.component.el.object3D.add(this.progress))})}tweenProgress(){this.progress&&(new TWEEN.Tween(this.progress.position).to(new o.Vector3(this.data.value?0:-.075,0,.001),this.data.switchDuration).easing(TWEEN.Easing.Exponential.Out).start(),new TWEEN.Tween(this.progress.scale).to(new o.Vector3(this.data.value?1:1e-5,1,1),this.data.switchDuration).easing(TWEEN.Easing.Exponential.Out).start())}tweenHandle(){this.handleEl&&(this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),new TWEEN.Tween(this.handleEl.object3D.position).to(new o.Vector3(this.data.value?.05:-.05,0,this.data.handleZIndex),this.data.switchDuration).onComplete(()=>{this.ui.stoppedChanging(this.component.el.object3D.uuid)}).easing(TWEEN.Easing.Exponential.Out).start())}}a.DEFINITION=new n.ComponentControllerDefinition("ui-switch",{value:{type:"boolean",default:!1},disabled:{type:"boolean",default:!1},progressColor:{default:"#4db6ac"},handleColor:{default:"#009688"},handleDisabledColor:{default:"#afafaf"},railColor:{default:"#fff"},switchDuration:{type:"int",default:350},handleZIndex:{type:"number",default:.01},intersectableClass:{default:"intersectable"},width:{type:"number",default:.3},height:{type:"number",default:.1}},!1,!1,(e,t,i)=>new a(e,t,i)),t.Switch=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(1);class s extends o.UiElement{constructor(e,t,i){super(e,t,i),this.originalPosition=void 0,this.closeTween=void 0}init(){this.originalPosition=this.data.toastEl.getAttribute("position").clone(),this.component.el.addEventListener("mousedown",()=>{this.closeTween&&this.closeTween.stop(),this.ui.isChanging(this.component.el.sceneEl,this.data.toastEl.object3D.uuid),this.data.toastEl.setAttribute("visible",!0),this.data.toastEl.setAttribute("text-value",this.ui.shorten(this.data.message,85));let e=this;new TWEEN.Tween({x:this.originalPosition.x,y:this.originalPosition.y-.1,z:this.originalPosition.z}).to(this.originalPosition,350).onUpdate(function(){e.data.toastEl.setAttribute("position",this)}).onComplete(()=>{this.closeTween=new TWEEN.Tween({x:.8}).delay(2e3).to({x:1e-4},350).onUpdate(function(){e.data.toastEl.setAttribute("opacity",this.x)}).onComplete(()=>{this.data.toastEl.setAttribute("visible",!1),this.ui.stoppedChanging(this.data.toastEl.object3D.uuid)}).easing(TWEEN.Easing.Exponential.Out).start()}).easing(TWEEN.Easing.Exponential.Out).start(),new TWEEN.Tween({x:1e-4}).to({x:.8},350).onUpdate(function(){e.data.toastEl.setAttribute("opacity",this.x)}).easing(TWEEN.Easing.Exponential.Out).start()})}}s.DEFINITION=new n.ComponentControllerDefinition("ui-toast",{toastEl:{type:"selector"},message:{default:"Hello from toast!"}},!1,!1,(e,t,i)=>new s(e,t,i)),t.Toast=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(4),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i),this.properties=[],this.enums={align:{auto:o.ALIGN_AUTO,"flex-start":o.ALIGN_FLEX_START,center:o.ALIGN_CENTER,"flex-end":o.ALIGN_FLEX_END,stretch:o.ALIGN_STRETCH,baseline:o.ALIGN_BASELINE,"space-between":o.ALIGN_SPACE_BETWEEN,"space-around":o.ALIGN_SPACE_AROUND},dimension:{width:o.DIMENSION_WIDTH,height:o.DIMENSION_HEIGHT},direction:{inherit:o.DIRECTION_INHERIT,ltr:o.DIRECTION_LTR,rtl:o.DIRECTION_RTL},display:{flex:o.DISPLAY_FLEX,none:o.DISPLAY_NONE},edge:{left:o.EDGE_LEFT,top:o.EDGE_TOP,right:o.EDGE_RIGHT,bottom:o.EDGE_BOTTOM,start:o.EDGE_START,end:o.EDGE_END,horizontal:o.EDGE_HORIZONTAL,vertical:o.EDGE_VERTICAL,all:o.EDGE_ALL},experimental:{},flexDirection:{column:o.FLEX_DIRECTION_COLUMN,"column-reverse":o.FLEX_DIRECTION_COLUMN_REVERSE,row:o.FLEX_DIRECTION_ROW,reverse:o.FLEX_DIRECTION_ROW_REVERSE},justifyContent:{start:o.JUSTIFY_FLEX_START,center:o.JUSTIFY_CENTER,end:o.JUSTIFY_FLEX_END,between:o.JUSTIFY_SPACE_BETWEEN,around:o.JUSTIFY_SPACE_AROUND,evenly:o.JUSTIFY_SPACE_EVENLY},logLevel:{},measureMode:{undefined:o.MEASURE_MODE_UNDEFINED,exactly:o.MEASURE_MODE_EXACTLY,"at-most":o.MEASURE_MODE_AT_MOST},nodeType:{default:o.NODE_TYPE_DEFAULT,text:o.NODE_TYPE_TEXT},overflow:{visible:o.OVERFLOW_VISIBLE,hidden:o.OVERFLOW_HIDDEN,scroll:o.OVERFLOW_SCROLL},positionType:{relative:o.POSITION_TYPE_RELATIVE,absolute:o.POSITION_TYPE_ABSOLUTE},printOptions:{},unit:{undefined:o.UNIT_UNDEFINED,point:o.UNIT_POINT,percent:o.UNIT_PERCENT,auto:o.UNIT_AUTO},flexWrap:{"no-wrap":o.WRAP_NO_WRAP,wrap:o.WRAP_WRAP,"wrap-reverse":o.WRAP_WRAP_REVERSE}}}init(){this.component.el.getYogaProperties=this.getProperties.bind(this),this.setProperties()}setProperties(){this.properties=this.properties||[],this.properties.length=0;for(let e in this.data)if(this.data.hasOwnProperty(e)&&"default"!==this.data[e]&&this.data[e]){this.mapPropertyToEnum(e)&&this.properties.push({method:"set"+e.charAt(0).toUpperCase()+e.substr(1),value:this.mapPropertyToEnum(e)})}}getProperties(){let e={};for(let t=0;t<this.properties.length;t++)e[this.properties[t].method]=this.properties[t];return e}mapPropertyToEnum(e){switch(!0){case e.indexOf("align")>-1:return this.enums.align[this.data[e]];case e.indexOf("Edge")>-1:return this.enums.edge[this.data[e]];case"flexDirection"===e:case"flexWrap"===e:case"positionType"===e:case"overflow"===e:case"display"===e:case"justifyContent"===e:return this.enums[e][this.data[e]];default:return this.data[e]}}}a.DEFINITION=new n.ComponentControllerDefinition("ui-yoga",{alignContent:{default:"flex-start"},alignItems:{default:"auto"},alignSelf:{default:"auto"},display:{default:"default"},flex:{type:"number",default:1},flexDirection:{default:"row"},flexWrap:{default:"default"},aspectRatio:{default:"default"},overflow:{default:"default"},justifyContent:{default:"start"},border:{type:"int",default:0},borderLeft:{type:"int",default:0},borderRight:{type:"int",default:0},borderTop:{type:"int",default:0},borderBottom:{type:"int",default:0},padding:{type:"int",default:0},paddingLeft:{type:"int",default:0},paddingRight:{type:"int",default:0},paddingTop:{type:"int",default:0},paddingBottom:{type:"int",default:0},margin:{type:"int",default:0},marginLeft:{type:"int",default:0},marginRight:{type:"int",default:0},marginTop:{type:"int",default:0},marginBottom:{type:"int",default:0},marginAuto:{type:"boolean",default:!1},marginAutoLeft:{type:"boolean",default:!1},marginAutoRight:{type:"boolean",default:!1},marginAutoTop:{type:"boolean",default:!1},marginAutoBottom:{type:"boolean",default:!1},marginPercent:{type:"number",default:0},marginPercentLeft:{type:"int",default:0},marginPercentRight:{type:"int",default:0},marginPercentTop:{type:"int",default:0},marginPercentBottom:{type:"int",default:0},flexBasis:{default:"default"},flexBasisPercent:{type:"number",default:0},flexGrow:{type:"number",default:0},flexShrink:{type:"number",default:1},maxHeight:{default:"default"},minHeight:{default:"default"},maxWidth:{default:"default"},minWidth:{default:"default"},maxHeightPercent:{default:"default"},minHeightPercent:{default:"default"},maxWidthPercent:{default:"default"},minWidthPercent:{default:"default"},position:{default:"default"},positionLeft:{type:"int",default:0},positionRight:{type:"int",default:0},positionTop:{type:"int",default:0},positionBottom:{type:"int",default:0},positionPercent:{default:"default"},positionPercentLeft:{type:"int",default:0},positionPercentRight:{type:"int",default:0},positionPercentTop:{type:"int",default:0},positionPercentBottom:{type:"int",default:0},width:{default:"default"},height:{default:"default"},widthAuto:{type:"boolean",default:!1},heightAuto:{type:"boolean",default:!1},widthPercent:{default:"default"},heightPercent:{default:"default"}},!1,!1,(e,t,i)=>new a(e,t,i)),t.Yoga=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0),o=i(3),s=i(1);class a extends s.UiElement{constructor(e,t,i){super(e,t,i),this.meshEl=void 0,this.backdrop=void 0,this.lookControlsEl=void 0,this.camera=void 0,this.renderTarget=void 0,this.stoppedRendering=!1,this.isRendering=!1,this.raycaster=void 0,this.helper=void 0,this.lastRenderTime=0,this.isFrozen=!1,this.isReady=!1,this.lastMouseMoveTime=0,this.isAnimatingBackground=!1,this.click=(e=>{}),this.mousedown=(e=>{}),this.mouseup=(e=>{}),this.mousewheel=(e=>{}),this.mousemove=(e=>{}),this.lastMoveEvent=void 0,this.prevIntersectionEls=void 0,this.renderTween=void 0,this.meshTextureSet=!1}init(){this.setupBackDrop(),this.data.uiPanel?this.meshEl=this.data.uiPanel:this.meshEl=this.setupUIPanel(),this.component.el.object3D.parent.remove(this.component.el.object3D),this.camera=new o.OrthographicCamera(-1.5,1.5,.75,-.75,-2,2),this.renderTarget=new o.WebGLRenderTarget(this.data.renderResolution.x,this.data.renderResolution.y),this.stoppedRendering=!1,this.isRendering=!0,this.component.el.sceneEl.addEventListener("ui-changing",()=>{this.stoppedRendering=!1,this.isRendering=!0}),this.component.el.sceneEl.addEventListener("ui-changing-stopped",()=>{this.isRendering=!1}),this.raycaster=new o.Raycaster,this.helper=new o.Mesh(new o.SphereGeometry(.01),new o.MeshBasicMaterial({color:"#ff0000"})),this.data.debugRaycaster&&this.component.el.object3D.add(this.helper),this.lastRenderTime=0,this.isFrozen=!1,this.component.el.pauseRender=this.pauseRender.bind(this),this.component.el.playRender=this.playRender.bind(this),this.isReady=!1,setTimeout(()=>{this.isReady=!0,this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),setTimeout(()=>{this.ui.stoppedChanging(this.component.el.object3D.uuid)},250)},this.data.initDelay)}tick(e,t){if(this.meshTextureSet||(this.meshEl.getObject3D("mesh").material.map=this.renderTarget.texture,this.meshEl.getObject3D("mesh").material.transparent=!0,this.meshEl.emit("texture-ready",this.renderTarget.texture),this.meshTextureSet=!0),this.isFrozen||this.stoppedRendering||!this.isReady)return;if(e-this.lastRenderTime<1e3/this.data.fps&&this.isRendering)return;this.component.el.object3D.traverse(e=>{e.updateMatrixWorld()});let i=this.component.el.sceneEl.renderer,n=i.vr.enabled;i.vr.enabled=!1;let o=i.getClearAlpha(),s=i.getClearColor();i.setClearColor(this.data.panelColor,this.data.panelAlpha),i.render(this.component.el.object3D,this.camera,this.renderTarget),i.setClearColor(s),i.setClearAlpha(o),i.vr.enabled=n,this.lastRenderTime=e,this.isRendering||(this.stoppedRendering=!0)}pause(){this.meshEl.removeEventListener("mousedown",this.mousedown),this.meshEl.removeEventListener("mouseup",this.mouseup),this.meshEl.removeEventListener("click",this.click),this.meshEl.removeEventListener("ui-mousemove",this.mousemove),this.meshEl.removeEventListener("ui-mousewheel",this.mousewheel)}play(){this.lastMouseMoveTime=0,this.click=(e=>this.mouseEvent("click",this.lastMoveEvent||e)),this.mousedown=(e=>this.mouseEvent("mousedown",this.lastMoveEvent||e)),this.mouseup=(e=>this.mouseEvent("mouseup",this.lastMoveEvent||e)),this.mousewheel=(e=>this.mouseEvent("ui-mousewheel",e.detail.evt)),this.mousemove=(e=>{this.lastMoveEvent=e,this.mouseEvent("ui-mousemove",e)}),this.meshEl.addEventListener("mousedown",this.mousedown),this.meshEl.addEventListener("mouseup",this.mouseup),this.meshEl.addEventListener("click",this.click),this.meshEl.addEventListener("ui-mousemove",this.mousemove),this.meshEl.addEventListener("ui-mousewheel",this.mousewheel)}pauseRender(e){return this.playRender(e,!0)}playRender(e,t){let i=this;return new Promise(n=>{if(i.isFrozen===t||i.isAnimatingBackground)return n();i.isAnimatingBackground=!0,i.isFrozen||this.backdrop.setAttribute("scale","1 1 1");let o=i.isFrozen?.9:1e-6,s=i.isFrozen?1e-6:.9,a=i.isFrozen?e||350:e||500;i.isFrozen&&(i.isFrozen=t,i.play()),this.ui.isChanging(i.component.el.sceneEl,i.backdrop.uuid),i.renderTween&&i.renderTween.stop(),i.renderTween=new TWEEN.Tween({x:o}).to({x:s},a).onUpdate(function(){i.backdrop.setAttribute("opacity",this.x)}).onComplete(()=>{i.isFrozen=t,i.isAnimatingBackground=!1,i.isFrozen?i.pause():this.backdrop.setAttribute("scale","0.000001 0.000001 0.000001"),this.ui.stoppedChanging(this.backdrop.uuid),n()}).easing(TWEEN.Easing.Exponential.Out).start()})}setupBackDrop(){this.backdrop=document.createElement("a-plane"),this.backdrop.setAttribute("transparent",!0),this.backdrop.setAttribute("opacity",1e-6),this.backdrop.setAttribute("color","#000"),this.backdrop.setAttribute("shader","flat"),this.backdrop.setAttribute("position",{x:0,y:0,z:-.2}),this.backdrop.setAttribute("width",1),this.backdrop.setAttribute("height",1),this.backdrop.setAttribute("scale","0.000001 0.000001 0.000001"),this.component.el.appendChild(this.backdrop)}setupUIPanel(){let e=document.createElement("a-plane");return e.setAttribute("side","double"),e.setAttribute("color",this.data.panelColor),e.setAttribute("shader","flat"),e.setAttribute("class","intersect"),e.setAttribute("position",this.data.panelPosition),e.setAttribute("width",this.data.panelSize.x),e.setAttribute("height",this.data.panelSize.y),this.data.panelDepth&&e.setAttribute("ui-curved-plane","depth: "+this.data.panelDepth+";"),this.component.el.parentElement.appendChild(e),e}mouseEvent(e,t){let i={x:0,y:0};if(t.detail&&t.detail.intersection){let e=this.meshEl.object3D.worldToLocal(t.detail.intersection.point.clone());i={x:e.x/this.meshEl.getAttribute("width")*2,y:e.y/this.meshEl.getAttribute("height")*2}}"ui-mousewheel"===e&&(t.detail||t.deltaX||t.deltaY)&&(i.deltaX=t.detail?t.detail.deltaX:t.deltaX,i.deltaY=t.detail?t.detail.deltaY:t.deltaY),"mousedown"===e&&this.lookControlsEl&&this.lookControlsEl.components["look-controls"]&&this.lookControlsEl.components[this.data.lookControlsComponent].pause(),"mouseup"===e&&this.lookControlsEl&&this.lookControlsEl.components["look-controls"]&&this.lookControlsEl.components[this.data.lookControlsComponent].play(),this.raycastIntersections(t,i,e)}raycastIntersections(e,t,i){if(!this.camera||this.isFrozen||this.isAnimatingBackground)return;this.raycaster.setFromCamera(t,this.camera);let n=this.raycaster.intersectObjects(this.component.el.object3D.children,!0);this.prevIntersectionEls=this.prevIntersectionEls||[];let o=new Array;if(n.length&&this.data.debugRaycaster){let e=n[0].point;n[0].object===this.helper&&n.length>1&&(e=n[1].point),this.helper.position.copy(e),this.helper.position.x-=.03}let s=!1;for(let t=0;t<n.length;t++){let a=n[t];if(a.object.el&&a.object.el.classList.contains(this.data.intersectableClass)){let t={intersection:a,evt:e,preventDefault:()=>{s=!0}};-1!==this.prevIntersectionEls.indexOf(a.object.el)||s||a.object.el.emit("mouseenter",t),s&&"ui-mousewheel"!==i||a.object.el.emit(i,t),a.object.el.intersection=a,o.push(a.object.el)}}for(let e=0;e<this.prevIntersectionEls.length;e++){let t=this.prevIntersectionEls[e];-1===o.indexOf(t)&&t.emit("mouseleave",{intersection:t.intersection})}this.prevIntersectionEls=o}}a.DEFINITION=new n.ComponentControllerDefinition("ui",{uiPanel:{type:"selector"},lookControlsEl:{type:"selector"},lookControlsComponent:{default:"look-controls"},panelPosition:{type:"vec3",default:{x:0,y:1.6,z:-1}},panelSize:{type:"vec2",default:{x:6,y:3}},panelDepth:{type:"number",default:.03},panelColor:{default:"#ffffff"},panelAlpha:{type:"number",default:1},renderResolution:{type:"vec2",default:{x:2048,y:1024}},debugRaycaster:{type:"boolean",default:!1},fps:{type:"number",default:45},intersectableClass:{default:"intersectable"},debug:{type:"boolean",default:!1},initDelay:{type:"int",default:500}},!1,!0,(e,t,i)=>new a(e,t,i)),t.UI=a},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(o,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function r(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){e.done?o(e.value):new i(function(t){t(e.value)}).then(a,r)}l((n=n.apply(e,t||[])).next())})},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(0),a=i(3),r=i(4),l=o(i(46)),d=i(1);let u={},h=new l.default;h.onmessage=(e=>{u.hasOwnProperty(e.data.uuid)&&u[e.data.uuid](e.data)});let c=(e,t,i,n)=>new Promise(o=>{let s=a.Math.generateUUID();u[s]=o,h.postMessage({type:e,properties:t,uuid:s,parentUuid:i,width:n})});class p extends d.UiElement{constructor(e,t,i){super(e,t,i),this.container=void 0,this.rail=void 0,this.handle=void 0,this.backgroundPanel=void 0,this.content_clips=void 0,this.scrollBarWidth=0,this.isDragging=!1,this.handlePos=0,this.currentUuid="",this.content_height=0,this.handleSize=0}init(){if(this.setupElements(),this.container=this.component.el.querySelector(".container"),void 0===this.container)throw'ui-scroll-pane needs an entity inside it with the class "container" - <a-entity class="container"></a-entity>';this.scrollBarWidth=this.rail.getAttribute("width"),this.container.setAttribute("position",-this.data.width/2+" "+this.data.height/2+" 0"),this.rail.setAttribute("position",this.data.width/2+this.data.scrollPadding+" 0 "+(this.data.scrollZOffset+2e-4)),this.handle.setAttribute("position",this.data.width/2+this.data.scrollPadding+" 0 "+(this.data.scrollZOffset+5e-4)),this.component.el.sceneEl.renderer.localClippingEnabled=!0,this.content_clips=[new a.Plane(new a.Vector3(0,1,0),this.data.height/2),new a.Plane(new a.Vector3(0,-1,0),this.data.height/2),new a.Plane(new a.Vector3(-1,0,0),this.data.width/2),new a.Plane(new a.Vector3(1,0,0),this.data.width/2)];const e=e=>{if(this.data.cameraEl){let t=this.data.cameraEl.components[this.data.lookControlsComponent];t&&t[e]()}},t=e=>this.mouseMove(e);this.handle.addEventListener("mousedown",i=>{e("pause"),this.isDragging=!0,this.handlePos=this.handle.object3D.worldToLocal(i.detail.intersection.point).y,this.backgroundPanel.addEventListener("ui-mousemove",t),this.ui.isChanging(this.component.el.sceneEl,this.handle.object3D.uuid),this.ui.preventDefault(i)});const i=i=>{this.isDragging&&(this.backgroundPanel.removeEventListener("ui-mousemove",t),e("play"),this.isDragging=!1,this.ui.stoppedChanging(this.handle.object3D.uuid),this.ui.preventDefault(i))};this.backgroundPanel.addEventListener("mouseup",i),this.backgroundPanel.addEventListener("mouseleave",i),this.rail.addEventListener("mousedown",e=>{this.ui.isChanging(this.component.el.sceneEl,this.handle.object3D.uuid),this.isDragging=!0,this.handlePos=0,this.scroll(this.rail.object3D.worldToLocal(e.detail.intersection.point).y),this.backgroundPanel.addEventListener("ui-mousemove",t),this.ui.preventDefault(e)}),this.updateContent(),this.component.el.emit("scroll-pane-loaded"),this.setupMouseWheelScroll(),this.component.el.setContent=this.setContent.bind(this),this.component.el.updateContent=this.updateContent.bind(this),this.component.el.scroll=this.scroll.bind(this)}updateContentClips(){this.component.el.sceneEl.object3D.updateMatrixWorld(!1),this.content_clips[0].set(new a.Vector3(0,1,0),this.data.height/2),this.content_clips[1].set(new a.Vector3(0,-1,0),this.data.height/2),this.content_clips[2].set(new a.Vector3(-1,0,0),this.data.width/2),this.content_clips[3].set(new a.Vector3(1,0,0),this.data.width/2),this.content_clips[0].applyMatrix4(this.component.el.object3D.matrixWorld),this.content_clips[1].applyMatrix4(this.component.el.object3D.matrixWorld),this.content_clips[2].applyMatrix4(this.component.el.object3D.matrixWorld),this.content_clips[3].applyMatrix4(this.component.el.object3D.matrixWorld)}setContent(e,t){return n(this,void 0,void 0,function*(){if(this.container){for(;this.container.firstChild;){let e=this.container.firstChild;e.object3D&&this.ui.clearObject(e.object3D),this.container.removeChild(e),this.container.firstChild=null}return new Promise(i=>{let o=document.createElement("a-entity");o.setAttribute("visible",!1),o.insertAdjacentHTML("afterbegin",e),o.addEventListener("loaded",e=>{c("reset-layout",null,this.container.yoga_uuid,void 0).then(()=>n(this,void 0,void 0,function*(){if(o.setAttribute("visible",!0),!t)return this.updateContent()})).then(()=>i(o))}),this.container.appendChild(o)})}})}updateContent(e){return n(this,void 0,void 0,function*(){this.updateContentClips(),this.currentUuid=a.Math.generateUUID(),this.ui.isChanging(this.component.el.sceneEl,this.currentUuid),this.setChildClips(),yield this.initialiseYoga(this.container),yield c("get-layout",null,this.container.yoga_uuid,void 0).then(t=>{this.content_height=t.data.content_height/100,this.updateYoga(this.container,t.data),this.handleSize=a.Math.clamp(this.data.height/this.content_height,.1,1),this.handle.setAttribute("visible",1!==this.handleSize),this.rail.setAttribute("visible",1!==this.handleSize),this.rail.setAttribute("color",1===this.handleSize?"#efefef":"#fff"),this.handle.setAttribute("height",this.data.height*this.handleSize),e||(this.container.object3D.position.y=this.data.height/2,this.handle.setAttribute("position",this.data.width/2+this.data.scrollPadding+" "+(this.data.height-this.data.height*this.handleSize)/2+" "+(this.data.scrollZOffset+5e-4))),setTimeout(()=>this.ui.stoppedChanging(this.currentUuid),3e3)})})}mouseMove(e){if(this.isDragging){let t=this.rail.object3D.worldToLocal(e.detail.intersection.point);this.scroll(t.y-this.handlePos)}}scroll(e){let t=-this.data.height/2+this.data.height*this.handleSize/2,i=this.data.height/2-this.data.height*this.handleSize/2,n=a.Math.clamp(e,t,i),o=1===this.handleSize?0:1-(n-t)/(i-t);this.container.object3D.position.y=(this.content_height-this.data.height)*o+this.data.height/2,this.handle.setAttribute("position",this.data.width/2+this.data.scrollPadding+" "+n+" "+(this.data.scrollZOffset+5e-4))}setupMouseWheelScroll(){this.backgroundPanel.addEventListener("ui-mousewheel",e=>{1!==this.handleSize&&(this.ui.isChanging(this.component.el.sceneEl,this.component.el.object3D.uuid),this.scroll(this.handle.getAttribute("position").y+(e.detail.evt.deltaY<0?.1:-.1)),this.ui.stoppedChanging(this.component.el.object3D.uuid),this.ui.preventDefault(e))})}setupElements(){this.backgroundPanel=document.createElement("a-plane"),this.backgroundPanel.setAttribute("class","background "+this.data.intersectableClass),this.backgroundPanel.setAttribute("width",this.data.width+1),this.backgroundPanel.setAttribute("height",this.data.height+1),this.backgroundPanel.setAttribute("position","0 0 -0.013"),this.backgroundPanel.setAttribute("opacity",1e-4),this.backgroundPanel.setAttribute("transparent",!0),this.component.el.appendChild(this.backgroundPanel),this.rail=document.createElement("a-plane"),this.rail.setAttribute("class","rail "+this.data.intersectableClass),this.rail.setAttribute("width",.1),this.rail.setAttribute("height",this.data.height),this.rail.setAttribute("shader","flat"),this.component.el.appendChild(this.rail),this.handle=document.createElement("a-plane"),this.handle.setAttribute("class","handle "+this.data.intersectableClass),this.handle.setAttribute("width",.1),this.handle.setAttribute("height",this.data.height),this.handle.setAttribute("color",this.data.scrollHandleColor),this.handle.setAttribute("shader","flat"),this.component.el.appendChild(this.handle)}initialiseYoga(e){return n(this,void 0,void 0,function*(){let t=0,i=0,n=(e=e||this.container).getAttribute("geometry");switch(e.tagName){case"A-TEXT":case"A-TRIANGLE":case"A-UI-TEXT-INPUT":case"A-UI-NUMBER-INPUT":case"A-UI-INT-INPUT":case"A-UI-INPUT-TEXT":case"A-UI-PASSWORD-INPUT":t=e.getAttribute("width"),i=e.getAttribute("height");break;case"A-UI-BUTTON":case"A-PLANE":case"A-ENTITY":t=Number(n?n.width:e.getAttribute("width")),i=Number(n?n.height:e.getAttribute("height"));break;case"A-UI-FAB-BUTTON":case"A-UI-FAB-BUTTON-SMALL":case"A-CIRCLE":i=t=Number(n?2*n.radius:2*(e.getAttribute("radius")||0));break;case"A-RING":i=t=Number(n?2*n["radius-outer"]:2*(e.getAttribute("radius-outer")||0));break;case"A-UI-SLIDER":case"A-UI-NUMBER":case"A-UI-SWITCH":case"A-UI-CHECKBOX":case"A-UI-RADIO":let o=e.tagName.substr(2).toLowerCase();t=e.getAttribute(o).width,i=e.getAttribute(o).height}let o,s={};e.getAttribute("ui-yoga")&&e.getYogaProperties?s=e.getYogaProperties():(s.setJustifyContent=r.JUSTIFY_FLEX_START,s.setFlexDirection=r.FLEX_DIRECTION_ROW,s.setAlignContent=r.ALIGN_AUTO,s.setFlexWrap=r.WRAP_WRAP,e.parentElement&&e.parentElement.yoga_uuid?(s.setMarginRight=5,s.setMarginBottom=5):s.setPadding=2),s.hasOwnProperty("setWidth")||(s.setWidth=t?100*t:"auto"),s.hasOwnProperty("setHeight")||(s.setHeight=i?100*i:"auto"),yield(o=e.parentElement&&e.parentElement.yoga_uuid?c("add-node",s,e.parentElement.yoga_uuid,void 0):c("add-node",s,null,100*this.data.width)).then(t=>{e.yoga_uuid=t.uuid;let i=new Array;for(let t=0;t<e.childNodes.length;t++){let n=e.childNodes[t];1===n.nodeType&&(n.classList.contains("no-yoga-layout")||i.push(this.initialiseYoga(n)))}return Promise.all(i)})})}updateYoga(e,t){for(let i=0;i<e.childNodes.length;i++){let n=e.childNodes[i];if(1===n.nodeType){if(n.classList.contains("no-yoga-layout"))return;let e;t[n.yoga_uuid]||console.log(n,t),e="A-ENTITY"===n.tagName?{x:t[n.yoga_uuid].left/100,y:t[n.yoga_uuid].top/100}:{x:t[n.yoga_uuid].left/100+t[n.yoga_uuid].width/200,y:t[n.yoga_uuid].top/100+t[n.yoga_uuid].height/200},n.setAttribute("position",e.x+" "+-e.y+" 0.0001")}this.updateYoga(n,t)}}setChildClips(e){e=e||this.container;for(let t=0;t<e.childNodes.length;t++){let i=e.childNodes[t];i._content_clips=this.content_clips;let n=()=>{i.object3D&&i.object3D.traverse(e=>{e.material&&(e.material.isRawShaderMaterial&&(e.material.onBeforeCompile=function(e){let t=e.vertexShader.split("\n"),i=t.indexOf("void main(void) {");t.splice(i,0,"#include <clipping_planes_pars_vertex>"),t.splice(i+2,0,"#include <begin_vertex>"),t.splice(t.length-2,0,"#include <project_vertex>"),t.splice(t.length-2,0,"#include <clipping_planes_vertex>"),e.vertexShader=t.join("\n");let n=e.fragmentShader.split("\n"),o=n.indexOf("void main() {");n.splice(o,0,"#include <clipping_planes_pars_fragment>"),n.splice(o+2,0,"#include <clipping_planes_fragment>"),e.fragmentShader=n.join("\n")},e.material.clipping=!0),e.material.clippingPlanes=this.content_clips,e.material.clipShadows=!0,e.material.needsUpdate=!0)})};setTimeout(()=>{if(i.getAttribute){i.getAttribute("text")?i.addEventListener("textfontset",()=>{clearTimeout(this.fontRenderTimeout),this.fontRenderTimeout=setTimeout(()=>this.ui.stoppedChanging(this.currentUuid),500),n()}):n()}},0),this.setChildClips(i)}}}p.DEFINITION=new s.ComponentControllerDefinition("ui-scroll-pane",{height:{type:"number",default:1.2},width:{type:"number",default:2.9},scrollPadding:{type:"number",default:.05},scrollZOffset:{type:"number",default:0},scrollHandleColor:{default:"#009688"},intersectableClass:{default:"intersectable"},cameraEl:{type:"selector"},lookControlsComponent:{default:"look-controls"}},!1,!1,(e,t,i)=>new p(e,t,i)),t.ScrollPane=p},function(e,t,i){e.exports=function(){return new Worker(i.p+"fdce17306c333838bdcb.worker.js")}}]);
//# sourceMappingURL=aframe-material-collection.min.js.map